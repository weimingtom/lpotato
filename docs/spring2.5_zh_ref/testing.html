<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Chapter&nbsp;8.&nbsp;&#27979;&#35797;</title><link rel="stylesheet" href="html.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.60.1"><link rel="home" href="index.html" title="Spring Framework &#24320;&#21457;&#21442;&#32771;&#25163;&#20876;"><link rel="up" href="spring-core.html" title="Part&nbsp;I.&nbsp;&#26680;&#24515;&#25216;&#26415;"><link rel="previous" href="aop-api.html" title="Chapter&nbsp;7.&nbsp;Spring AOP APIs"><link rel="next" href="spring-middle-tier.html" title="Part&nbsp;II.&nbsp;&#20013;&#38388;&#23618;&#25968;&#25454;&#35775;&#38382;"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div xmlns="http://www.w3.org/TR/xhtml1/transitional" style="background-color:white;border:none;height:73px;border:1px solid black;"><a style="border:none;" href="http://www.springframework.org/" title="The Spring Framework"><img style="border:none;" src="images/xdev-spring_logo.jpg"></a><a style="border:none;" href="http://www.springsource.com/" title="SpringSource"><img style="border:none;position:absolute;padding-top:5px;right:42px;" src="images/springsource-banner-rhs.png"></a></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="testing"></a>Chapter&nbsp;8.&nbsp;&#27979;&#35797;</h2></div></div><div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="testing-introduction"></a>8.1.&nbsp;&#31616;&#20171;</h2></div></div><div></div></div><p>Spring&#22242;&#38431;&#35748;&#20026;&#27979;&#35797;&#26159;&#25972;&#20010;&#20225;&#19994;&#36719;&#20214;&#24320;&#21457;&#24517;&#19981;&#21487;&#23569;&#30340;&#19968;&#37096;&#20998;&#12290;&#26377;&#20851;&#20225;&#19994;&#36719;&#20214;&#27979;&#35797;&#30340;&#35814;&#32454;&#35752;&#35770;&#24050;&#32463;&#36229;&#20986;&#20102;&#26412;&#31456;&#30340;&#33539;&#22260;&#65292;&#36825;&#37324;&#20027;&#35201;&#20851;&#27880;&#37319;&#29992;IoC&#21407;&#21017;&#32473;<a href="testing.html#unit-testing" title="8.2.&nbsp;&#21333;&#20803;&#27979;&#35797;">&#21333;&#20803;&#27979;&#35797;</a>&#24102;&#26469;&#30340;&#20215;&#20540;&#20197;&#21450;Spring&#26694;&#26550;&#22312;<a href="testing.html#integration-testing" title="8.3.&nbsp;&#38598;&#25104;&#27979;&#35797;">&#38598;&#25104;&#27979;&#35797;</a>&#20013;&#24102;&#26469;&#30340;&#20999;&#23454;&#22909;&#22788;&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="unit-testing"></a>8.2.&nbsp;&#21333;&#20803;&#27979;&#35797;</h2></div></div><div></div></div><p>&#37319;&#29992;&#20381;&#36182;&#27880;&#23556;&#30340;&#19968;&#20010;&#20027;&#35201;&#22909;&#22788;&#26159;&#20320;&#30340;&#20195;&#30721;&#23545;&#23481;&#22120;&#30340;&#20381;&#36182;&#23558;&#27604;&#20256;&#32479;J2EE&#24320;&#21457;&#23567;&#30340;&#22810;&#12290;<span class="emphasis"><em>&#26080;&#38656;Spring&#25110;&#20219;&#20309;&#20854;&#20182;&#23481;&#22120;</em></span>&#65292;&#21482;&#35201;&#31616;&#21333;&#22320;&#36890;&#36807; <tt class="literal">new</tt> &#25805;&#20316;&#31526;&#21363;&#21487;&#23454;&#20363;&#21270;&#23545;&#35937;&#65292;&#36890;&#36807;&#36825;&#31181;&#26041;&#24335;,&#32452;&#25104;&#20320;&#24212;&#29992;&#30340;POJO&#23545;&#35937;&#23601;&#21487;&#20197;&#20351;&#29992;JUnit&#25110;TestNG&#36827;&#34892;&#27979;&#35797;&#20102;&#12290;&#20320;&#21487;&#20197;&#20351;&#29992;<a href="testing.html#mock-objects" title="8.2.1.&nbsp;Mock&#23545;&#35937;">Mock&#23545;&#35937;</a>(&#25110;&#32773;&#20854;&#20182;&#24456;&#22810;&#26377;&#20215;&#20540;&#30340;&#27979;&#35797;&#25216;&#26415;&#26469;&#36827;&#34892;&#38548;&#31163;&#27979;&#35797;)&#12290;&#22914;&#26524;&#20320;&#30340;&#24212;&#29992;&#22312;&#26550;&#26500;&#19978;&#36981;&#24490;&#20102;Spring&#30340;&#24314;&#35758;&#65292;&#37027;&#20040;&#20320;&#30340;&#20195;&#30721;&#23558;&#20250;&#26377;&#28165;&#26224;&#30340;&#23618;&#27425;&#21644;&#39640;&#24230;&#30340;&#27169;&#22359;&#21270;&#65292;&#36825;&#20123;&#37117;&#23558;&#22823;&#22823;<span class="emphasis"><em>&#26041;&#20415;</em></span>&#21333;&#20803;&#27979;&#35797;&#12290;&#20363;&#22914;&#65292;&#22312;&#21333;&#20803;&#27979;&#35797;&#20013;&#20320;&#21487;&#20197;&#36890;&#36807;stub(&#21344;&#20301;)&#25110;&#32773;mock(&#27169;&#20223;)DAO&#25110;&#32773;Repository(&#24211;)&#25509;&#21475;&#30340;&#26041;&#24335;&#65292;&#26469;&#27979;&#35797;&#26381;&#21153;&#23618;&#23545;&#35937;&#65292;&#32780;&#26080;&#38656;&#35775;&#38382;&#25345;&#20037;&#21270;&#25968;&#25454;&#12290;</p><p>&#30495;&#27491;&#30340;&#21333;&#20803;&#27979;&#35797;&#36816;&#34892;&#36215;&#26469;&#36890;&#24120;&#37117;&#38750;&#24120;&#36805;&#36895;&#65292;&#22240;&#20026;&#27809;&#26377;&#24212;&#29992;&#26381;&#21153;&#22120;&#65292;&#25968;&#25454;&#24211;&#65292;ORM&#24037;&#20855;&#31561;&#36816;&#34892;&#35774;&#26045;&#38656;&#35201;&#35774;&#32622;&#12290;&#22240;&#27492;&#22312;&#20320;&#30340;&#24320;&#21457;&#26041;&#27861;&#35770;&#20013;&#65292;&#27491;&#30830;&#23545;&#24453;&#21333;&#20803;&#27979;&#35797;&#21487;&#20197;&#22823;&#22823;&#25552;&#39640;&#20320;&#30340;&#29983;&#20135;&#21147;&#12290;&#22914;&#26524;&#20320;&#26377;&#19968;&#20123;&#22522;&#20110;IoC&#30340;&#24212;&#29992;&#65292;&#37027;&#36890;&#24120;&#24182;&#19981;&#38656;&#35201;&#19987;&#38376;&#30340;&#19968;&#31456;&#8220;&#27979;&#35797;&#8221;&#26469;&#24110;&#21161;&#20320;&#32534;&#20889;&#26377;&#25928;&#30340; <span class="emphasis"><em>&#21333;&#20803;</em></span> &#27979;&#35797;&#12290;&#20294;&#20026;&#20102;&#19968;&#20123;&#29305;&#23450;&#30340;&#21333;&#20803;&#27979;&#35797;&#22330;&#26223;&#65292;Spring&#26694;&#26550;&#25552;&#20379;&#20102;&#22914;&#19979;mock&#23545;&#35937;&#21644;&#27979;&#35797;&#25903;&#25345;&#31867;&#65306;</p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="mock-objects"></a>8.2.1.&nbsp;Mock&#23545;&#35937;</h3></div></div><div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="mock-objects-jndi"></a>8.2.1.1.&nbsp;JNDI</h4></div></div><div></div></div><p><tt class="literal">org.springframework.mock.jndi</tt> &#21253;&#37324;&#26377;&#19968;&#20010;JNDI SPI&#30340;&#23454;&#29616;&#65292;&#23427;&#21487;&#20197;&#29992;&#26469;&#25645;&#24314;&#19968;&#20010;&#20026;&#27979;&#35797;&#22871;&#20214;&#25110;&#21333;&#26426;&#24212;&#29992;&#25152;&#20351;&#29992;&#30340;&#31616;&#21333;JNDI&#29615;&#22659;&#12290;&#20363;&#22914;&#65292;&#19982;&#30456;&#21516;&#30340;JNDI&#21517;&#31216;&#32465;&#23450;&#30340;&#27979;&#35797;&#20195;&#30721;&#20013;&#30340;<font color="red">&lt;font&gt;&lt;/font&gt;</font>JDBC <tt class="classname">DataSource</tt>&#65292;&#23601;&#20687;&#22312;J2EE&#23481;&#22120;&#20013;&#19968;&#26679;&#65292;&#24212;&#29992;&#20195;&#30721;&#21644;&#37197;&#32622;&#37117;&#21487;&#20197;&#26080;&#38656;&#20462;&#25913;&#22312;&#27979;&#35797;&#22330;&#26223;&#37325;&#29992;&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="mock-objects-servlet"></a>8.2.1.2.&nbsp;Servlet API</h4></div></div><div></div></div><p><tt class="literal">org.springframework.mock.web</tt> &#21253;&#26377;&#19968;&#32452;Servlet API &#30340;&#24456;&#35814;&#23613;&#30340;mock&#23545;&#35937;&#65292;&#20027;&#35201;&#38754;&#21521;Spring Web MVC &#26694;&#26550;&#65292;&#33021;&#26041;&#20415;&#30340;&#27979;&#35797;web&#19978;&#19979;&#25991;&#21644;&#25511;&#21046;&#22120;&#12290;&#36825;&#20123;mock&#23545;&#35937;&#36890;&#24120;&#27604;&#20351;&#29992;&#21160;&#24577;mock&#23545;&#35937;&#26356;&#26041;&#20415;&#65288;&#20363;&#22914; <a href="http://www.easymock.org" target="_top">EasyMock</a>) &#25110;&#24050;&#26377;&#30340;Servlet API mock&#23545;&#35937;(&#22914; <a href="http://www.mockobjects.com" target="_top">MockObjects</a>).</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="mock-objects-portlet"></a>8.2.1.3.&nbsp;Portlet API</h4></div></div><div></div></div><p><tt class="literal">org.springframework.mock.web.portlet</tt>&#21253;&#26377;&#19968;&#32452;Portlet API mock&#23545;&#35937;&#65292;&#38754;&#21521;Spring Portlet MVC&#26694;&#26550;&#12290;</p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="unit-testing-support-classes"></a>8.2.2.&nbsp;&#21333;&#20803;&#27979;&#35797;&#25903;&#25345;&#31867;</h3></div></div><div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="unit-testing-utilities"></a>8.2.2.1.&nbsp;&#36890;&#29992;&#24037;&#20855;&#31867;</h4></div></div><div></div></div><p><tt class="literal">org.springframework.test.util</tt>&#21253;&#20869;&#26377;<tt class="classname">ReflectionTestUtils</tt>&#12290;
        &#23427;&#26159;&#22522;&#20110;&#21453;&#23556;&#30340;&#24037;&#20855;&#26041;&#27861;&#38598;&#65292;&#29992;&#22312;&#21333;&#20803;&#27979;&#35797;&#21644;&#38598;&#25104;&#27979;&#35797;&#22330;&#26223;&#20013;&#12290;&#24320;&#21457;&#32773;&#21487;&#20197;&#22312;&#27979;&#35797;&#24212;&#29992;&#20195;&#30721;&#26102;&#65292;&#35774;&#32622;&#38750;<tt class="literal">public</tt>
        &#30340;&#23383;&#27573;&#25110;&#32773;&#35843;&#29992;&#38750;<tt class="literal">public</tt>&#30340; setter&#26041;&#27861;&#65292;&#20363;&#22914;&#65306;</p><div class="itemizedlist"><ul type="disc"><li><p>ORM&#26694;&#26550;&#22914;JPA&#21644;Hibernate&#33021;&#22815;&#20351;&#29992; <tt class="literal">public</tt> Setter&#26041;&#27861;&#35775;&#38382;<tt class="literal">private</tt>&#25110;<tt class="literal">protected</tt>&#23383;&#27573;&#20197;&#33719;&#24471;&#19968;&#20010;&#22495;&#23454;&#20363;&#30340;&#23646;&#24615;</p></li><li><p>Spring&#25903;&#25345;&#22914;<tt class="interfacename">@Autowired</tt>&#21644;<tt class="interfacename">@Resource</tt>&#27880;&#35299;&#26469;&#25552;&#20379;<tt class="literal">private</tt>&#25110;<tt class="literal">protected</tt>&#23383;&#27573;&#12289;setter&#26041;&#27861;&#21644;&#37197;&#32622;&#26041;&#27861;&#30340;&#20381;&#36182;&#27880;&#20837;</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="unit-testing-spring-mvc"></a>8.2.2.2.&nbsp;Spring MVC</h4></div></div><div></div></div><p><tt class="literal">org.springframework.test.web</tt>&#21253;&#21547;&#26377;<tt class="classname">AbstractModelAndViewTests</tt>&#31867;&#65292;&#23427;&#21487;&#20197;&#20316;&#20026;&#22522;&#20110;JUnit 3.8&#30340;&#21333;&#20803;&#27979;&#35797;&#22522;&#31867;&#26469;&#22788;&#29702;Spring MVC <tt class="classname">ModelAndView</tt>&#23545;&#35937;&#12290;&#24403;&#22522;&#20110;Java 1.4 &#25110;&#26356;&#39640;&#30340;&#29256;&#26412;&#65288;&#20363;&#22914;&#19982;JUnit 4+, TestNG&#31561;&#32465;&#23450;&#65289;&#26102;&#65292;&#20320;&#21487;&#20197;&#36873;&#25321;&#20351;&#29992;<tt class="classname">ModelAndViewAssert</tt>&#31867;&#65288;&#22312;&#30456;&#21516;&#21253;&#20013;&#65289;&#26469;&#27979;&#35797; <tt class="classname">ModelAndView</tt>&#30456;&#20851;&#21151;&#33021;&#12290;</p><p>&#25552;&#31034;: &#26681;&#25454;&#20320;&#30340;&#27979;&#35797;&#29615;&#22659;&#65292;&#21487;&#20197;&#25193;&#23637;
        <tt class="classname">AbstractModelAndViewTests</tt>&#25110;&#30452;&#25509;&#20351;&#29992;
        <tt class="classname">ModelAndViewAssert</tt>&#65292;&#28982;&#21518;&#20351;&#29992;
        <tt class="literal">MockHttpServletRequest</tt>,
        <tt class="literal">MockHttpSession</tt>&#31561;&#12290;&#36825;&#20123;&#31867;&#22312;<a href="testing.html#mock-objects-servlet" title="8.2.1.2.&nbsp;Servlet API"><tt class="literal">org.springframework.mock.web</tt></a>
        &#21253;&#20013;&#65292;&#29992;&#26469;&#27979;&#35797;Spring MVC <tt class="literal">Controller</tt>.</p></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="integration-testing"></a>8.3.&nbsp;&#38598;&#25104;&#27979;&#35797;</h2></div></div><div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="integration-testing-overview"></a>8.3.1.&nbsp;&#27010;&#35272;</h3></div></div><div></div></div><p>&#33021;&#22815;&#26080;&#38656;&#37096;&#32626;&#21040;&#20320;&#30340;&#24212;&#29992;&#26381;&#21153;&#22120;&#19978;&#25110;&#36830;&#25509;&#20854;&#23427;&#20225;&#19994;&#26550;&#26500;&#23601;&#23454;&#29616;&#38598;&#25104;&#27979;&#35797;&#26159;&#38750;&#24120;&#37325;&#35201;&#30340;&#12290;&#36825;&#21487;&#20197;&#35753;&#20320;&#26469;&#36827;&#34892;&#20197;&#19979;&#27979;&#35797;&#65306;</p><div class="itemizedlist"><ul type="disc"><li><p>&#27491;&#30830;&#37197;&#32622;Spring IoC &#23481;&#22120;&#19978;&#19979;&#25991;&#12290;</p></li><li><p>&#20351;&#29992;JDBC&#25110;ORM&#24037;&#20855;&#30340;&#25968;&#25454;&#35775;&#38382;&#12290;&#21487;&#33021;&#21253;&#25324;&#22914;SQL&#33050;&#26412;&#65292;Hibernate query&#65292;JPA &#23454;&#20307;&#26144;&#23556;&#31561;&#30340;&#27491;&#30830;&#24615;&#39564;&#35777;&#12290;</p></li></ul></div><p>Spring&#26694;&#26550;&#25552;&#20379;&#38598;&#25104;&#27979;&#35797;&#30340;&#19968;&#27969;&#25903;&#25345;&#65292;&#30456;&#20851;&#31867;&#25171;&#21253;&#22312;<tt class="filename">spring-test.jar</tt>&#31867;&#24211;&#20013;&#12290;&#22312;&#36825;&#20010;&#31867;&#24211;&#20013;&#65292;&#20320;&#21487;&#20197;&#25214;&#21040;<tt class="literal">org.springframework.test</tt>&#21253;&#65292;&#26377;&#24456;&#22810;&#26041;&#20415;&#20351;&#29992;Spring&#23481;&#22120;&#36827;&#34892;&#38598;&#25104;&#27979;&#35797;&#30340;&#31867;&#65292;&#32780;&#19988;&#21516;&#26102;&#19981;&#20381;&#36182;&#24212;&#29992;&#26381;&#21153;&#22120;&#25110;&#20854;&#23427;&#37096;&#32626;&#29615;&#22659;&#12290;&#36825;&#20123;&#27979;&#35797;&#20250;&#27604;&#21333;&#20803;&#27979;&#35797;&#24930;&#65292;&#20294;&#20250;&#27604;Cactus&#65288;&#35793;&#32773;&#27880;&#65306;Apache&#27979;&#35797;&#26381;&#21153;&#31471;Java&#20195;&#30721;&#30340;&#24037;&#20855;http://jakarta.apache.org/cactus/index.html &#65289;&#27979;&#35797;&#25110;&#20381;&#38752;&#37096;&#32626;&#21040;&#19968;&#20010;&#24212;&#29992;&#26381;&#21153;&#22120;&#19978;&#26469;&#36827;&#34892;&#36828;&#31243;&#27979;&#35797;&#35201;&#24555;&#25463;&#30340;&#22810;&#12290;</p><p>&#22312;2.5&#29256;&#26412;&#20043;&#21069;&#65292;Spring&#24050;&#32463;&#25552;&#20379;&#20102;<a href="testing.html#junit38-legacy-support" title="8.3.6.&nbsp;JUnit 3.8&#36951;&#30041;&#25903;&#25345;">&#38754;&#21521;JUnit 3.8&#30340;&#21333;&#20803;&#27979;&#35797;&#25903;&#25345;</a>.
      &#22312;2.5&#29256;&#26412;&#20013;, Spring &#25552;&#20379;&#20102;&#21333;&#20803;&#21644;&#38598;&#25104;&#27979;&#35797;&#25903;&#25345; <a href="testing.html#testcontext-framework" title="8.3.7.&nbsp;Spring TestContext Framework">Spring TestContext&#26694;&#26550;</a>&#12290;
      &#23427;&#26159;&#23454;&#38469;&#27979;&#35797;&#26694;&#26550;&#30340;&#28151;&#21512;&#20307;&#65292;&#22240;&#27492;&#33021;&#22815;&#24110;&#21161;&#22312;&#22810;&#20010;&#27979;&#35797;&#29615;&#22659;&#21253;&#25324;JUnit 3.8,JUnit 4.4, TestNG&#31561;&#20013;&#36827;&#34892;&#27979;&#35797;&#12290; <span class="emphasis"><em>&#27880;&#24847;Spring TestContext&#26694;&#26550;&#38656;&#35201;Java 5+&#25903;&#25345;.</em></span></p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="integration-testing-which-framework"></a>8.3.2.&nbsp;&#20351;&#29992;&#21738;&#20010;&#25903;&#25345;&#26694;&#26550;</h3></div></div><div></div></div><p>Spring&#22242;&#38431;&#25512;&#33616;&#20351;&#29992;<a href="testing.html#testcontext-framework" title="8.3.7.&nbsp;Spring TestContext Framework">Spring TestContext&#26694;&#26550;</a>
      &#26469;&#36827;&#34892;&#25152;&#26377;&#26032;&#30340;&#21333;&#20803;&#27979;&#35797;&#21644;&#38598;&#25104;&#27979;&#35797;&#65292;&#20197;&#21253;&#25324;<tt class="classname">ApplicationContext</tt>&#25110;&#38656;&#35201;&#20107;&#21153;&#31649;&#29702;&#30340;&#24773;&#20917;&#12290;
      &#20294;&#22914;&#26524;&#20320;&#24320;&#21457;&#22312;Java5&#20043;&#21069;&#30340;&#29615;&#22659;&#19978;&#65292;&#23601;&#38656;&#35201;&#32487;&#32493;&#20351;&#29992;<a href="testing.html#junit38-legacy-support" title="8.3.6.&nbsp;JUnit 3.8&#36951;&#30041;&#25903;&#25345;">JUnit 3.8&#36951;&#30041;&#25903;&#25345;</a>. &#21478;&#22806;&#65292;&#26174;&#24335;
      <a href="testing.html#junit38-legacy-jpa-tests" title="8.3.6.5.2.&nbsp;JPA&#25903;&#25345;&#31867;">JPA&#38598;&#25104;&#27979;&#35797;&#25903;&#25345;</a>
       &#20381;&#36182;&#20110;<span class="emphasis"><em>shadow class&#36733;&#20837;</em></span>&#26469;&#36827;&#34892;JPA&#31867;&#27979;&#35797;(class instrumentation)&#30446;&#21069;&#21482;&#33021;&#19982;JUnit 3.8&#36951;&#30041;&#25903;&#25345;&#30456;&#23481;&#12290;
       &#22914;&#26524;&#20320;&#35201;&#27979;&#35797;&#30340;JPA&#25552;&#20379;&#32773;&#19981;&#38656;&#35201;class instrumentation&#65292;&#23601;&#25512;&#33616;&#20351;&#29992;TestContext&#26694;&#26550;&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="integration-testing-common-goals"></a>8.3.3.&nbsp;&#36890;&#29992;&#30446;&#26631;</h3></div></div><div></div></div><p>Spring&#38598;&#25104;&#27979;&#35797;&#25903;&#25345;&#26694;&#26550;&#25552;&#20379;&#20102;&#19968;&#20123;&#36890;&#29992;&#30446;&#26631;&#65292;&#21253;&#25324;&#65306;</p><div class="itemizedlist"><ul type="disc"><li><p>&#36328;&#36234;&#21508;&#20010;&#27979;&#35797;&#26696;&#20363;&#25191;&#34892;&#26399;&#30340;<a href="testing.html#testing-ctx-management" title="8.3.3.1.&nbsp;&#19978;&#19979;&#25991;&#31649;&#29702;&#21450;&#32531;&#23384;">Spring IoC&#23481;&#22120;&#32531;&#23384;</a>&#12290;</p></li><li><p><a href="testing.html#testing-fixture-di" title="8.3.3.2.&nbsp;&#27979;&#35797;fixtures&#20381;&#36182;&#27880;&#20837;">&#27979;&#35797;fixture&#23454;&#20363;&#30340;&#20381;&#36182;&#27880;&#20837;</a> (&#36825;&#24456;&#29245;)&#12290;</p></li><li><p>&#36866;&#21512;&#38598;&#25104;&#27979;&#35797;&#30340;<a href="testing.html#testing-tx" title="8.3.3.3.&nbsp;&#20107;&#21153;&#31649;&#29702;">&#20107;&#21153;&#31649;&#29702;</a>(&#36825;&#26356;&#21152;&#29245;)&#12290;</p></li><li><p><a href="testing.html#testing-support-classes" title="8.3.3.4.&nbsp;&#38598;&#25104;&#27979;&#35797;&#25903;&#25345;&#31867;">Spring&#29305;&#26377;&#30340;&#25903;&#25345;&#31867;</a>&#22312;&#32534;&#20889;&#38598;&#25104;&#27979;&#35797;&#26102;&#30495;&#30340;&#24456;&#26377;&#29992;&#12290;</p></li></ul></div><p>&#19979;&#38754;&#30340;&#31456;&#33410;&#20855;&#20307;&#25551;&#36848;&#27599;&#19968;&#20010;&#30446;&#26631;&#24182;&#25552;&#20379;&#25351;&#21521;&#29305;&#23450;&#25903;&#25345;&#26694;&#26550;&#30340;&#20449;&#24687;&#30340;&#38142;&#25509;&#12290;</p><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="testing-ctx-management"></a>8.3.3.1.&nbsp;&#19978;&#19979;&#25991;&#31649;&#29702;&#21450;&#32531;&#23384;</h4></div></div><div></div></div><p>Spring&#38598;&#25104;&#27979;&#35797;&#25903;&#25345;&#26694;&#26550;&#25552;&#20379;&#20102;<tt class="classname">ApplicationContext</tt>&#30340;&#25345;&#20037;&#21270;&#36733;&#20837;&#21644;&#36825;&#20123;&#19978;&#19979;&#25991;&#30340;&#32531;&#23384;&#26426;&#21046;&#12290;
        &#23545;&#24050;&#36733;&#20837;&#19978;&#19979;&#25991;&#30340;&#32531;&#23384;&#26159;&#24456;&#37325;&#35201;&#30340;&#65292;&#22240;&#20026;&#22914;&#26524;&#20320;&#26159;&#22312;&#19968;&#20010;&#22823;&#22411;&#30340;&#39033;&#30446;&#20013;&#65292;&#21551;&#21160;&#26102;&#38388;&#20250;&#25104;&#20026;&#19968;&#20010;&#38382;&#39064;&#8212;&#8212;&#19981;&#26159;&#22240;&#20026;Spring&#26412;&#36523;&#30340;&#24320;&#38144;&#65292;
        &#32780;&#26159;&#22240;&#20026;&#38752;Spring&#23481;&#22120;&#26469;&#21021;&#22987;&#21270;&#30340;&#23545;&#35937;&#38656;&#35201;&#24456;&#38271;&#26102;&#38388;&#12290;&#27604;&#22914;&#19968;&#20010;&#26377;50-100 Hibernate&#26144;&#23556;&#25991;&#20214;&#30340;&#39033;&#30446;&#21487;&#33021;&#38656;&#35201;10-20&#31186;&#26469;&#36733;&#20837;&#26144;&#23556;&#25991;&#20214;&#65292;
        &#32780;&#27599;&#27425;&#21333;&#19968;&#27979;&#35797;fixture&#30340;&#27599;&#20010;&#21333;&#19968;&#27979;&#35797;&#21069;&#37117;&#35201;&#36825;&#26679;&#30340;&#26102;&#38388;&#24320;&#38144;&#65292;&#20943;&#24930;&#20102;&#25972;&#20307;&#30340;&#27979;&#35797;&#36827;&#24230;&#36827;&#32780;&#38477;&#20302;&#25928;&#29575;&#12290;</p><p>&#27979;&#35797;&#31867;&#36890;&#24120;&#20250;&#25552;&#20379;&#19968;&#20010;&#25968;&#32452;&#26469;&#21253;&#21547;XML&#37197;&#32622;&#20803;&#25968;&#25454;&#30340;&#36164;&#28304;&#36335;&#24452;&#8212;&#8212;&#36890;&#24120;&#26159;classpath&#8212;&#8212;&#26469;&#37197;&#32622;&#24212;&#29992;&#12290;&#36825;&#36890;&#24120;&#21644;<tt class="literal">web.xml</tt>&#25110;&#20854;&#23427;&#37096;&#32626;&#25551;&#36848;&#20013;&#25351;&#23450;&#30340;&#37197;&#32622;&#36335;&#24452;&#26159;&#30456;&#21516;&#25110;&#30456;&#36817;&#30340;&#12290;</p><p>&#40664;&#35748;&#24773;&#20917;&#19979;,&#19968;&#26086;&#36733;&#20837;&#65292;<tt class="interfacename">ApplicationContext</tt>&#23558;&#22312;&#27599;&#27425;&#27979;&#35797;&#20013;&#37325;&#29992;&#12290;
        &#36825;&#26679;&#21551;&#21160;&#30340;&#24320;&#38144;&#23558;&#21482;&#38656;&#35201;&#19968;&#27425;&#65288;&#27599;&#20010;&#27979;&#35797;fixture&#65289;&#65292;&#25509;&#19979;&#26469;&#30340;&#27979;&#35797;&#25191;&#34892;&#23601;&#20250;&#24555;&#24471;&#22810;&#12290;
        &#22312;&#19968;&#20123;&#23569;&#35265;&#30340;&#20250;&#8220;&#27745;&#26579;&#8221;&#24212;&#29992;&#19978;&#19979;&#25991;&#30340;&#26696;&#20363;&#20013;&#38656;&#35201;&#37325;&#26032;&#36733;&#20837;&#8212;&#8212; &#20363;&#22914;&#65292;&#25913;&#21464;&#19968;&#20010;bean&#23450;&#20041;&#25110;&#24212;&#29992;&#23545;&#35937;&#30340;&#29366;&#24577;&#8212;&#8212;
        Spring&#30340;&#27979;&#35797;&#25903;&#25345;&#25552;&#20379;&#20102;&#22312;&#25191;&#34892;&#19979;&#19968;&#20010;&#27979;&#35797;&#21069;&#35753;&#27979;&#35797;fixture&#37325;&#26032;&#36733;&#20837;&#37197;&#32622;&#24182;&#37325;&#24314;&#24212;&#29992;&#19978;&#19979;&#25991;&#30340;&#26426;&#21046;&#12290;</p><p>&#19978;&#19979;&#25991;&#31649;&#29702;&#21644;&#32531;&#23384;&#20351;&#29992;&#65306;</p><div class="itemizedlist"><ul type="disc"><li><p><a href="testing.html#junit38-legacy-ctx-management" title="8.3.6.1.&nbsp;&#19978;&#19979;&#25991;&#31649;&#29702;&#21450;&#32531;&#23384;">JUnit 3.8&#36951;&#30041;&#25903;&#25345;</a></p></li><li><p><a href="testing.html#testcontext-ctx-management" title="8.3.7.2.&nbsp;&#19978;&#19979;&#25991;&#31649;&#29702;&#21644;&#32531;&#23384;">TestContext&#26694;&#26550;</a></p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="testing-fixture-di"></a>8.3.3.2.&nbsp;&#27979;&#35797;fixtures&#20381;&#36182;&#27880;&#20837;</h4></div></div><div></div></div><p>&#24403;Spring&#38598;&#25104;&#27979;&#35797;&#25903;&#25345;&#26694;&#26550;&#36733;&#20837;&#20320;&#30340;&#24212;&#29992;&#19978;&#19979;&#25991;&#26102;&#65292;&#23427;&#20204;&#33021;&#36890;&#36807;&#20381;&#36182;&#27880;&#20837;&#36873;&#25321;&#24615;&#37197;&#32622;&#27979;&#35797;&#31867;&#23454;&#20363;&#12290;
        &#36825;&#25552;&#20379;&#20102;&#19968;&#20010;&#26041;&#20415;&#30340;&#26426;&#21046;&#26469;&#20351;&#29992;&#39044;&#20808;&#22312;&#24212;&#29992;&#19978;&#19979;&#25991;&#20013;&#37197;&#32622;&#30340;bean&#26469;&#25645;&#24314;&#27979;&#35797;fixture&#12290;
        &#24456;&#22823;&#30340;&#22909;&#22788;&#23601;&#26159;&#20320;&#21487;&#20197;&#22312;&#21508;&#31181;&#27979;&#35797;&#22330;&#26223;&#20013;&#37325;&#29992;&#24212;&#29992;&#19978;&#19979;&#25991;(&#20363;&#22914;&#37197;&#32622;Spring&#31649;&#29702;&#30340;&#23545;&#35937;&#22270;&#65292;
        &#20107;&#21153;&#20195;&#29702;<tt class="classname">DataSource</tt>&#31561;)&#65292;&#20174;&#32780;&#33021;&#36991;&#20813;&#20026;&#21333;&#20010;&#30340;&#27979;&#35797;&#26696;&#20363;&#37325;&#22797;&#36827;&#34892;&#27979;&#35797;fixture&#25645;&#24314;&#12290;</p><p>&#20316;&#20026;&#20363;&#23376;&#65292;&#32771;&#34385;&#19968;&#20010;&#22330;&#26223;&#65306;&#25105;&#20204;&#26377;&#19968;&#20010;<tt class="classname">HibernateTitleDao</tt>&#31867;&#26469;&#23454;&#29616;&#25968;&#25454;&#35775;&#38382;&#36923;&#36753;&#65292;&#20551;&#35774;&#26159;<tt class="classname">Title</tt>&#22495;&#23545;&#35937;&#12290;&#25105;&#20204;&#24076;&#26395;&#32534;&#20889;&#27979;&#35797;&#25152;&#26377;&#20197;&#19979;&#26041;&#38754;&#30340;&#38598;&#25104;&#27979;&#35797;&#65306;</p><div class="itemizedlist"><ul type="disc"><li><p>Spring&#37197;&#32622;: &#26368;&#22522;&#26412;&#30340;&#65292;&#26159;&#21542;&#25152;&#26377;&#19982;<tt class="classname">HibernateTitleDao</tt> bean&#30456;&#20851;&#30340;&#37197;&#32622;&#37117;&#26159;&#27491;&#30830;&#21644;&#23384;&#22312;&#30340;&#65311;</p></li><li><p>Hibernate&#26144;&#23556;&#37197;&#32622;&#25991;&#20214;: &#26159;&#21542;&#25152;&#26377;&#26144;&#23556;&#37117;&#26159;&#27491;&#30830;&#30340;&#24182;&#19988;lazy-loading&#35774;&#32622;&#20063;&#21040;&#20301;&#20102;&#65311;</p></li><li><p><tt class="classname">HibernateTitleDao</tt>&#36923;&#36753;&#65306;&#26159;&#21542;&#31867;&#30340;&#24050;&#37197;&#32622;&#31034;&#20363;&#30340;&#23454;&#29616;&#19982;&#39044;&#26399;&#30456;&#21516;&#65311;</p></li></ul></div><p>&#27979;&#35797;fixtures&#20381;&#36182;&#27880;&#20837;&#20351;&#29992;&#65306;</p><div class="itemizedlist"><ul type="disc"><li><p><a href="testing.html#junit38-legacy-fixture-di" title="8.3.6.2.&nbsp;&#27979;&#35797;fixture&#20381;&#36182;&#27880;&#20837;">JUnit 3.8 &#36951;&#30041;&#25903;&#25345;</a></p></li><li><p><a href="testing.html#testcontext-fixture-di" title="8.3.7.3.&nbsp;&#27979;&#35797;fixture&#30340;&#20381;&#36182;&#27880;&#20837;">TestContext&#26694;&#26550;</a></p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="testing-tx"></a>8.3.3.3.&nbsp;&#20107;&#21153;&#31649;&#29702;</h4></div></div><div></div></div><p>&#35775;&#38382;&#23454;&#38469;&#25968;&#25454;&#24211;&#30340;&#27979;&#35797;&#30340;&#19968;&#20010;&#36890;&#24120;&#38382;&#39064;&#26159;&#23545;&#25345;&#20037;&#21270;&#29366;&#24577;&#30340;&#24433;&#21709;&#12290;
        &#21363;&#20351;&#20320;&#20351;&#29992;&#24320;&#21457;&#25968;&#25454;&#24211;&#65292;&#29366;&#24577;&#30340;&#25913;&#21464;&#20063;&#21487;&#33021;&#24433;&#21709;&#21518;&#38754;&#30340;&#27979;&#35797;&#12290;&#32780;&#19988;&#24456;&#22810;&#25805;&#20316; &#8212;&#8212; 
        &#22914;&#25554;&#20837;&#25110;&#20462;&#25913;&#25345;&#20037;&#21270;&#25968;&#25454; &#8212;&#8212; &#19981;&#33021;&#22312;&#20107;&#21153;&#22806;&#23436;&#25104;&#65288;&#25110;&#39564;&#35777;&#65289;&#12290;</p><p>Spring&#38598;&#25104;&#27979;&#35797;&#25903;&#25345;&#26694;&#26550;&#28385;&#36275;&#20102;&#36825;&#20123;&#38656;&#27714;&#12290;&#40664;&#35748;&#24773;&#20917;&#19979;&#65292;&#23545;&#27599;&#27425;&#27979;&#35797;&#23427;&#20204;&#20250;&#21019;&#24314;&#24182;&#22238;&#28378;&#20107;&#21153;&#12290;
        &#20320;&#32534;&#20889;&#20195;&#30721;&#21487;&#20197;&#20551;&#23450;&#20107;&#21153;&#24050;&#32463;&#23384;&#22312;&#12290;&#22914;&#26524;&#20320;&#22312;&#27979;&#35797;&#20013;&#35843;&#29992;&#20107;&#21153;&#20195;&#29702;&#23545;&#35937;&#65292;&#23427;&#20204;&#23558;&#26681;&#25454;&#37197;&#32622;&#30340;&#20107;&#21153;&#35821;&#20041;&#27491;&#24120;&#21709;&#24212;&#12290;
        &#21478;&#22806;&#65292;&#22914;&#26524;&#27979;&#35797;&#26041;&#27861;&#22312;&#20107;&#21153;&#20869;&#21024;&#38500;&#20102;&#36873;&#23450;&#34920;&#30340;&#25968;&#25454;&#65292;&#36825;&#20010;&#20107;&#21153;&#20250;&#40664;&#35748;&#22238;&#28378;&#65292;&#25968;&#25454;&#24211;&#20063;&#23558;&#22238;&#21040;&#27979;&#35797;&#25191;&#34892;&#21069;&#30340;&#29366;&#24577;&#12290;
        &#20107;&#21153;&#25903;&#25345;&#36890;&#36807;&#22312;&#27979;&#35797;&#24212;&#29992;&#19978;&#19979;&#25991;&#20013;&#23450;&#20041;&#30340;<tt class="classname">PlatformTransactionManager</tt> bean&#25552;&#20379;&#12290;</p><p>&#22914;&#26524;&#20320;&#24076;&#26395;&#20107;&#21153;&#34987;&#25552;&#20132; &#8212;&#8212; &#19981;&#24120;&#35265;,&#20294;&#21487;&#33021;&#20320;&#24076;&#26395;&#29305;&#23450;&#30340;&#27979;&#35797;&#25554;&#20837;&#25110;&#20462;&#25913;&#25968;&#25454;&#24211; &#8212;&#8212; Spring&#38598;&#25104;&#27979;&#35797;&#25903;&#25345;&#26694;&#26550;
        &#21487;&#20197;&#36890;&#36807;&#35843;&#29992;&#19968;&#20010;&#32487;&#25215;&#19979;&#26469;&#30340;&#38057;&#23376;(Hook)&#26041;&#27861;&#25110;&#22768;&#26126;&#29305;&#23450;&#27880;&#35299;&#26469;&#35753;&#20107;&#21153;&#25552;&#20132;&#32780;&#19981;&#26159;&#22238;&#28378;&#12290;</p><p>&#20107;&#21153;&#31649;&#29702;&#20351;&#29992;:</p><div class="itemizedlist"><ul type="disc"><li><p><a href="testing.html#junit38-legacy-tx" title="8.3.6.3.&nbsp;&#20107;&#21153;&#31649;&#29702;">JUnit 3.8 &#36951;&#30041;&#25903;&#25345;</a></p></li><li><p><a href="testing.html#testcontext-tx" title="8.3.7.4.&nbsp;&#20107;&#21153;&#31649;&#29702;">TestContext&#26694;&#26550;</a></p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="testing-support-classes"></a>8.3.3.4.&nbsp;&#38598;&#25104;&#27979;&#35797;&#25903;&#25345;&#31867;</h4></div></div><div></div></div><p>Spring&#38598;&#25104;&#27979;&#35797;&#25903;&#25345;&#26694;&#26550;&#25552;&#20379;&#20102;&#20960;&#20010;<tt class="literal">abstract</tt>&#25903;&#25345;&#31867;&#26469;&#31616;&#21270;&#32534;&#20889;&#38598;&#25104;&#27979;&#35797;&#12290;
        &#36825;&#20123;&#27979;&#35797;&#22522;&#31867;&#25552;&#20379;&#20102;&#23450;&#20041;&#33391;&#22909;&#30340;&#27979;&#35797;&#26694;&#26550;&#38057;&#23376;&#65292;&#27604;&#22914;&#26041;&#20415;&#30340;&#21464;&#37327;&#23454;&#20363;&#21644;&#26041;&#27861;&#65292;&#26469;&#35775;&#38382;&#20197;&#19979;&#23545;&#35937;&#65306;</p><div class="itemizedlist"><ul type="disc"><li><p><tt class="literal">ApplicationContext</tt>: &#29992;&#26469;&#36827;&#34892;&#26174;&#24335;bean&#26597;&#25214;&#25110;&#25972;&#20307;&#27979;&#35797;&#19978;&#19979;&#25991;&#29366;&#24577;&#12290;</p></li><li><p><tt class="classname">JdbcTemplate</tt>&#25110;<tt class="classname">SimpleJdbcTemplate</tt>: &#29992;&#26469;&#26597;&#35810;&#24182;&#30830;&#35748;&#29366;&#24577;&#12290; 
            &#20363;&#22914;&#65292;&#20320;&#21487;&#33021;&#38656;&#35201;&#22312;&#21019;&#24314;&#23545;&#35937;&#24182;&#36890;&#36807;ORM&#24037;&#20855;&#25345;&#20037;&#21270;&#21040;&#25968;&#25454;&#24211;&#20013;&#30340;&#27979;&#35797;&#26696;&#20363;&#36816;&#34892;&#21069;&#21518;&#36827;&#34892;&#26597;&#35810;&#65292;&#20197;&#30830;&#35748;&#25968;&#25454;&#22312;&#25968;&#25454;&#24211;&#20013;&#23384;&#22312;&#20102;&#12290;
            (Spring&#23558;&#30830;&#20445;&#26597;&#35810;&#22312;&#21516;&#19968;&#20010;&#20107;&#21153;&#33539;&#22260;&#20869;&#36816;&#34892;&#12290;) &#20320;&#38656;&#35201;&#36890;&#30693;ORM&#24037;&#20855;&#26469;'flush'&#21464;&#21270;&#20197;&#30830;&#20445;&#27491;&#24120;&#24037;&#20316;&#65292;
            &#20363;&#22914;&#20351;&#29992;Hibernate <tt class="interfacename">Session</tt>&#25509;&#21475;&#30340;<tt class="methodname">flush()</tt>&#26041;&#27861;&#12290;</p></li></ul></div><p>&#20320;&#32463;&#24120;&#20250;&#25552;&#20379;&#19968;&#20010;&#24212;&#29992;&#33539;&#22260;&#30340;&#36229;&#31867;&#26469;&#20026;&#22810;&#20010;&#38598;&#25104;&#27979;&#35797;&#25552;&#20379;&#26377;&#29992;&#30340;&#23454;&#20363;&#21464;&#37327;&#12290;</p><p>&#25903;&#25345;&#31867;&#65306;</p><div class="itemizedlist"><ul type="disc"><li><p><a href="testing.html#junit38-legacy-support-classes" title="8.3.6.4.&nbsp;JUnit 3.8 &#36951;&#30041;&#25903;&#25345;&#31867;">JUnit 3.8&#36951;&#30041;&#25903;&#25345;</a></p></li><li><p><a href="testing.html#testcontext-support-classes" title="8.3.7.5.&nbsp;TestContext&#25903;&#25345;&#31867;">TestContext&#26694;&#26550;</a></p></li></ul></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="integration-testing-support-jdbc"></a>8.3.4.&nbsp;JDBC&#27979;&#35797;&#25903;&#25345;</h3></div></div><div></div></div><p><tt class="literal">org.springframework.test.jdbc</tt>&#21253;&#21547;&#26377;<tt class="classname">SimpleJdbcTestUtils</tt>&#31867;&#65292;&#23427;
      &#26159;&#19968;&#20010;&#22522;&#20110;Java5&#30340;JDBC&#30456;&#20851;&#24037;&#20855;&#26041;&#27861;&#38598;&#65292;&#29992;&#26469;&#31616;&#21270;&#26631;&#20934;&#25968;&#25454;&#24211;&#27979;&#35797;&#22330;&#26223;&#12290;<span class="emphasis"><em>&#27880;&#24847;<a href="testing.html#testcontext-support-classes-junit38" title="8.3.7.5.1.&nbsp;JUnit 3.8&#25903;&#25345;&#31867;"><tt class="classname">AbstractTransactionalJUnit38SpringContextTests</tt></a>,
      <a href="testing.html#testcontext-support-classes-junit44" title="8.3.7.5.2.&nbsp;JUnit 4.4&#25903;&#25345;&#31867;"><tt class="classname">AbstractTransactionalJUnit4SpringContextTests</tt></a>,
      &#21644;<a href="testing.html#testcontext-support-classes-testng" title="8.3.7.5.4.&nbsp;TestNG&#25903;&#25345;&#31867;"><tt class="classname">AbstractTransactionalTestNGSpringContextTests</tt></a>
      &#25552;&#20379;&#20102;&#31616;&#20415;&#30340;&#26041;&#27861;&#26469;&#20869;&#37096;&#20195;&#29702;&#21040;<tt class="classname">SimpleJdbcTestUtils</tt>&#12290;</em></span></p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="integration-testing-common-annotations"></a>8.3.5.&nbsp;&#24120;&#29992;&#27880;&#35299;</h3></div></div><div></div></div><p>Spring&#26694;&#26550;&#22312;<tt class="literal">org.springframework.test.annotation</tt>
      &#21253;&#20013;&#25552;&#20379;&#20102;&#24120;&#29992;&#30340;<span class="emphasis"><em>Spring&#29305;&#23450;&#30340;</em></span>&#27880;&#35299;&#38598;&#65292;&#22914;&#26524;&#20320;&#22312;Java5&#25110;&#20197;&#19978;&#29256;&#26412;&#24320;&#21457;&#65292;&#21487;&#20197;&#22312;&#27979;&#35797;&#20013;&#20351;&#29992;&#23427;&#12290;</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><b><tt class="interfacename">@IfProfileValue</tt></b></span></p><p>&#25552;&#31034;&#19968;&#19979;&#65292;&#27880;&#35299;&#27979;&#35797;&#21482;&#38024;&#23545;&#29305;&#23450;&#30340;&#27979;&#35797;&#29615;&#22659;&#12290;
          &#22914;&#26524;&#37197;&#32622;&#30340;<tt class="classname">ProfileValueSource</tt>&#31867;&#36820;&#22238;&#23545;&#24212;&#30340;&#25552;&#20379;&#32773;&#30340;<tt class="literal">&#21517;&#31216;</tt><tt class="literal">&#20540;</tt>&#65292;
          &#36825;&#20010;&#27979;&#35797;&#23601;&#21487;&#20197;&#21551;&#21160;&#12290;&#36825;&#20010;&#27880;&#35299;&#21487;&#20197;&#24212;&#29992;&#21040;&#19968;&#20010;&#31867;&#25110;&#32773;&#21333;&#29420;&#30340;&#26041;&#27861;&#12290;</p><pre class="programlisting">@IfProfileValue(name="java.vendor", value="Sun Microsystems Inc.")
public void testProcessWhichRunsOnlyOnSunJvm() {
    <i class="lineannotation"><span class="lineannotation">// some logic that should run only on Java VMs from Sun Microsystems</span></i>
}</pre><p>&#21516;&#26102;<tt class="interfacename">@IfProfileValue</tt>&#21487;&#37197;&#32622;&#19968;&#20010;<tt class="literal">&#20540;</tt>&#21015;&#34920;
          (&#20351;&#29992;<span class="emphasis"><em>OR</em></span> &#35821;&#20041;) &#26469;&#22312;JUnit&#29615;&#22659;&#20013;&#33719;&#24471;TestNG&#30340;<span class="emphasis"><em>&#27979;&#35797;&#32452;</em></span>&#25903;&#25345;&#12290;
          &#30475;&#19979;&#38754;&#30340;&#20363;&#23376;&#65306;</p><pre class="programlisting">@IfProfileValue(name="test-groups", values={"unit-tests", "integration-tests"})
public void testProcessWhichRunsForUnitOrIntegrationTestGroups() {
    <i class="lineannotation"><span class="lineannotation">// some logic that should run only for unit and integration test groups</span></i>
}</pre></li><li><p><span class="bold"><b><tt class="interfacename">@ProfileValueSourceConfiguration</tt></b></span></p><p>&#31867;&#32423;&#21035;&#27880;&#35299;&#29992;&#26469;&#25351;&#23450;&#24403;&#36890;&#36807;<tt class="interfacename">@IfProfileValue</tt>&#27880;&#35299;&#33719;&#21462;&#24050;&#37197;&#32622;&#30340;<span class="emphasis"><em>profile&#20540;</em></span>&#26102;&#20351;&#29992;&#20309;&#31181;<tt class="literal">ProfileValueSource</tt>&#12290;
          &#22914;&#26524;<tt class="interfacename">@ProfileValueSourceConfiguration</tt>&#27809;&#26377;&#22312;&#27979;&#35797;&#20013;&#22768;&#26126;&#65292;&#23558;&#40664;&#35748;&#20351;&#29992;<tt class="classname">SystemProfileValueSource</tt>&#12290;</p><pre class="programlisting">@ProfileValueSourceConfiguration(CustomProfileValueSource.class)
public class CustomProfileValueSourceTests {
    <i class="lineannotation"><span class="lineannotation">// class body...</span></i>
}</pre></li><li><p><span class="bold"><b><tt class="interfacename">@DirtiesContext</tt></b></span></p><p>&#22312;&#27979;&#35797;&#26041;&#27861;&#19978;&#20986;&#29616;&#36825;&#20010;&#27880;&#35299;&#26102;&#65292;&#34920;&#26126;&#24213;&#23618;Spring&#23481;&#22120;&#22312;&#35813;&#26041;&#27861;&#30340;&#25191;&#34892;&#20013;&#34987;&#8220;&#27745;&#26579;&#8221;&#65292;&#20174;&#32780;&#24517;&#39035;&#22312;&#26041;&#27861;&#25191;&#34892;&#32467;&#26463;&#21518;&#37325;&#26032;&#21019;&#24314;&#65288;&#26080;&#35770;&#35813;&#27979;&#35797;&#26159;&#21542;&#36890;&#36807;&#65289;&#12290;</p><pre class="programlisting">@DirtiesContext
public void testProcessWhichDirtiesAppCtx() {
    <i class="lineannotation"><span class="lineannotation">// some logic that results in the Spring container being dirtied</span></i>
}</pre></li><li><p><span class="bold"><b><tt class="interfacename">@ExpectedException</tt></b></span></p><p>&#34920;&#26126;&#34987;&#27880;&#35299;&#26041;&#27861;&#39044;&#26399;&#22312;&#25191;&#34892;&#20013;&#25243;&#20986;&#19968;&#20010;&#24322;&#24120;&#12290;&#39044;&#26399;&#24322;&#24120;&#30340;&#31867;&#22411;&#22312;&#27880;&#35299;&#20013;&#32473;&#23450;&#12290;&#22914;&#26524;&#35813;&#24322;&#24120;&#30340;&#23454;&#20363;&#22312;&#27979;&#35797;&#26041;&#27861;&#25191;&#34892;&#20013;&#34987;&#25243;&#20986;&#65292;
          &#21017;&#27979;&#35797;&#36890;&#36807;&#12290;&#21516;&#26679;&#30340;&#22914;&#26524;&#35813;&#24322;&#24120;&#23454;&#20363;<span class="emphasis"><em>&#27809;&#26377;</em></span>&#22312;&#27979;&#35797;&#26041;&#27861;&#25191;&#34892;&#26102;&#25243;&#20986;&#65292;&#21017;&#27979;&#35797;&#22833;&#36133;&#12290;</p><pre class="programlisting">@ExpectedException(SomeBusinessException.class)
public void testProcessRainyDayScenario() {
    <i class="lineannotation"><span class="lineannotation">// some logic that should result in an <tt class="classname">Exception</tt> being thrown</span></i>
}</pre></li><li><p><span class="bold"><b><tt class="interfacename">@Timed</tt></b></span></p><p>&#34920;&#26126;&#34987;&#27880;&#35299;&#30340;&#27979;&#35797;&#26041;&#27861;&#24517;&#39035;&#22312;&#35268;&#23450;&#30340;&#26102;&#38388;&#21306;&#38388;&#20869;&#25191;&#34892;&#23436;&#25104;&#65288;&#20197;&#27627;&#31186;&#35760;&#65289;&#12290;&#22914;&#26524;&#27979;&#35797;&#25191;&#34892;&#26102;&#38388;&#36229;&#36807;&#20102;&#35268;&#23450;&#30340;&#26102;&#38388;&#21306;&#38388;&#65292;&#27979;&#35797;&#23601;&#22833;&#36133;&#20102;&#12290;</p><p>&#27880;&#24847;&#35813;&#26102;&#38388;&#21306;&#38388;&#21253;&#25324;&#27979;&#35797;&#26041;&#27861;&#26412;&#36523;&#30340;&#25191;&#34892;&#65292;&#20219;&#20309;&#37325;&#22797;&#27979;&#35797;&#65288;&#21442;&#35265; <tt class="interfacename">@Repeat</tt>&#65289;&#65292;&#36824;&#26377;&#20219;&#20309;&#27979;&#35797;fixture&#30340;<span class="emphasis"><em>set up</em></span>&#25110;<span class="emphasis"><em>tear down</em></span>&#26102;&#38388;&#12290;</p><pre class="programlisting">@Timed(millis=1000)
public void testProcessWithOneSecondTimeout() {
    <i class="lineannotation"><span class="lineannotation">// some logic that should not take longer than 1 second to execute</span></i>
}</pre></li><li><p><span class="bold"><b><tt class="interfacename">@Repeat</tt></b></span></p><p>&#34920;&#26126;&#34987;&#27880;&#35299;&#30340;&#27979;&#35797;&#26041;&#27861;&#24517;&#39035;&#37325;&#22797;&#25191;&#34892;&#12290;&#25191;&#34892;&#30340;&#27425;&#25968;&#22312;&#27880;&#35299;&#20013;&#22768;&#26126;&#12290;</p><p>&#27880;&#24847;&#37325;&#22797;&#25191;&#34892;&#33539;&#22260;&#21253;&#25324;&#21253;&#25324;&#27979;&#35797;&#26041;&#27861;&#26412;&#36523;&#30340;&#25191;&#34892;&#65292;&#20197;&#21450;&#20219;&#20309;&#27979;&#35797;fixture&#30340;<span class="emphasis"><em>set up</em></span>&#25110;<span class="emphasis"><em>tear down</em></span>&#12290;</p><pre class="programlisting">@Repeat(10)
public void testProcessRepeatedly() {
    <i class="lineannotation"><span class="lineannotation">// ...</span></i>
}</pre></li><li><p><span class="bold"><b><tt class="interfacename">@Rollback</tt></b></span></p><p>&#34920;&#26126;&#34987;&#27880;&#35299;&#26041;&#27861;&#30340;&#20107;&#21153;&#22312;&#23436;&#25104;&#21518;&#26159;&#21542;&#38656;&#35201;&#34987;<span class="emphasis"><em>&#22238;&#28378;</em></span>&#12290;
          &#22914;&#26524;<tt class="literal">true</tt>&#65292;&#20107;&#21153;&#23558;&#34987;&#22238;&#28378;&#65292;&#21542;&#21017;&#20107;&#21153;&#23558;&#34987;&#25552;&#20132;&#12290;
          &#20351;&#29992;<tt class="interfacename">@Rollback</tt>&#25509;&#21475;&#26469;&#22312;&#31867;&#32423;&#21035;&#35206;&#20889;&#37197;&#32622;&#30340;&#40664;&#35748;&#22238;&#28378;&#26631;&#24535;&#12290;</p><pre class="programlisting">@Rollback(false)
public void testProcessWithoutRollback() {
    <i class="lineannotation"><span class="lineannotation">// ...</span></i>
}</pre></li><li><p><span class="bold"><b><tt class="interfacename">@NotTransactional</tt></b></span></p><p>&#20986;&#29616;&#35813;&#27880;&#35299;&#34920;&#26126;&#27979;&#35797;&#26041;&#27861;&#24517;&#39035;<span class="emphasis"><em>&#19981;</em></span>&#22312;&#20107;&#21153;&#20013;&#25191;&#34892;&#12290;</p><pre class="programlisting">@NotTransactional 
public void testProcessWithoutTransaction() {
    <i class="lineannotation"><span class="lineannotation">// ...</span></i>
}</pre></li></ul></div><p>&#27880;&#35299;&#25903;&#25345;&#65306;</p><div class="itemizedlist"><ul type="disc"><li><p><a href="testing.html#junit38-legacy-java5-support" title="8.3.6.5.&nbsp;Java 5+ &#19987;&#26377;&#25903;&#25345;">JUnit 3.8&#36951;&#30041;&#25903;&#25345;</a>&#65306;
          &#25152;&#26377;&#19978;&#38754;&#21015;&#20030;&#30340;&#27880;&#35299;&#37117;&#34987;&#25903;&#25345;&#65292;&#20294;<span class="emphasis"><em>&#24517;&#39035;</em></span>&#19982;<tt class="classname">AbstractAnnotationAwareTransactionalTests</tt>&#31867;&#32852;&#21512;&#20351;&#29992;&#65292;&#20197;&#20445;&#35777;&#36825;&#20123;&#27880;&#35299;&#33021;&#36215;&#20316;&#29992;&#12290;</p></li><li><p><a href="testing.html#testcontext-annotations" title="8.3.7.6.&nbsp;TestContext&#26694;&#26550;&#27880;&#35299;&#25903;&#25345;">TestContext&#26694;&#26550;</a>&#65306;
          &#25903;&#25345;&#19978;&#38754;&#21015;&#20030;&#30340;&#25152;&#26377;&#27880;&#35299;&#65292;&#32780;&#19988;&#25552;&#20379;&#20102;&#39069;&#22806;&#30340;TestContext&#29305;&#23450;&#27880;&#35299;
          (&#20363;&#22914;<tt class="interfacename">@ContextConfiguration</tt>&#12289;<tt class="interfacename">@BeforeTransaction</tt>&#31561;&#31561;)&#12290;
          &#27880;&#24847;&#65292;&#20294;&#26159;&#19968;&#20123;&#27880;&#35299;&#21482;&#26377;&#19982;JUnit&#32852;&#21512;&#20351;&#29992;&#26102;(&#20363;&#22914;&#65292;&#22522;&#20110;<a href="testing.html#testcontext-junit4-runner" title="8.3.7.5.3.&nbsp;&#23450;&#21046;JUnit 4.4&#36816;&#34892;&#22120;">SpringJUnit4ClassRunner</a>
          &#25110;<a href="testing.html#testcontext-support-classes-junit38" title="8.3.7.5.1.&nbsp;JUnit 3.8&#25903;&#25345;&#31867;">JUnit 3.8</a>&#20197;&#21450;<a href="testing.html#testcontext-support-classes-junit44" title="8.3.7.5.2.&nbsp;JUnit 4.4&#25903;&#25345;&#31867;">JUnit 4.4</a>&#30340;&#27979;&#35797;&#31867;)&#12290;
          &#35814;&#32454;&#20869;&#23481;&#21442;&#35265;<span class="emphasis"><em>TestContext&#26694;&#26550;</em></span>&#31456;&#33410;&#12290;</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="junit38-legacy-support"></a>8.3.6.&nbsp;JUnit 3.8&#36951;&#30041;&#25903;&#25345;</h3></div></div><div></div></div><p>Spring JUnit 3.8 &#36951;&#30041;&#25903;&#25345;&#31867;&#25171;&#21253;&#22312;<tt class="literal">org.springframework.test</tt>&#21253;&#20013;&#12290;
      &#36825;&#20010;&#21253;&#25552;&#20379;&#20102;&#26377;&#29992;&#30340;JUnit <tt class="classname">TestCase</tt>&#36229;&#31867;&#65292;
      &#25193;&#23637;&#23427;&#21487;&#20197;&#22312;&#23481;&#22120;&#22806;&#38598;&#25104;&#27979;&#35797;&#20013;&#24341;&#20837;Spring <tt class="classname">ApplicationContext</tt>&#31867;&#25110;&#22312;&#27979;&#35797;&#26041;&#27861;&#32423;&#21035;&#33719;&#24471;&#20107;&#21153;&#25903;&#25345;&#12290;</p><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="junit38-legacy-ctx-management"></a>8.3.6.1.&nbsp;&#19978;&#19979;&#25991;&#31649;&#29702;&#21450;&#32531;&#23384;</h4></div></div><div></div></div><p><tt class="classname">AbstractSingleSpringContextTests</tt>&#20026;&#22522;&#20110;JUnit 3.8&#30340;&#27979;&#35797;&#26696;&#20363;&#25552;&#20379;&#20102;&#19978;&#19979;&#25991;&#31649;&#29702;&#21644;&#32531;&#23384;&#25903;&#25345;&#12290;
        &#23427;&#26292;&#38706;&#20102;&#19968;&#20010;<tt class="literal">protected</tt>&#26041;&#27861;&#26469;&#32473;&#23376;&#31867;&#35206;&#20889;&#20197;&#25552;&#20379;&#19978;&#19979;&#25991;&#23450;&#20041;&#25991;&#20214;&#30340;&#36335;&#24452;&#65306;</p><pre class="programlisting">protected String[] getConfigLocations()</pre><p>&#36825;&#20010;&#26041;&#27861;&#30340;&#23454;&#29616;&#24517;&#39035;&#25552;&#20379;&#21253;&#21547;XML&#37197;&#32622;&#20803;&#25968;&#25454;&#30340;&#36164;&#28304;&#36335;&#24452; &#8212;&#8212; &#36890;&#24120;&#26159;&#31867;&#36335;&#24452; &#8212;&#8212; &#30340;&#19968;&#20010;&#25968;&#32452;&#12290;
        &#36825;&#21644;&#22312;<tt class="literal">web.xml</tt>&#25110;&#20854;&#23427;&#37096;&#32626;&#37197;&#32622;&#20013;&#30340;&#36164;&#28304;&#36335;&#24452;&#26159;&#30456;&#21516;&#30340;&#25110;&#22522;&#26412;&#30456;&#21516;&#30340;&#12290;
        &#20316;&#20026;&#21487;&#36873;&#26041;&#26696;&#65292;&#20320;&#20063;&#21487;&#20197;&#35206;&#20889;&#19979;&#38754;&#30340;&#26041;&#27861;&#12290;&#35814;&#32454;&#20869;&#23481;&#21442;&#35265;&#30456;&#20851;JavaDoc&#12290;</p><pre class="programlisting">protected String[] getConfigPaths()</pre><pre class="programlisting">protected String getConfigPath()</pre><p>&#40664;&#35748;&#24773;&#20917;&#19979;&#65292;&#19968;&#26086;&#37197;&#32622;&#25991;&#20214;&#34987;&#36733;&#20837;&#23601;&#20250;&#22312;&#27599;&#20010;&#27979;&#35797;&#26696;&#20363;&#20013;&#37325;&#29992;&#12290;
        &#36825;&#26679;&#26500;&#24314;&#30340;&#24320;&#38144;&#21482;&#20250;&#20135;&#29983;&#19968;&#27425;&#65288;&#27599;&#20010;&#27979;&#35797;fixture&#65289;&#65292;&#28982;&#21518;&#21518;&#38754;&#30340;&#27979;&#35797;&#25191;&#34892;&#20250;&#24555;&#36895;&#30340;&#22810;&#12290;
        &#22312;&#36739;&#23569;&#30340;&#24773;&#20917;&#19979;&#27979;&#35797;&#21487;&#33021;&#8220;&#27745;&#26579;&#8221;&#24212;&#29992;&#19978;&#19979;&#25991;&#65292;&#38656;&#35201;&#37325;&#26032;&#36733;&#20837; &#8212;&#8212; &#20363;&#22914;&#65292;
        &#25913;&#21464;&#19968;&#20010;bean&#23450;&#20041;&#25110;&#24212;&#29992;&#23545;&#35937;&#29366;&#24577; &#8212;&#8212; &#20320;&#21487;&#20197;&#35843;&#29992;<tt class="classname">AbstractSingleSpringContextTests</tt>&#31867;&#20013;&#30340;
        <tt class="methodname">setDirty()</tt>&#26041;&#27861;&#26469;&#35753;&#27979;&#35797;fixture&#22312;&#25191;&#34892;&#19979;&#19968;&#20010;&#27979;&#35797;&#26696;&#20363;&#26102;&#37325;&#26032;&#36733;
        <a href="testing.html#junit38-legacy-annotation-aware-tests" title="8.3.6.5.1.&nbsp;&#20351;&#29992;&#27880;&#35299;&#30340;&#20107;&#21153;&#30456;&#20851;&#27979;&#35797;"><tt class="classname">AbstractAnnotationAwareTransactionalTests</tt></a>&#31867;&#65292;
        &#20320;&#21487;&#20197;&#20351;&#29992;<tt class="interfacename">@DirtiesContext</tt>&#26469;&#23545;&#27979;&#35797;&#26041;&#27861;&#36827;&#34892;&#27880;&#35299;&#20197;&#36798;&#21040;&#21516;&#26679;&#30340;&#25928;&#26524;&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="junit38-legacy-fixture-di"></a>8.3.6.2.&nbsp;&#27979;&#35797;fixture&#20381;&#36182;&#27880;&#20837;</h4></div></div><div></div></div><p>&#24403;<tt class="classname">AbstractDependencyInjectionSpringContextTests</tt>&#31867;(&#21450;&#20854;&#23376;&#31867;)&#36733;&#20837;&#20320;&#30340;&#24212;&#29992;&#19978;&#19979;&#25991;&#26102;&#65292;
        &#23427;&#20204;&#21487;&#20197;&#36890;&#36807;Setter&#27880;&#20837;&#36873;&#25321;&#24615;&#37197;&#32622;&#20320;&#30340;&#27979;&#35797;&#31867;&#23454;&#20363;&#12290;&#20320;&#38656;&#35201;&#20570;&#30340;&#20165;&#20165;&#26159;&#23450;&#20041;&#23454;&#20363;&#21464;&#37327;&#21644;&#30456;&#24212;&#30340;setter&#26041;&#27861;&#12290;
        <tt class="classname">AbstractDependencyInjectionSpringContextTests</tt>&#23558;&#22312;<tt class="methodname">getConfigLocations()</tt>&#26041;&#27861;&#23450;&#20041;&#30340;&#37197;&#32622;&#25991;&#20214;&#38598;&#20013;&#33258;&#21160;&#26597;&#25214;&#30456;&#24212;&#23545;&#35937;&#12290;</p><p>&#20551;&#23450;&#36825;&#26679;&#19968;&#20010;&#22330;&#26223;&#65292;&#25105;&#20204;&#26377;&#19968;&#20010;<tt class="classname">HibernateTitleDao</tt>&#31867;(&#22312;<a href="testing.html#testing-fixture-di" title="8.3.3.2.&nbsp;&#27979;&#35797;fixtures&#20381;&#36182;&#27880;&#20837;">&#36890;&#24120;&#30446;&#26631;</a>&#31456;&#33410;&#35814;&#36848;)&#12290;
        &#35753;&#25105;&#20204;&#30475;&#22522;&#20110;JUnit 3.8 &#30340;&#27979;&#35797;&#31867;&#23454;&#29616;&#26412;&#36523;(&#25105;&#20204;&#24456;&#24555;&#23558;&#30475;&#30475;&#37197;&#32622;&#26412;&#36523;)&#12290;</p><pre class="programlisting">public final class HibernateTitleDaoTests <span class="bold"><b>extends AbstractDependencyInjectionSpringContextTests</b></span>  {

    <i class="lineannotation"><span class="lineannotation">// this instance will be (automatically) dependency injected</span></i>    
    private HibernateTitleDao titleDao;

    <i class="lineannotation"><span class="lineannotation">// a setter method to enable DI of the 'titleDao' instance variable</span></i>
    public void setTitleDao(HibernateTitleDao titleDao) {
        this.titleDao = titleDao;
    }

    public void testLoadTitle() throws Exception {
        Title title = this.titleDao.loadTitle(new Long(10));
        assertNotNull(title);
    }

    <i class="lineannotation"><span class="lineannotation">// specifies the Spring configuration to load for this test fixture</span></i>
    protected String[] getConfigLocations() {
        return new String[] { "classpath:com/foo/daos.xml" };
    }

}</pre><p>&#36825;&#20010;&#25991;&#20214;&#34987;<tt class="methodname">getConfigLocations()</tt>&#26041;&#27861;&#25351;&#23450;(&#27604;&#22914;&#65292;<tt class="literal">"classpath:com/foo/daos.xml"</tt>) &#20687;&#36825;&#26679;&#65306;</p><pre class="programlisting">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans" 
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans 
           http://www.springframework.org/schema/beans/spring-beans-2.5.xsd"&gt;

    <i class="lineannotation"><span class="lineannotation">&lt;!-- this bean will be injected into the <tt class="classname">HibernateTitleDaoTests</tt> class --&gt;</span></i>
    &lt;bean id="<span class="bold"><b>titleDao</b></span>" class="<span class="bold"><b>com.foo.dao.hibernate.HibernateTitleDao</b></span>"&gt;
        &lt;property name="sessionFactory" ref="sessionFactory"/&gt;
    &lt;/bean&gt;
    
    &lt;bean id="sessionFactory" class="org.springframework.orm.hibernate3.LocalSessionFactoryBean"&gt;
        <i class="lineannotation"><span class="lineannotation">&lt;!-- dependencies elided for clarity --&gt;</span></i>
    &lt;/bean&gt;

&lt;/beans&gt;</pre><p><tt class="classname">AbstractDependencyInjectionSpringContextTests</tt>&#31867;&#20351;&#29992;<a href="beans.html#beans-factory-autowire" title="3.3.5.&nbsp;&#33258;&#21160;&#35013;&#37197;&#65288;autowire&#65289;&#21327;&#20316;&#32773;"><span class="emphasis"><em>&#25353;&#31867;&#22411;&#33258;&#21160;&#35013;&#37197;</em></span></a>&#12290;
        &#22240;&#27492;&#22914;&#26524;&#20320;&#26377;&#22810;&#20010;bean&#23450;&#20041;&#26159;&#30456;&#21516;&#30340;&#31867;&#22411;&#65292;&#23601;&#19981;&#33021;&#22312;&#36825;&#20123;bean&#20013;&#20351;&#29992;&#36825;&#31181;&#26041;&#27861;&#12290;
        &#36825;&#31181;&#24773;&#20917;&#19979;&#65292;&#20320;&#21487;&#20197;&#20351;&#29992;&#32487;&#25215;&#30340;<tt class="literal">applicationContext</tt>&#23454;&#20363;&#21464;&#37327;&#24182;&#23454;&#29616;&#26174;&#24335;&#30340;&#26597;&#25214;&#65288;&#27604;&#22914;&#65289;&#65292;
        &#35843;&#29992;<tt class="methodname">applicationContext.getBean("titleDao")</tt>&#26041;&#27861;&#12290;</p><p>&#22914;&#26524;&#20320;&#19981;&#24076;&#26395;&#22312;&#27979;&#35797;&#26696;&#20363;&#20013;&#20351;&#29992;&#20381;&#36182;&#27880;&#20837;&#65292;&#21482;&#35201;&#19981;&#22768;&#26126;&#20219;&#20309;<tt class="literal">public</tt> setter&#26041;&#27861;&#23601;&#21487;&#20197;&#31616;&#21333;&#23454;&#29616;&#12290;
        &#20316;&#20026;&#26367;&#20195;&#30340;&#65292;&#20320;&#21487;&#20197;&#25193;&#23637;<tt class="classname">AbstractSpringContextTests</tt> - &#22312;<tt class="literal">org.springframework.test</tt>
        &#21253;&#20013;&#30340;JUnit 3.8&#38598;&#25104;&#27979;&#35797;&#25903;&#25345;&#31867;&#23618;&#27425;&#30340;&#26681; - &#23427;&#20165;&#20165;&#21253;&#21547;&#20102;&#19968;&#20123;&#36733;&#20837;Spring&#19978;&#19979;&#25991;&#30340;&#31616;&#21333;&#26041;&#27861;&#65292;&#32780;&#19988;&#19981;&#22312;&#27979;&#35797;fixture&#20013;&#20351;&#29992;&#20381;&#36182;&#27880;&#20837;&#12290;</p><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="junit38-legacy-fixture-di-field"></a>8.3.6.2.1.&nbsp;&#23383;&#27573;&#32423;&#21035;&#65288;Field Level&#65289;&#27880;&#20837;</h5></div></div><div></div></div><p>&#22914;&#26524;&#19981;&#31649;&#20309;&#31181;&#21407;&#22240;&#65292;&#20320;&#30340;&#27979;&#35797;fixture&#20013;&#27809;&#26377;setter&#26041;&#27861;&#65292;Spring&#21487;&#20197;&#23545;<tt class="literal">protected</tt>&#23383;&#27573;&#36827;&#34892;&#20381;&#36182;&#27880;&#20837;&#12290;
          &#19979;&#38754;&#26159;&#21069;&#38754;&#20351;&#29992;&#23383;&#27573;&#32423;&#27880;&#20837;&#31034;&#20363;&#30340;&#26032;&#29256;&#26412;&#65288;Spring XML&#25991;&#20214;&#26080;&#38656;&#25913;&#21464;&#65292;&#20165;&#20165;&#38656;&#35201;&#25913;&#21464;&#27979;&#35797;fixture&#65289;&#12290;</p><pre class="programlisting">public final class HibernateTitleDaoTests <span class="bold"><b>extends AbstractDependencyInjectionSpringContextTests</b></span>  {

    public HibernateTitleDaoTests() {
        <i class="lineannotation"><span class="lineannotation">// switch on field level injection</span></i>
        setPopulateProtectedVariables(true);
    }

    <i class="lineannotation"><span class="lineannotation">// this instance will be (automatically) dependency injected</span></i>
    <i class="lineannotation"><span class="lineannotation"><span class="emphasis"><em>protected</em></span></span></i> HibernateTitleDao <i class="lineannotation"><span class="lineannotation"><span class="emphasis"><em>titleDao</em></span></span></i>;

    public void testLoadTitle() throws Exception {
        Title title = this.titleDao.loadTitle(new Long(10));
        assertNotNull(title);
    }

    <i class="lineannotation"><span class="lineannotation">// specifies the Spring configuration to load for this test fixture</span></i>
    protected String[] getConfigLocations() {
        return new String[] { "classpath:com/foo/daos.xml" };
    }

}</pre><p>&#22312;&#23383;&#27573;&#27880;&#20837;&#30340;&#24773;&#20917;&#19979;&#65292;&#19981;&#33021;&#20351;&#29992;&#33258;&#21160;&#35013;&#37197;&#65306;<tt class="literal">protected</tt> &#23454;&#20363;&#21464;&#37327;&#34987;&#20316;&#20026;&#24050;&#37197;&#32622;&#30340;Spring&#23481;&#22120;&#30340;bean &#26597;&#25214;&#21517;&#12290;</p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="junit38-legacy-tx"></a>8.3.6.3.&nbsp;&#20107;&#21153;&#31649;&#29702;</h4></div></div><div></div></div><p><tt class="classname">AbstractTransactionalSpringContextTests</tt>&#31867;
        &#20381;&#36182;&#20110;&#24212;&#29992;&#19978;&#19979;&#25991;&#20013;&#23450;&#20041;&#30340;<tt class="classname">PlatformTransactionManager</tt> bean&#12290;
        &#21517;&#23383;&#26159;&#26080;&#20851;&#32039;&#35201;&#30340;&#65292;&#22240;&#20026;&#20351;&#29992;&#20102;<a href="beans.html#beans-factory-autowire" title="3.3.5.&nbsp;&#33258;&#21160;&#35013;&#37197;&#65288;autowire&#65289;&#21327;&#20316;&#32773;"><span class="emphasis"><em>&#25353;&#31867;&#22411;&#33258;&#21160;&#35013;&#37197;</em></span></a>.</p><p>&#36890;&#24120;&#20320;&#20250;&#25193;&#23637;&#20854;&#23376;&#31867;<tt class="classname">AbstractTransactionalDataSourceSpringContextTests</tt>&#12290;
        &#36825;&#20010;&#31867;&#20063;&#38656;&#35201;&#22312;&#24212;&#29992;&#19978;&#19979;&#25991;&#20013;&#26377;&#19968;&#20010;<tt class="classname">DataSource</tt> bean&#23450;&#20041;(&#21516;&#26679;&#21487;&#20197;&#26159;&#20219;&#24847;&#21517;&#31216;)&#12290;
        &#23427;&#21019;&#24314;&#19968;&#20010;<tt class="classname">JdbcTemplate</tt>&#23454;&#20363;&#21464;&#37327;&#65292;&#21487;&#20197;&#29992;&#26469;&#26041;&#20415;&#30340;&#26597;&#35810;&#21644;&#21024;&#38500;&#36873;&#23450;&#34920;&#30340;&#20869;&#23481;&#65288;
        &#35831;&#35760;&#20303;&#40664;&#35748;&#24773;&#20917;&#19979;&#20107;&#21153;&#23558;&#34987;&#22238;&#28378;&#65292;&#22240;&#32780;&#36825;&#26679;&#20570;&#26159;&#23433;&#20840;&#30340;&#65289;&#12290;</p><p>&#22914;&#26524;&#20320;&#24076;&#26395;<span class="emphasis"><em>&#32534;&#31243;&#24335;</em></span>&#25552;&#20132;&#20107;&#21153; &#8212;&#8212; &#19981;&#24120;&#35265;&#20294;&#23545;&#20110;&#29305;&#27530;&#30340;&#25554;&#20837;&#25968;&#25454;&#24211;&#30340;&#27979;&#35797;&#24456;&#26377;&#29992; &#8212;&#8212;
         &#20320;&#21487;&#20197;&#35843;&#29992;&#32487;&#25215;&#33258;<tt class="classname">AbstractTransactionalSpringContextTests</tt>&#31867;&#30340;<tt class="methodname">setComplete()</tt> &#26041;&#27861;&#12290;
         &#36825;&#23558;&#20351;&#20107;&#21153;&#25552;&#20132;&#32780;&#19981;&#26159;&#22238;&#28378;&#12290;&#20316;&#20026;&#21487;&#26367;&#20195;&#30340;&#65292;&#22914;&#26524;&#20320;&#22312;Java 5&#25110;&#26356;&#39640;&#29615;&#22659;&#20013;&#24320;&#21457;&#25193;&#23637;<a href="testing.html#junit38-legacy-annotation-aware-tests" title="8.3.6.5.1.&nbsp;&#20351;&#29992;&#27880;&#35299;&#30340;&#20107;&#21153;&#30456;&#20851;&#27979;&#35797;"><tt class="classname">AbstractAnnotationAwareTransactionalTests</tt></a>&#31867;&#65292;
        &#20320;&#21487;&#20197;&#20351;&#29992;<tt class="interfacename">@Rollback(false)</tt>&#26469;&#27880;&#35299;&#27979;&#35797;&#26041;&#27861;&#65292;&#20197;&#36890;&#36807;<span class="emphasis"><em>&#37197;&#32622;</em></span>&#33719;&#24471;&#30456;&#21516;&#30340;&#25928;&#26524;&#12290;</p><p>&#36890;&#36807;&#35843;&#29992;<tt class="methodname">endTransaction()</tt>&#26041;&#27861;&#65292;&#36825;&#37324;&#21487;&#20197;&#22312;&#27979;&#35797;&#26696;&#20363;&#23436;&#25104;&#26102;&#20013;&#27490;&#19968;&#20010;&#20107;&#21153;&#12290;
        &#40664;&#35748;&#23558;&#22238;&#28378;&#20107;&#21153;&#65292;&#38500;&#38750;&#21069;&#38754;&#35843;&#29992;&#20102;<tt class="methodname">setComplete()</tt>&#26041;&#27861;&#12290;
        &#36825;&#20010;&#29305;&#24615;&#24403;&#20320;&#24076;&#26395;&#27979;&#35797;&#8216;&#26029;&#36830;&#25509;&#8217;&#30340; &#25968;&#25454;&#23545;&#35937;&#34892;&#20026;&#26159;&#24456;&#26377;&#29992;&#65292;&#27604;&#22914;&#20107;&#21153;&#22806;&#30340;web&#25110;&#36828;&#31243;&#20351;&#29992;&#30340;Hibernate&#26144;&#23556;&#23454;&#20307;&#12290;
        &#36890;&#24120;&#25042;&#21152;&#36733;&#38169;&#35823;&#21482;&#26377;&#36890;&#36807;UI&#27979;&#35797;&#21457;&#29616;&#12290;&#22914;&#26524;&#20320;&#35843;&#29992;<tt class="methodname">endTransaction()</tt>&#26041;&#27861;
        &#21487;&#20197;&#20445;&#35777;JUnit&#27979;&#35797;&#26102;UI&#25805;&#20316;&#30340;&#27491;&#30830;&#24615;&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="junit38-legacy-support-classes"></a>8.3.6.4.&nbsp;JUnit 3.8 &#36951;&#30041;&#25903;&#25345;&#31867;</h4></div></div><div></div></div><p>&#24403;&#20320;&#25193;&#23637;
        <tt class="classname">AbstractTransactionalDataSourceSpringContextTests</tt>&#31867;&#26102;&#65292;&#20320;&#23558;&#38656;&#35201;&#35775;&#38382;&#19979;&#38754;<tt class="literal">protected</tt> &#23454;&#20363;&#21464;&#37327;:</p><div class="itemizedlist"><ul type="disc"><li><p><tt class="literal">applicationContext</tt>(<tt class="interfacename">ConfigurableApplicationContext</tt>):
            &#32487;&#25215;&#33258;<tt class="classname">AbstractSingleSpringContextTests</tt>&#31867;&#12290;&#20351;&#29992;&#23427;&#21487;&#20197;&#36827;&#34892;&#26174;&#24335;bean&#26597;&#25214;&#25110;&#27979;&#35797;&#25972;&#20010;&#30340;&#19978;&#19979;&#25991;&#29366;&#24577;&#12290;</p></li><li><p><tt class="literal">jdbcTemplate</tt>: &#32487;&#25215;&#33258;<tt class="classname">AbstractTransactionalDataSourceSpringContextTests</tt>&#31867;&#65292;&#29992;&#20110;&#26597;&#35810;&#24050;&#30830;&#35748;&#29366;&#24577;&#12290;
            &#20363;&#22914;,&#24212;&#29992;&#20195;&#30721;&#35201;&#21019;&#24314;&#19968;&#20010;&#23545;&#35937;&#65292;&#28982;&#21518;&#20351;&#29992;ORM&#24037;&#20855;&#23558;&#20854;&#25345;&#20037;&#21270;&#65292;&#36825;&#26102;&#20320;&#24819;&#22312;&#27979;&#35797;&#20195;&#30721;&#25191;&#34892;&#21069;&#21518;&#23545;&#20854;&#36827;&#34892;&#26597;&#35810;&#65292;&#20197;&#30830;&#23450;&#25968;&#25454;&#26159;&#21542;&#25554;&#20837;&#21040;&#25968;&#25454;&#24211;&#20013;&#65288;Spring&#20250;&#20445;&#35777;&#35813;&#26597;&#35810;&#36816;&#34892;&#22312;&#30456;&#21516;&#20107;&#21153;&#20869;&#65289;&#12290;&#20320;&#38656;&#35201;&#21578;&#35785;&#20320;&#30340;ORM&#24037;&#20855;&#8216;&#28165;&#31354;&#8217;&#20854;&#25913;&#21464;&#20197;&#27491;&#30830;&#23436;&#25104;&#20219;&#21153;&#65292;&#20363;&#22914;&#65292;&#20351;&#29992;Hibernate<tt class="classname">Session</tt>&#25509;&#21475;&#30340;<tt class="methodname">flush()</tt>&#26041;&#27861;&#12290;</p></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="junit38-legacy-java5-support"></a>8.3.6.5.&nbsp;Java 5+ &#19987;&#26377;&#25903;&#25345;</h4></div></div><div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="junit38-legacy-annotation-aware-tests"></a>8.3.6.5.1.&nbsp;&#20351;&#29992;&#27880;&#35299;&#30340;&#20107;&#21153;&#30456;&#20851;&#27979;&#35797;</h5></div></div><div></div></div><p>&#22312;&#19978;&#36848;<a href="testing.html#integration-testing-common-annotations" title="8.3.5.&nbsp;&#24120;&#29992;&#27880;&#35299;">&#24120;&#29992;&#27880;&#35299;</a>&#20043;&#22806;&#65292;
          <tt class="literal">org.springframework.test.annotation</tt>&#21253;&#20063;&#26377;&#19968;&#20010;<tt class="literal">&#25277;&#35937;</tt> JUnit
          <tt class="classname">TestCase</tt>&#31867;&#26469;&#25552;&#20379;&#27880;&#35299;&#39537;&#21160;&#30340;&#38598;&#25104;&#27979;&#35797;&#25903;&#25345;&#12290;</p><p><tt class="classname">AbstractAnnotationAwareTransactionalTests</tt>&#31867;&#25193;&#23637;&#20102;<tt class="classname">AbstractTransactionalDataSourceSpringContextTests</tt>&#31867;&#65292;
          &#24182;&#36890;&#36807;&#25193;&#23637;fixture&#24341;&#20837;&#19968;&#20123;&#65288;Spring&#19987;&#26377;&#65289;&#30340;&#27880;&#35299;&#12290;<tt class="classname">AbstractAnnotationAwareTransactionalTests</tt>
          &#25903;&#25345;&#25152;&#26377;<a href="testing.html#integration-testing-common-annotations" title="8.3.5.&nbsp;&#24120;&#29992;&#27880;&#35299;">&#24120;&#29992;&#27880;&#35299;</a>&#31456;&#33410;&#20013;&#21015;&#20030;&#30340;&#27880;&#35299;&#65292;
          &#32780;&#19988;&#21253;&#25324;Spring&#30340;<tt class="interfacename">@Transactional</tt>&#27880;&#35299;&#65292;&#20197;&#26174;&#24335;&#37197;&#32622;&#20107;&#21153;&#35821;&#20041;&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="junit38-legacy-jpa-tests"></a>8.3.6.5.2.&nbsp;JPA&#25903;&#25345;&#31867;</h5></div></div><div></div></div><p><tt class="literal">org.springframework.test.jpa</tt>&#21253;&#25552;&#20379;&#20102;&#22522;&#20110;Java &#25345;&#20037;&#21270;API(JPA)&#30340;&#27979;&#35797;&#25903;&#25345;&#31867;&#12290;</p><div class="itemizedlist"><ul type="disc"><li><p><tt class="classname">AbstractJpaTests</tt>&#26159;&#19968;&#20010;&#26041;&#20415;&#30340;JPA&#30456;&#20851;&#27979;&#35797;&#30340;&#25903;&#25345;&#31867;&#65292;
              &#23427;&#25552;&#20379;&#20102;&#21644;<tt class="classname">AbstractTransactionalDataSourceSpringContextTests</tt>&#30456;&#21516;&#30340;&#21151;&#33021;&#21644;&#21363;&#20351;&#22312;&#36827;&#34892;JPA&#35268;&#33539;&#38656;&#35201;&#30340;&#24615;&#33021;&#27979;&#35797;&#26102;&#20063;&#30456;&#21516;&#30340;&#24615;&#33021;&#12290;
              &#23427;&#26292;&#38706;&#20102;&#19968;&#20010;<tt class="interfacename">EntityManagerFactory</tt>&#25509;&#21475;&#21644;&#19968;&#20010;&#20849;&#20139;&#30340;<tt class="interfacename">EntityManager</tt>&#25509;&#21475;&#12290;
              &#38656;&#35201;&#27880;&#20837;&#19968;&#20010;<tt class="interfacename">EntityManagerFactory</tt>&#25509;&#21475;&#65292;
              &#20197;&#21450;&#36890;&#36807;&#36229;&#31867;&#33719;&#24471;<tt class="interfacename">DataSource</tt>&#25509;&#21475;&#21644;<tt class="interfacename">JpaTransactionManager</tt>&#25509;&#21475;&#12290;</p></li><li><p><tt class="classname">AbstractAspectjJpaTests</tt>&#31867;&#26159;<tt class="classname">AbstractJpaTests</tt>&#30340;&#23376;&#31867;&#65292;
              &#23427;&#28608;&#27963;&#20102;AspectJ &#30340;&#35013;&#36733;&#26399;&#32455;&#20837;&#24182;&#33021;&#22815;&#35753;AspectJ&#25351;&#23450;&#19968;&#20010;&#33258;&#23450;&#20041;&#30340;<tt class="literal">aop.xml</tt>&#25991;&#20214;&#36335;&#24452;&#12290;</p></li></ul></div></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="testcontext-framework"></a>8.3.7.&nbsp;Spring TestContext Framework</h3></div></div><div></div></div><p><span class="emphasis"><em>Spring <tt class="classname">TestContext</tt> Framework</em></span> (&#22312;<tt class="literal">org.springframework.test.context</tt>&#21253;&#20013;)
	  &#25552;&#20379;&#20102;&#19968;&#33324;&#30340;&#12289;&#27880;&#35299;&#39537;&#21160;&#30340;&#21333;&#20803;&#21644;&#38598;&#25104;&#27979;&#35797;&#25903;&#25345;&#65292;&#23427;&#23545;&#20351;&#29992;&#30340;&#27979;&#35797;&#26694;&#26550;&#19981;&#20570;&#35201;&#27714;&#65292;&#21487;&#20197;&#20351;&#29992;JUnit 3.8&#12289;JUnit 4.4, TestNG 5.5&#31561;&#31561;&#12290;
	  TestContext&#26694;&#26550;&#20063;&#24378;&#35843;&#20102;<span class="emphasis"><em>&#32422;&#23450;&#20248;&#20110;&#37197;&#32622;</em></span>&#30340;&#37325;&#35201;&#24615;&#65292;&#23427;&#25552;&#20379;&#20102;&#21512;&#29702;&#30340;&#40664;&#35748;&#20540;&#65292;&#21516;&#26102;&#20063;&#21487;&#20197;&#36890;&#36807;&#22522;&#20110;&#27880;&#35299;&#30340;&#37197;&#32622;&#36827;&#34892;&#25913;&#20889;&#12290;</p><p>&#38500;&#20102;&#19968;&#33324;&#30340;&#27979;&#35797;&#22522;&#30784;&#35774;&#26045;&#22806;&#65292;TestContext&#26694;&#26550;&#36824;&#20197;<tt class="literal">&#25277;&#35937;</tt>&#25903;&#25345;&#31867;&#30340;&#24418;&#24335;&#23545;JUnit 3.8&#12289;JUnit 4.4&#21644;TestNG 5.5&#25552;&#20379;&#20102;&#26174;&#24335;&#30340;&#25903;&#25345;&#12290;
	  &#38024;&#23545;JUnit 4.4&#65292;&#35813;&#26694;&#26550;&#36824;&#25552;&#20379;&#20102;&#19968;&#20010;&#33258;&#23450;&#20041;&#30340;<tt class="interfacename">Runner</tt>&#65292;&#36825;&#20351;&#24471;&#29992;&#25143;&#26080;&#38656;&#32487;&#25215;&#29305;&#23450;&#30340;&#31867;&#23601;&#21487;&#20197;&#32534;&#20889;&#27979;&#35797;&#31867;&#20102;&#12290; </p><p>&#20197;&#19979;&#31456;&#33410;&#32473;&#20986;&#20102;TestContext&#26694;&#26550;&#30340;&#20869;&#37096;&#27010;&#35272;&#12290;
	  &#22914;&#26524;&#20320;&#20165;&#20165;&#20851;&#27880;&#22914;&#20309;&#20351;&#29992;&#35813;&#26694;&#26550;&#32780;&#19981;&#26159;&#20351;&#29992;&#20320;&#33258;&#24049;&#30340;&#30417;&#21548;&#22120;&#21435;&#25193;&#23637;&#23427;&#65292;&#37027;&#20040;&#35831;&#30452;&#25509;&#36339;&#21040;&#37197;&#32622;(<a href="testing.html#testcontext-ctx-management" title="8.3.7.2.&nbsp;&#19978;&#19979;&#25991;&#31649;&#29702;&#21644;&#32531;&#23384;">&#19978;&#19979;&#25991;&#31649;&#29702;&#21644;&#32531;&#23384;</a>&#12289;
	  <a href="testing.html#testcontext-fixture-di" title="8.3.7.3.&nbsp;&#27979;&#35797;fixture&#30340;&#20381;&#36182;&#27880;&#20837;">&#20381;&#36182;&#27880;&#20837;</a>&#12289;<a href="testing.html#testcontext-tx" title="8.3.7.4.&nbsp;&#20107;&#21153;&#31649;&#29702;">&#20107;&#21153;&#31649;&#29702;</a>)&#12289;
	  <a href="testing.html#testcontext-support-classes" title="8.3.7.5.&nbsp;TestContext&#25903;&#25345;&#31867;">&#25903;&#25345;&#31867;</a>&#21450;<a href="testing.html#testcontext-annotations" title="8.3.7.6.&nbsp;TestContext&#26694;&#26550;&#27880;&#35299;&#25903;&#25345;">&#27880;&#35299;&#25903;&#25345;</a>&#31456;&#33410;&#12290;</p><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="testcontext-key-abstractions"></a>8.3.7.1.&nbsp;&#20027;&#35201;&#30340;&#25277;&#35937;</h4></div></div><div></div></div><p>&#26694;&#26550;&#30340;&#26680;&#24515;&#21253;&#25324;<tt class="classname">TestContext</tt>&#21644;<tt class="classname">TestContextManager</tt>&#31867;&#20197;&#21450;<tt class="interfacename">TestExecutionListener</tt>&#25509;&#21475;&#12290;
        &#27599;&#27425;&#27979;&#35797;&#37117;&#20250;&#21019;&#24314;<tt class="classname">TestContextManager</tt>&#12290;<tt class="classname">TestContextManager</tt>&#31649;&#29702;&#20102;&#19968;&#20010;<tt class="classname">TestContext</tt>&#65292;
        &#23427;&#36127;&#36131;&#25345;&#26377;&#24403;&#21069;&#27979;&#35797;&#30340;&#19978;&#19979;&#25991;&#12290;<tt class="classname">TestContextManager</tt>&#36824;&#36127;&#36131;&#22312;&#27979;&#35797;&#25191;&#34892;&#36807;&#31243;&#20013;&#26356;&#26032;<tt class="classname">TestContext</tt>&#30340;&#29366;&#24577;&#24182;&#20195;&#29702;&#21040;<tt class="interfacename">TestExecutionListener</tt>&#65292;
        &#23427;&#29992;&#26469;&#30417;&#27979;&#27979;&#35797;&#23454;&#38469;&#30340;&#25191;&#34892;&#65288;&#22914;&#25552;&#20379;&#20381;&#36182;&#27880;&#20837;&#12289;&#31649;&#29702;&#20107;&#21153;&#31561;&#31561;&#65289;&#12290;&#35831;&#26597;&#30475;JavaDoc&#21450;Spring&#27979;&#35797;&#22871;&#20214;&#20197;&#33719;&#24471;&#36827;&#19968;&#27493;&#30340;&#20449;&#24687;&#21644;&#21508;&#31181;&#37197;&#32622;&#31034;&#20363;&#12290;</p><div class="itemizedlist"><ul type="disc"><li><p><tt class="classname">TestContext</tt>&#65306;&#23553;&#35013;&#27979;&#35797;&#25191;&#34892;&#30340;&#19978;&#19979;&#25991;&#65292;&#19982;&#24403;&#21069;&#20351;&#29992;&#30340;&#27979;&#35797;&#26694;&#26550;&#26080;&#20851;&#12290;</p></li><li><p><tt class="classname">TestContextManager</tt>&#65306;<span class="emphasis"><em>Spring TestContext Framework</em></span>&#30340;&#20027;&#20837;&#21475;&#28857;&#65292;
            &#36127;&#36131;&#31649;&#29702;&#21333;&#29420;&#30340;<tt class="classname">TestContext</tt>&#24182;&#22312;&#23450;&#20041;&#22909;&#30340;&#25191;&#34892;&#28857;&#19978;&#21521;&#25152;&#26377;&#27880;&#20876;&#30340;<tt class="interfacename">TestExecutionListener</tt>&#21457;&#20986;&#20107;&#20214;&#36890;&#30693;&#65306;
            &#27979;&#35797;&#23454;&#20363;&#30340;&#20934;&#22791;&#65292;&#20808;&#20110;&#29305;&#23450;&#30340;&#27979;&#35797;&#26694;&#26550;&#30340;<span class="emphasis"><em>&#21069;&#32622;&#26041;&#27861;</em></span>&#65292;&#36831;&#20110;<span class="emphasis"><em>&#21518;&#32622;&#26041;&#27861;</em></span>&#12290;</p></li><li><p><tt class="interfacename">TestExecutionListener</tt>&#65306;&#23450;&#20041;&#20102;&#19968;&#20010;<span class="emphasis"><em>&#30417;&#21548;&#22120;</em></span>API&#19982;<tt class="classname">TestContextManager</tt>&#21457;&#24067;&#30340;&#27979;&#35797;&#25191;&#34892;&#20107;&#20214;&#36827;&#34892;&#20132;&#20114;&#65292;
            &#32780;&#35813;&#30417;&#21548;&#22120;&#23601;&#26159;&#27880;&#20876;&#21040;&#36825;&#20010;<tt class="classname">TestContextManager</tt>&#19978;&#30340;&#12290;</p><p>Spring&#25552;&#20379;&#20102;<tt class="interfacename">TestExecutionListener</tt>&#30340;&#19977;&#20010;&#23454;&#29616;&#65292;
            &#20182;&#20204;&#37117;&#26159;&#20351;&#29992;&#40664;&#35748;&#20540;&#36827;&#34892;&#37197;&#32622;&#30340;(&#36890;&#36807;<tt class="interfacename">@TestExecutionListeners</tt>&#27880;&#35299;)&#65306;
            <tt class="classname">DependencyInjectionTestExecutionListener</tt>&#12289;<tt class="classname">DirtiesContextTestExecutionListener</tt>&#21450;<tt class="classname">TransactionalTestExecutionListener</tt>&#65292;
            &#20182;&#20204;&#23545;&#27979;&#35797;&#23454;&#20363;&#25552;&#20379;&#20102;&#20381;&#36182;&#27880;&#20837;&#25903;&#25345;&#65292;&#22788;&#29702;<tt class="interfacename">@DirtiesContext</tt>&#27880;&#35299;&#65292;&#24182;&#20998;&#21035;&#20351;&#29992;&#40664;&#35748;&#30340;&#22238;&#28378;&#35821;&#20041;&#23545;&#27979;&#35797;&#25552;&#20379;&#20107;&#21153;&#25903;&#25345;&#12290;</p></li></ul></div><p>&#20197;&#19979;&#19977;&#20010;&#31456;&#33410;&#35762;&#36848;&#20102;&#22914;&#20309;&#36890;&#36807;&#27880;&#35299;&#37197;&#32622;<tt class="classname">TestContext</tt>&#26694;&#26550;&#24182;&#25552;&#20379;&#20102;&#20351;&#29992;&#35813;&#26694;&#26550;&#32534;&#20889;&#30495;&#23454;&#30340;&#21333;&#20803;&#21644;&#38598;&#25104;&#27979;&#35797;&#30340;&#31034;&#20363;&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="testcontext-ctx-management"></a>8.3.7.2.&nbsp;&#19978;&#19979;&#25991;&#31649;&#29702;&#21644;&#32531;&#23384;</h4></div></div><div></div></div><p>&#27599;&#20010;<tt class="classname">TestContext</tt>&#37117;&#20250;&#20026;&#20854;&#25152;&#36127;&#36131;&#30340;&#27979;&#35797;&#23454;&#20363;&#25552;&#20379;&#19978;&#19979;&#25991;&#21644;&#32531;&#23384;&#31649;&#29702;&#12290;
        &#27979;&#35797;&#23454;&#20363;&#19981;&#20250;&#33258;&#21160;&#35775;&#38382;&#37197;&#32622;&#22909;&#30340;<tt class="classname">ApplicationContext</tt>&#65307;&#28982;&#32780;&#65292;&#22914;&#26524;&#19968;&#20010;&#27979;&#35797;&#31867;&#23454;&#29616;&#20102;<tt class="interfacename">ApplicationContextAware</tt>&#25509;&#21475;&#65292;
        &#37027;&#20040;&#27979;&#35797;&#23454;&#20363;&#23601;&#20250;&#25317;&#26377;&#19968;&#20010;&#23545;<tt class="classname">ApplicationContext</tt>&#30340;&#24341;&#29992;&#65288;&#20551;&#22914;&#40664;&#35748;&#24050;&#32463;&#37197;&#32622;&#22909;&#20102;<tt class="classname">DependencyInjectionTestExecutionListener</tt>&#65289;&#12290;
        <tt class="classname">AbstractJUnit38SpringContextTests</tt>&#12289;
        <tt class="classname">AbstractJUnit4SpringContextTests</tt>&#21450;<tt class="classname">AbstractTestNGSpringContextTests</tt>&#24050;&#32463;&#23454;&#29616;&#20102;<tt class="interfacename">ApplicationContextAware</tt>&#65292;
        &#22240;&#27492;&#33258;&#24102;&#20102;&#19978;&#36848;&#21151;&#33021;&#12290;</p><p>&#19982;JUnit 3.8&#36951;&#30041;&#25903;&#25345;&#19981;&#21516;&#65292;&#20351;&#29992;TestContext&#26694;&#26550;&#30340;&#27979;&#35797;&#31867;&#26080;&#38656;&#37325;&#20889;&#20219;&#20309;<tt class="literal">protected</tt>&#25104;&#21592;&#26041;&#27861;&#26469;&#37197;&#32622;&#24212;&#29992;&#19978;&#19979;&#25991;&#12290;
        &#21482;&#38656;&#22312;&#31867;&#23618;&#27425;&#19978;&#22768;&#26126;<tt class="interfacename">@ContextConfiguration</tt>&#27880;&#35299;&#23601;&#21487;&#20197;&#23436;&#25104;&#37197;&#32622;&#12290;
        &#22914;&#26524;&#20320;&#30340;&#27979;&#35797;&#31867;&#27809;&#26377;&#26174;&#24335;&#22768;&#26126;&#20219;&#20309;&#24212;&#29992;&#19978;&#19979;&#25991;&#36164;&#28304;&#30340;<tt class="literal">&#20301;&#32622;</tt>&#65292;&#37027;&#20040;&#37197;&#32622;&#22909;&#30340;<tt class="interfacename">ContextLoader</tt>&#23601;&#20250;&#20915;&#23450;&#22914;&#20309;&#20197;&#21450;&#26159;&#21542;&#20174;&#40664;&#35748;&#30340;&#38598;&#21512;&#20301;&#32622;&#19978;&#21152;&#36733;&#19968;&#20010;&#19978;&#19979;&#25991;&#12290;
        &#20363;&#22914;&#65292;<tt class="classname">GenericXmlContextLoader</tt> - &#40664;&#35748;&#30340;<tt class="interfacename">ContextLoader</tt> - &#20250;&#22522;&#20110;&#27979;&#35797;&#31867;&#30340;&#21517;&#23383;&#20135;&#29983;&#19968;&#20010;&#40664;&#35748;&#30340;&#20301;&#32622;&#12290;
        &#22914;&#26524;&#31867;&#21517;&#21483;&#20570;<tt class="literal">com.example.MyTest</tt>&#65292;&#37027;&#20040;<tt class="classname">GenericXmlContextLoader</tt>&#23601;&#20250;&#20174;<tt class="literal">"classpath:/com/example/MyTest-context.xml"</tt>&#21152;&#36733;&#24212;&#29992;&#19978;&#19979;&#25991;&#12290;</p><pre class="programlisting">package com.example;

@RunWith(SpringJUnit4ClassRunner.class)
<i class="lineannotation"><span class="lineannotation">// ApplicationContext will be loaded from <tt class="literal">"classpath:/com/example/MyTest-context.xml"</tt></span></i>
<span class="bold"><b>@ContextConfiguration</b></span>
public class MyTest {
    <i class="lineannotation"><span class="lineannotation">// class body...</span></i>
}</pre><p>&#22914;&#26524;&#40664;&#35748;&#20301;&#32622;&#19981;&#36866;&#21512;&#20320;&#30340;&#38656;&#27714;&#65292;&#20320;&#21487;&#20197;&#20351;&#29992;&#19968;&#20010;&#21253;&#21547;&#20102;XML&#37197;&#32622;&#20803;&#25968;&#25454;&#30340;&#36164;&#28304;&#20301;&#32622;&#30340;&#25968;&#32452;&#26469;&#37197;&#32622;<tt class="interfacename">@ContextConfiguration</tt>&#30340;<tt class="literal">locations</tt>&#23646;&#24615;
        &#65288;&#20551;&#22914;&#24050;&#32463;&#37197;&#32622;&#22909;&#20102;&#19968;&#20010;&#21487;&#20197;&#20351;&#29992;XML&#30340;<tt class="interfacename">ContextLoader</tt>&#65289;- &#19968;&#33324;&#22312;classpath&#19978;&#65292;&#35813;&#23646;&#24615;&#34987;&#29992;&#26469;&#37197;&#32622;&#24212;&#29992;&#31243;&#24207;&#12290;
        &#36825;&#23601;&#21644;&#22312;<tt class="literal">web.xml</tt>&#25110;&#32773;&#20854;&#20182;&#37096;&#32626;&#37197;&#32622;&#20013;&#25351;&#23450;&#37197;&#32622;&#21015;&#34920;&#26102;&#65292;&#26041;&#27861;&#23436;&#20840;&#19968;&#26679;&#65292;&#25110;&#32773;&#20960;&#20046;&#19968;&#26679;&#12290;
        &#20316;&#20026;&#21478;&#22806;&#19968;&#31181;&#36873;&#25321;&#65292;&#20320;&#21487;&#20197;&#23454;&#29616;&#24182;&#37197;&#32622;&#33258;&#24049;&#30340;<tt class="interfacename">ContextLoader</tt>
        </p><pre class="programlisting">@RunWith(SpringJUnit4ClassRunner.class)
<i class="lineannotation"><span class="lineannotation">// ApplicationContext will be loaded from <tt class="literal">"/applicationContext.xml"</tt> and <tt class="literal">"/applicationContext-test.xml"</tt></span></i>
<i class="lineannotation"><span class="lineannotation">// in the root of the classpath</span></i>
<span class="bold"><b>@ContextConfiguration(locations={"/applicationContext.xml", "/applicationContext-test.xml"})</b></span>
public class MyTest {
    <i class="lineannotation"><span class="lineannotation">// class body...</span></i>
}</pre><p><tt class="interfacename">@ContextConfiguration</tt>&#36824;&#25552;&#20379;&#20102;&#19968;&#20010;boolean&#31867;&#22411;&#30340;<tt class="literal">inheritLocations</tt>&#23646;&#24615;&#20197;&#34920;&#26126;&#26159;&#21542;<span class="emphasis"><em>&#32487;&#25215;</em></span>&#29238;&#31867;&#30340;locations&#12290;
        &#20854;&#40664;&#35748;&#20540;&#26159;<tt class="literal">true</tt>&#65292;&#34920;&#26126;&#19968;&#20010;&#34987;&#27880;&#35299;&#30340;&#31867;&#20250;<span class="emphasis"><em>&#32487;&#25215;</em></span>&#34987;&#27880;&#35299;&#30340;&#29238;&#31867;&#20013;&#23450;&#20041;&#30340;&#36164;&#28304;&#20301;&#32622;&#12290;
        &#29305;&#21035;&#22320;&#65292;&#19968;&#20010;&#34987;&#27880;&#35299;&#30340;&#31867;&#30340;&#36164;&#28304;&#20301;&#32622;&#20250;&#38468;&#21152;&#21040;&#20854;&#34987;&#27880;&#35299;&#30340;&#29238;&#31867;&#20013;&#30340;&#36164;&#28304;&#20301;&#32622;&#21015;&#34920;&#19978;&#12290;&#36825;&#26679;&#23376;&#31867;&#23601;&#21487;&#20197;<span class="emphasis"><em>&#32487;&#25215;</em></span>&#36164;&#28304;&#20301;&#32622;&#21015;&#34920;&#12290;
        &#22312;&#19979;&#38754;&#30340;&#20363;&#23376;&#20013;&#65292;&#23558;&#25353;&#39034;&#24207;&#20174;"/base-context.xml"<span class="bold"><b>&#21644;</b></span>"/extended-context.xml"&#20013;&#21152;&#36733;&#38024;&#23545;<tt class="classname">ExtendedTest</tt>&#30340;<tt class="interfacename">ApplicationContext</tt>&#12290;
        &#25152;&#20197;&#23450;&#20041;&#22312;"/extended-context.xml"&#20013;&#30340;Beans&#20250;&#35206;&#30422;&#25481;&#23450;&#20041;&#22312;"/base-context.xml"&#20013;&#30340;Beans&#12290;</p><pre class="programlisting">@RunWith(SpringJUnit4ClassRunner.class)
<i class="lineannotation"><span class="lineannotation">// ApplicationContext will be loaded from <tt class="literal">"/base-context.xml"</tt> in the root of the classpath</span></i>
<span class="bold"><b>@ContextConfiguration(locations={"/base-context.xml"})</b></span>
public class BaseTest {
    <i class="lineannotation"><span class="lineannotation">// class body...</span></i>
}

<i class="lineannotation"><span class="lineannotation">// ApplicationContext will be loaded from <tt class="literal">"/base-context.xml"</tt> and <tt class="literal">"/extended-context.xml"</tt></span></i>
<i class="lineannotation"><span class="lineannotation">// in the root of the classpath</span></i>
<span class="bold"><b>@ContextConfiguration(locations={"/extended-context.xml"})</b></span>
public class ExtendedTest extends BaseTest {
    <i class="lineannotation"><span class="lineannotation">// class body...</span></i>
}</pre><p>&#22914;&#26524;&#23558;<tt class="literal">inheritLocations</tt>&#35774;&#20026;<tt class="literal">false</tt>&#65292;&#37027;&#20040;&#23601;&#20250;<span class="emphasis"><em>&#23631;&#34109;&#25481;</em></span>&#29238;&#31867;&#30340;&#36164;&#28304;&#20301;&#32622;&#65292;&#28982;&#21518;&#21487;&#20197;&#26367;&#25442;&#29238;&#31867;&#20013;&#23450;&#20041;&#30340;&#20219;&#20309;&#36164;&#28304;&#20301;&#32622;&#12290;</p><p>&#40664;&#35748;&#24773;&#20917;&#19979;, &#37197;&#32622;&#22909;&#30340;<tt class="interfacename">ApplicationContext</tt>&#19968;&#26086;&#34987;&#21152;&#36733;&#23601;&#20250;&#37325;&#29992;&#21040;&#27599;&#20010;&#27979;&#35797;&#19978;&#12290;&#36825;&#26679;&#35774;&#32622;&#30340;&#25104;&#26412;&#20165;&#20135;&#29983;&#19968;&#27425;&#65288;&#27599;&#20010;&#27979;&#35797;fixture&#65289;&#65292;
        &#38543;&#21518;&#27979;&#35797;&#30340;&#25191;&#34892;&#23601;&#20250;&#24456;&#24555;&#20102;&#12290;&#22312;&#26576;&#20123;&#19981;&#22826;&#21487;&#33021;&#21457;&#29983;&#30340;&#24773;&#20917;&#19979;&#65292;&#19968;&#20010;&#27979;&#35797;&#21487;&#33021;&#20250;<span class="emphasis"><em>&#30772;&#22351;</em></span>&#24212;&#29992;&#19978;&#19979;&#25991;&#65292;
        &#36825;&#26102;&#23427;&#38656;&#35201;&#37325;&#26032;&#21152;&#36733; - &#20363;&#22914;&#65292;&#36890;&#36807;&#25913;&#21464;&#24212;&#29992;&#23545;&#35937;&#30340;bean&#23450;&#20041;&#25110;&#32773;&#29366;&#24577; - &#20320;&#21487;&#20197;&#20351;&#29992;<tt class="interfacename">@DirtiesContext</tt>
        &#65288;&#20551;&#35774;&#40664;&#35748;&#24050;&#32463;&#37197;&#32622;&#20102;<tt class="classname">DirtiesContextTestExecutionListener</tt>&#65289;&#26469;&#27880;&#35299;&#27979;&#35797;&#26041;&#27861;&#20351;&#24471;&#27979;&#35797;fixture&#37325;&#26032;&#21152;&#36733;&#37197;&#32622;&#25991;&#20214;&#24182;&#22312;&#27979;&#35797;&#19979;&#27425;&#25191;&#34892;&#21069;&#37325;&#26032;&#26500;&#24314;&#24212;&#29992;&#19978;&#19979;&#25991;&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="testcontext-fixture-di"></a>8.3.7.3.&nbsp;&#27979;&#35797;fixture&#30340;&#20381;&#36182;&#27880;&#20837;</h4></div></div><div></div></div><p>&#24403;&#20320;&#37197;&#32622;<tt class="classname">DependencyInjectionTestExecutionListener</tt>&#26102; - &#23427;&#20250;&#34987;&#40664;&#35748;&#37197;&#32622; - &#36890;&#36807;<tt class="interfacename">@TestExecutionListeners</tt>&#27880;&#35299;&#65292;
        &#20320;&#30340;&#27979;&#35797;&#23454;&#20363;&#20381;&#36182;&#30340;bean&#20250;&#34987;<span class="emphasis"><em>&#27880;&#20837;</em></span>&#65292;&#32780;&#36825;&#20123;bean&#26159;&#36890;&#36807;<tt class="interfacename">@ContextConfiguration</tt>&#20351;&#29992;Setter&#27880;&#20837;&#12289;Field&#27880;&#20837;&#25110;&#32773;&#20004;&#32773;&#37117;&#26377;&#26469;&#27880;&#20837;&#30340;&#65292;
        &#21040;&#24213;&#20351;&#29992;&#21738;&#31181;&#26041;&#24335;&#21462;&#20915;&#20110;&#20320;&#36873;&#25321;&#30340;&#27880;&#35299;&#20197;&#21450;&#20320;&#23558;&#23427;&#20204;&#25918;&#21040;setter&#26041;&#27861;&#20013;&#36824;&#26159;&#23646;&#24615;&#20013;&#12290;&#20026;&#20102;&#19982;Spring 2.5&#30340;&#27880;&#35299;&#20445;&#25345;&#19968;&#33268;&#65292;
        &#20320;&#21487;&#20197;&#36873;&#25321;Spring&#30340;<tt class="interfacename">@Autowired</tt>&#27880;&#35299;&#25110;&#32773;JSR 250&#20013;&#30340;<tt class="interfacename">@Resource</tt>&#27880;&#35299;&#12290;&#20854;&#35821;&#20041;&#23545;&#20110;Spring&#26694;&#26550;&#26469;&#35828;&#37117;&#26159;&#19968;&#33268;&#30340;&#12290;
        &#20363;&#22914;&#65292; &#22914;&#26524;&#20320;&#21916;&#27426; <a href="beans.html#beans-factory-autowire" title="3.3.5.&nbsp;&#33258;&#21160;&#35013;&#37197;&#65288;autowire&#65289;&#21327;&#20316;&#32773;"><span class="emphasis"><em>&#25353;&#31867;&#22411;&#33258;&#21160;&#32455;&#20837;</em></span></a>&#65292;
        &#37027;&#20040;&#35831;&#20351;&#29992;<tt class="interfacename">@Autowired</tt>&#26469;&#27880;&#35299;&#20320;&#30340;settter&#26041;&#27861;&#25110;&#32773;&#23646;&#24615;&#12290;&#21478;&#19968;&#26041;&#38754;&#65292;&#22914;&#26524;&#20320;&#21916;&#27426;<span class="emphasis"><em>&#25353;&#21517;&#23383;</em></span>&#27880;&#20837;&#65292;
        &#37027;&#20040;&#35831;&#20351;&#29992;<tt class="interfacename">@Resource</tt>&#26469;&#27880;&#35299;&#20320;&#30340;settter&#26041;&#27861;&#25110;&#32773;&#23646;&#24615;&#12290;</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Tip"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Tip]" src="../images/admons/tip.png"></td><th align="left">Tip</th></tr><tr><td colspan="2" align="left" valign="top"><p>TestContext&#26694;&#26550;&#27809;&#26377;&#30417;&#27979;&#27979;&#35797;&#23454;&#20363;&#30340;&#23454;&#20363;&#21270;&#26041;&#24335;&#12290;&#25152;&#20197;&#23545;&#26500;&#36896;&#26041;&#27861;&#20351;&#29992;<tt class="interfacename">@Autowired</tt>&#23558;&#27627;&#26080;&#24847;&#20041;&#12290;</p></td></tr></table></div><p>&#26082;&#28982;<tt class="interfacename">@Autowired</tt>&#25191;&#34892;<a href="beans.html#beans-factory-autowire" title="3.3.5.&nbsp;&#33258;&#21160;&#35013;&#37197;&#65288;autowire&#65289;&#21327;&#20316;&#32773;"><span class="emphasis"><em>&#25353;&#31867;&#22411;&#33258;&#21160;&#32534;&#32455;</em></span></a>&#65292;
        &#37027;&#20040;&#22914;&#26524;&#20320;&#26377;&#30456;&#21516;&#31867;&#22411;&#30340;&#22810;&#20010;bean&#23450;&#20041;&#30340;&#35805;&#65292;&#23545;&#37027;&#20123;&#29305;&#23450;&#30340;bean&#23601;&#19981;&#33021;&#20351;&#29992;&#35813;&#26041;&#24335;&#12290;&#22312;&#36825;&#31181;&#24773;&#20917;&#19979;&#65292;
        &#20320;&#21487;&#20197;&#20351;&#29992;<tt class="interfacename">@Resource</tt><span class="emphasis"><em>&#25353;&#21517;&#23383;</em></span>&#27880;&#20837;&#12290;&#21478;&#22806;&#65292;&#22914;&#26524;&#20320;&#30340;&#27979;&#35797;&#31867;&#23454;&#29616;&#20102;<tt class="classname">ApplicationContextAware</tt>&#65292;
        &#23601;&#21487;&#20197;&#30452;&#25509;&#35775;&#38382;<tt class="classname">ApplicationContext</tt>&#24182;&#35843;&#29992;<tt class="methodname">applicationContext.getBean("titleDao")</tt>&#25191;&#34892;&#19968;&#20010;&#26174;&#24335;&#30340;&#26597;&#25214;&#12290;</p><p>&#22914;&#26524;&#20320;&#19981;&#24819;&#35753;&#20320;&#30340;&#27979;&#35797;&#23454;&#20363;&#20351;&#29992;&#20381;&#36182;&#27880;&#20837;&#65292;&#21482;&#35201;&#19981;&#23558;<tt class="interfacename">@Autowired</tt>&#25110;&#32773;<tt class="interfacename">@Resource</tt>&#27880;&#35299;&#21040;&#20219;&#20309;&#23646;&#24615;&#25110;&#32773;setter&#26041;&#27861;&#19978;&#23601;&#34892;&#20102;&#12290;
        &#21478;&#19968;&#31181;&#26041;&#24335;&#65292;&#20320;&#21487;&#20197;&#20351;&#29992;<tt class="interfacename">@TestExecutionListeners</tt>&#24182;&#24573;&#30053;&#25481;&#30417;&#21548;&#22120;&#21015;&#34920;&#20013;&#30340;<tt class="literal">DependencyInjectionTestExecutionListener.class</tt>&#23601;&#21487;&#20197;&#23436;&#20840;&#31105;&#29992;&#20381;&#36182;&#27880;&#20837;&#12290;</p><p>&#32771;&#34385;&#22914;&#19979;&#22330;&#26223;&#65306;&#25105;&#20204;&#26377;&#19968;&#20010;&#31867;&#65292;&#21517;&#23383;&#21483;<tt class="classname">HibernateTitleDao</tt>&#65288;<a href="testing.html#testing-fixture-di" title="8.3.3.2.&nbsp;&#27979;&#35797;fixtures&#20381;&#36182;&#27880;&#20837;">&#36890;&#29992;&#30446;&#26631;</a>&#31456;&#33410;&#24050;&#32463;&#36827;&#34892;&#20102;&#20171;&#32461;&#65289;&#12290;
        &#39318;&#20808;&#65292;&#35753;&#25105;&#20204;&#30475;&#30475;&#22522;&#20110;JUnit 4.4&#30340;&#27979;&#35797;&#31867;&#30340;&#23454;&#29616;&#65292;&#23427;&#20351;&#29992;<tt class="interfacename">@Autowired</tt>&#36827;&#34892;&#23646;&#24615;&#27880;&#20837;&#65288;&#22312;&#25152;&#26377;&#31034;&#20363;&#20195;&#30721;&#20043;&#21518;&#25105;&#20204;&#20250;&#26597;&#30475;&#24212;&#29992;&#19978;&#19979;&#25991;&#30340;&#37197;&#32622;&#65289;&#12290;
        <span class="emphasis"><em>&#27880;&#24847;&#65306;&#19979;&#38754;&#20195;&#30721;&#30340;&#20381;&#36182;&#27880;&#20837;&#34892;&#20026;&#24182;&#19981;&#26159;&#29305;&#23450;&#20110;JUnit 4.4&#30340;&#12290;&#21516;&#26679;&#30340;&#20381;&#36182;&#27880;&#20837;&#25216;&#26415;&#21487;&#20197;&#20351;&#29992;&#22312;&#20219;&#20309;&#27979;&#35797;&#26694;&#26550;&#20013;&#12290;</em></span></p><pre class="programlisting">@RunWith(SpringJUnit4ClassRunner.class)
<i class="lineannotation"><span class="lineannotation">// specifies the Spring configuration to load for this test fixture</span></i>
<span class="bold"><b>@ContextConfiguration(locations={"daos.xml"})</b></span>
public final class HibernateTitleDaoTests {

    <i class="lineannotation"><span class="lineannotation">// this instance will be dependency injected <span class="bold"><b>by type</b></span></span></i>
    <span class="bold"><b>@Autowired</b></span>    
    private HibernateTitleDao titleDao;

    public void testLoadTitle() throws Exception {
        Title title = this.titleDao.loadTitle(new Long(10));
        assertNotNull(title);
    }
}</pre><p>&#27492;&#22806;&#65292;&#25105;&#20204;&#21487;&#20197;&#20351;&#29992;<tt class="interfacename">@Autowired</tt>&#36827;&#34892;setter&#27880;&#20837;&#12290;</p><pre class="programlisting">@RunWith(SpringJUnit4ClassRunner.class)
<i class="lineannotation"><span class="lineannotation">// specifies the Spring configuration to load for this test fixture</span></i>
<span class="bold"><b>@ContextConfiguration(locations={"daos.xml"})</b></span>
public final class HibernateTitleDaoTests {

    <i class="lineannotation"><span class="lineannotation">// this instance will be dependency injected <span class="bold"><b>by type</b></span></span></i>
    private HibernateTitleDao titleDao;

    <span class="bold"><b>@Autowired</b></span>
    public void setTitleDao(HibernateTitleDao titleDao) {
        this.titleDao = titleDao;
    }

    public void testLoadTitle() throws Exception {
        Title title = this.titleDao.loadTitle(new Long(10));
        assertNotNull(title);
    }
}</pre><p>&#29616;&#22312;&#35753;&#25105;&#20204;&#30475;&#30475;&#20351;&#29992;<tt class="interfacename">@Resource</tt>&#36827;&#34892;&#23646;&#24615;&#27880;&#20837;&#30340;&#19968;&#20010;&#31034;&#20363;&#12290;</p><pre class="programlisting">@RunWith(SpringJUnit4ClassRunner.class)
<i class="lineannotation"><span class="lineannotation">// specifies the Spring configuration to load for this test fixture</span></i>
<span class="bold"><b>@ContextConfiguration(locations={"daos.xml"})</b></span>
public final class HibernateTitleDaoTests {

    <i class="lineannotation"><span class="lineannotation">// this instance will be dependency injected <span class="bold"><b>by name</b></span></span></i>
    <span class="bold"><b>@Resource</b></span>
    private HibernateTitleDao titleDao;

    public void testLoadTitle() throws Exception {
        Title title = this.titleDao.loadTitle(new Long(10));
        assertNotNull(title);
    }
}</pre><p>&#26368;&#21518;&#65292;&#36825;&#26159;&#20351;&#29992;<tt class="interfacename">@Resource</tt>&#36827;&#34892;setter&#27880;&#20837;&#30340;&#19968;&#20010;&#31034;&#20363;&#12290;</p><pre class="programlisting">@RunWith(SpringJUnit4ClassRunner.class)
<i class="lineannotation"><span class="lineannotation">// specifies the Spring configuration to load for this test fixture</span></i>
<span class="bold"><b>@ContextConfiguration(locations={"daos.xml"})</b></span>
public final class HibernateTitleDaoTests {

    <i class="lineannotation"><span class="lineannotation">// this instance will be dependency injected <span class="bold"><b>by name</b></span></span></i>
    private HibernateTitleDao titleDao;
    
    <span class="bold"><b>@Resource</b></span>
    public void setTitleDao(HibernateTitleDao titleDao) {
        this.titleDao = titleDao;
    }

    public void testLoadTitle() throws Exception {
        Title title = this.titleDao.loadTitle(new Long(10));
        assertNotNull(title);
    }
}</pre><p>&#19978;&#38754;&#30340;&#20195;&#30721;&#20351;&#29992;&#20102;&#30456;&#21516;&#30340;XML&#19978;&#19979;&#25991;&#25991;&#20214;&#65292;<tt class="interfacename">@ContextConfiguration</tt>&#27880;&#35299;&#20351;&#29992;&#20102;&#36825;&#20123;&#20449;&#24687;(&#22914; <tt class="literal">"daos.xml"</tt>)&#65292;&#23427;&#26159;&#36825;&#26679;&#30340;&#65306;</p><pre class="programlisting">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans" 
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans 
           http://www.springframework.org/schema/beans/spring-beans-2.5.xsd"&gt;

    <i class="lineannotation"><span class="lineannotation">&lt;!-- this bean will be injected into the <tt class="classname">HibernateTitleDaoTests</tt> class --&gt;</span></i>
    &lt;bean id="<span class="bold"><b>titleDao</b></span>" class="<span class="bold"><b>com.foo.dao.hibernate.HibernateTitleDao</b></span>"&gt;
        &lt;property name="sessionFactory" ref="sessionFactory"/&gt;
    &lt;/bean&gt;
    
    &lt;bean id="sessionFactory" class="org.springframework.orm.hibernate3.LocalSessionFactoryBean"&gt;
        <i class="lineannotation"><span class="lineannotation">&lt;!-- dependencies elided for clarity --&gt;</span></i>
    &lt;/bean&gt;

&lt;/beans&gt;</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="testcontext-tx"></a>8.3.7.4.&nbsp;&#20107;&#21153;&#31649;&#29702;</h4></div></div><div></div></div><p>&#22312;TestContext&#26694;&#26550;&#20013;&#65292;&#20107;&#21153;&#26159;&#30001;<tt class="classname">TransactionalTestExecutionListener</tt>&#36827;&#34892;&#31649;&#29702;&#30340;&#65292;
        &#40664;&#35748;&#24773;&#20917;&#19979;&#36825;&#26159;&#36890;&#36807;<tt class="interfacename">@TestExecutionListeners</tt>&#27880;&#35299;&#36827;&#34892;&#37197;&#32622;&#30340;&#65292;
        &#21363;&#20351;&#20320;&#27809;&#26377;&#22312;&#27979;&#35797;&#31867;&#20013;&#26174;&#24335;&#22768;&#26126; <tt class="interfacename">@TestExecutionListeners</tt>&#27880;&#35299;&#12290;
        &#20026;&#20102;&#25903;&#25345;&#20107;&#21153;&#65292;&#20320;&#24517;&#39035;&#36890;&#36807;<tt class="interfacename">@ContextConfiguration</tt>&#22312;&#24212;&#29992;&#19978;&#19979;&#25991;&#20013;&#21152;&#36733;&#19968;&#20010;<tt class="classname">PlatformTransactionManager</tt> bean&#12290;
        &#27492;&#22806;&#65292;&#20320;&#24517;&#39035;&#22312;&#31867;&#25110;&#26041;&#27861;&#23618;&#27425;&#19978;&#22768;&#26126;&#19968;&#20010;<tt class="interfacename">@Transactional</tt>&#12290;
        </p><p>&#35831;&#21442;&#32771;<a href="testing.html#testcontext-annotations" title="8.3.7.6.&nbsp;TestContext&#26694;&#26550;&#27880;&#35299;&#25903;&#25345;">TestContext&#26694;&#26550;&#30340;&#27880;&#35299;&#25903;&#25345;</a>&#20013;&#30340;<tt class="interfacename">@TransactionConfiguration</tt>&#20197;&#20102;&#35299;&#31867;&#23618;&#27425;&#30340;&#20107;&#21153;&#37197;&#32622;&#65288;&#20363;&#22914;&#20026;&#20107;&#21153;&#31649;&#29702;&#22120;&#35774;&#32622;bean&#21517;&#31216;&#20197;&#21450;&#40664;&#35748;&#30340;&#22238;&#28378;&#26631;&#24535;&#65289;&#12290;</p><p>&#20026;&#27599;&#20010;&#27979;&#35797;&#26041;&#27861;&#37197;&#32622;&#20107;&#21153;&#26102;&#26377;&#20960;&#31181;&#36873;&#39033;&#12290;&#22914;&#26524;&#23545;&#20110;&#25972;&#20010;&#31867;&#26469;&#35828;&#20107;&#21153;&#19981;&#21487;&#29992;&#65292;&#37027;&#20040;&#21487;&#20197;&#20351;&#29992;<tt class="interfacename">@Transactional</tt>&#26469;&#26174;&#24335;&#27880;&#35299;&#26041;&#27861;&#12290;
        &#19982;&#27492;&#31867;&#20284;&#65292;&#22914;&#26524;&#23545;&#20110;&#25972;&#20010;&#31867;&#26469;&#35828;&#20107;&#21153;<span class="emphasis"><em>&#21487;&#29992;</em></span>&#65292;&#37027;&#20040;&#21487;&#20197;&#20351;&#29992;<tt class="interfacename">@NotTransactional</tt>&#26469;&#27880;&#35299;&#26041;&#27861;&#34920;&#26126;&#19981;&#20026;&#35813;&#26041;&#27861;&#22686;&#21152;&#20107;&#21153;&#12290;
        &#20320;&#21487;&#20197;&#20351;&#29992;<tt class="interfacename">@Rollback</tt>&#27880;&#35299;&#35206;&#30422;&#31867;&#32423;&#21035;&#30340;&#40664;&#35748;&#30340;&#22238;&#28378;&#35774;&#32622;&#36827;&#32780;&#38024;&#23545;&#19968;&#20010;&#29305;&#23450;&#30340;&#27979;&#35797;&#26041;&#27861;&#25511;&#21046;&#20854;&#20107;&#21153;&#30340;&#25552;&#20132;&#12290;</p><p><span class="emphasis"><em>&#35831;&#27880;&#24847;&#65292;<a href="testing.html#testcontext-support-classes-junit38" title="8.3.7.5.1.&nbsp;JUnit 3.8&#25903;&#25345;&#31867;"><tt class="classname">AbstractTransactionalJUnit38SpringContextTests</tt></a>&#12289;
        <a href="testing.html#testcontext-support-classes-junit44" title="8.3.7.5.2.&nbsp;JUnit 4.4&#25903;&#25345;&#31867;"><tt class="classname">AbstractTransactionalJUnit4SpringContextTests</tt></a> &#21450; 
        <a href="testing.html#testcontext-support-classes-testng" title="8.3.7.5.4.&nbsp;TestNG&#25903;&#25345;&#31867;"><tt class="classname">AbstractTransactionalTestNGSpringContextTests</tt></a>&#24050;&#32463;&#22312;&#31867;&#32423;&#21035;&#39044;&#20808;&#37197;&#32622;&#22909;&#20102;&#20107;&#21153;&#25903;&#25345;&#12290;
        </em></span></p><p>&#20598;&#23572;&#20320;&#38656;&#35201;&#22312;&#19968;&#20010;&#20107;&#21153;&#24615;&#27979;&#35797;&#26041;&#27861;&#21069;&#12289;&#21518;&#25191;&#34892;&#26576;&#20123;&#20195;&#30721;&#65292;&#32780;&#36825;&#20123;&#20195;&#30721;&#26159;&#22788;&#22312;&#20107;&#21153;&#19978;&#19979;&#25991;&#20043;&#22806;&#30340;&#65292;&#20363;&#22914;&#65292;
        &#22312;&#27979;&#35797;&#25191;&#34892;&#21069;&#21435;&#39564;&#35777;&#21021;&#22987;&#30340;&#25968;&#25454;&#24211;&#29366;&#24577;&#25110;&#32773;&#22312;&#27979;&#35797;&#25191;&#34892;&#21518;&#39564;&#35777;&#26399;&#24453;&#30340;&#20107;&#21153;&#25552;&#20132;&#34892;&#20026;&#65288;&#20030;&#20363;&#26469;&#35828;&#65292;&#35813;&#27979;&#35797;&#34987;&#37197;&#32622;&#20026;&#19981;&#36827;&#34892;&#22238;&#28378;&#30340;&#65289;&#12290;
        &#25903;&#25345;<tt class="interfacename">@BeforeTransaction</tt>&#21644;<tt class="interfacename">@AfterTransaction</tt>&#27880;&#35299;&#30340;<tt class="classname">TransactionalTestExecutionListener</tt>&#27491;&#22909;&#36866;&#29992;&#20110;&#36825;&#31181;&#24773;&#20917;&#12290;
        &#20351;&#29992;&#36825;&#20123;&#27880;&#35299;&#20043;&#19968;&#26469;&#27880;&#35299;&#27979;&#35797;&#31867;&#20013;&#20219;&#20309;&#30340;<tt class="literal">public void</tt>&#26041;&#27861;&#65292;
        &#21516;&#26102;<tt class="classname">TransactionalTestExecutionListener</tt>&#20250;&#20445;&#35777;&#20320;&#30340;<span class="emphasis"><em>&#20107;&#21153;&#26041;&#27861;&#20043;&#21069;&#30340;&#20195;&#30721;</em></span>&#25110;&#32773;<span class="emphasis"><em>&#20107;&#21153;&#26041;&#27861;&#20043;&#21518;&#30340;&#20195;&#30721;</em></span>&#20250;&#22312;&#27491;&#30830;&#30340;&#26102;&#38388;&#25191;&#34892;&#12290;</p><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Tip"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Tip]" src="../images/admons/tip.png"></td><th align="left">Tip</th></tr><tr><td colspan="2" align="left" valign="top"><p>&#20219;&#24847;<span class="emphasis"><em>&#21069;&#32622;&#26041;&#27861;</em></span> (&#22914;&#20351;&#29992;JUnit 4&#30340;@Before&#25152;&#27880;&#35299;&#30340;&#26041;&#27861;)&#21644;<span class="emphasis"><em>&#21518;&#32622;&#26041;&#27861;</em></span> (&#22914;&#20351;&#29992;JUnit 4&#30340;@After&#25152;&#27880;&#35299;&#30340;&#26041;&#27861;)&#37117;&#20250;<span class="bold"><b>&#22312;</b></span>&#19968;&#20010;&#20107;&#21153;&#20013;&#24471;&#21040;&#25191;&#34892;&#12290;
          &#27492;&#22806;&#65292;&#20351;&#29992; <tt class="interfacename">@NotTransactional</tt>&#27880;&#35299;&#30340;&#27979;&#35797;&#19981;&#20250;&#25191;&#34892;<tt class="interfacename">@BeforeTransaction</tt>&#25110;<tt class="interfacename">@AfterTransaction</tt>&#25152;&#27880;&#35299;&#30340;&#26041;&#27861;&#12290;</p></td></tr></table></div><p>&#19979;&#38754;&#30340;&#22522;&#20110;JUnit 4&#30340;&#31034;&#20363;&#23637;&#31034;&#20102;&#19968;&#20010;&#20551;&#24819;&#30340;&#38598;&#25104;&#27979;&#35797;&#22330;&#26223;&#65292;&#37325;&#28857;&#38416;&#36848;&#20102;&#20107;&#21153;&#30456;&#20851;&#30340;&#27880;&#35299;&#12290;&#35831;&#26597;&#30475;&#21442;&#32771;&#25163;&#20876;&#30340;<a href="testing.html#testcontext-annotations" title="8.3.7.6.&nbsp;TestContext&#26694;&#26550;&#27880;&#35299;&#25903;&#25345;">TestContext&#26694;&#26550;&#27880;&#35299;&#25903;&#25345;</a>&#31456;&#33410;&#20197;&#20102;&#35299;&#36827;&#19968;&#27493;&#30340;&#20449;&#24687;&#21644;&#37197;&#32622;&#31034;&#20363;&#12290;</p><pre class="programlisting">@RunWith(SpringJUnit4ClassRunner.class)
@ContextConfiguration
<span class="bold"><b>@TransactionConfiguration(transactionManager="txMgr", defaultRollback=false)</b></span>
<span class="bold"><b>@Transactional</b></span>
public class FictitiousTransactionalTest {

	<span class="bold"><b>@BeforeTransaction</b></span>
	public void verifyInitialDatabaseState() {
		<i class="lineannotation"><span class="lineannotation">// logic to verify the initial state before a transaction is started</span></i>
	}

	@Before
	public void setUpTestDataWithinTransaction() {
		<i class="lineannotation"><span class="lineannotation">// set up test data within the transaction</span></i>
	}

	@Test
	<i class="lineannotation"><span class="lineannotation">// overrides the class-level defaultRollback setting</span></i>
	<span class="bold"><b>@Rollback(true)</b></span>
	public void modifyDatabaseWithinTransaction() {
		<i class="lineannotation"><span class="lineannotation">// logic which uses the test data and modifies database state</span></i>
	}

	@After
	public void tearDownWithinTransaction() {
		<i class="lineannotation"><span class="lineannotation">// execute "tear down" logic within the transaction</span></i>
	}

	<span class="bold"><b>@AfterTransaction</b></span>
	public void verifyFinalDatabaseState() {
		<i class="lineannotation"><span class="lineannotation">// logic to verify the final state after transaction has rolled back</span></i>
	}

	@Test
	<span class="bold"><b>@NotTransactional</b></span>
	public void performNonDatabaseRelatedAction() {
		<i class="lineannotation"><span class="lineannotation">// logic which does not modify database state</span></i>
	}
}</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="testcontext-support-classes"></a>8.3.7.5.&nbsp;TestContext&#25903;&#25345;&#31867;</h4></div></div><div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="testcontext-support-classes-junit38"></a>8.3.7.5.1.&nbsp;JUnit 3.8&#25903;&#25345;&#31867;</h5></div></div><div></div></div><p><tt class="literal">org.springframework.test.context.junit38</tt>&#21253;&#20026;&#22522;&#20110;JUnit 3.8&#30340;&#27979;&#35797;&#29992;&#20363;&#25552;&#20379;&#20102;&#25903;&#25345;&#31867;&#12290;</p><div class="itemizedlist"><ul type="disc"><li><p><tt class="classname">AbstractJUnit38SpringContextTests</tt>&#65306;</p><p>&#23545;&#38598;&#25104;&#20102;<span class="emphasis"><em>Spring TestContext Framework</em></span>&#19982;JUnit 3.8&#29615;&#22659;&#20013;&#30340;<tt class="classname">ApplicationContext</tt>&#27979;&#35797;&#25903;&#25345;&#30340;<tt class="classname">TestCase</tt>&#36827;&#34892;&#20102;&#25277;&#35937;&#12290;
              &#24403;&#20320;&#32487;&#25215;<tt class="classname">AbstractJUnit38SpringContextTests</tt>&#31867;&#26102;&#65292;&#20320;&#23601;&#21487;&#20197;&#35775;&#38382;&#21040;<tt class="literal">protected</tt>&#30340;&#25104;&#21592;&#21464;&#37327;&#65306;</p><div class="itemizedlist"><ul type="circle"><li><p><tt class="literal">applicationContext</tt>&#65306;&#20351;&#29992;&#23427;&#36827;&#34892;&#26174;&#24335;&#30340;bean&#26597;&#25214;&#25110;&#32773;&#27979;&#35797;&#25972;&#20010;&#19978;&#19979;&#25991;&#30340;&#29366;&#24577;&#12290;</p></li></ul></div></li><li><p><tt class="classname">AbstractTransactionalJUnit38SpringContextTests</tt>&#65306;</p><p>&#23545;&#20026;JDBC&#35775;&#38382;&#22686;&#21152;&#20415;&#25463;&#21151;&#33021;&#30340;<tt class="classname">AbstractJUnit38SpringContextTests</tt>&#30340;<span class="emphasis"><em>&#20107;&#21153;</em></span>&#25193;&#23637;&#36827;&#34892;&#25277;&#35937;&#12290;
              &#38656;&#35201;&#22312;<tt class="classname">ApplicationContext</tt>&#20013;&#23450;&#20041;&#19968;&#20010;<tt class="classname">javax.sql.DataSource</tt> bean&#21644;&#19968;&#20010;<tt class="interfacename">PlatformTransactionManager</tt> bean&#12290;
              &#24403;&#20320;&#32487;&#25215;<tt class="classname">AbstractTransactionalJUnit38SpringContextTests</tt>&#31867;&#26102;&#65292;&#20320;&#23601;&#21487;&#20197;&#35775;&#38382;&#21040;<tt class="literal">protected</tt>&#30340;&#25104;&#21592;&#21464;&#37327;&#65306;</p><div class="itemizedlist"><ul type="circle"><li><p><tt class="literal">applicationContext</tt>&#65306;&#20174;<tt class="classname">AbstractJUnit38SpringContextTests</tt>&#29238;&#31867;&#32487;&#25215;&#12290;&#20351;&#29992;&#23427;&#25191;&#34892;bean&#30340;&#26597;&#25214;&#25110;&#32773;&#27979;&#35797;&#25972;&#20010;&#19978;&#19979;&#25991;&#30340;&#29366;&#24577;</p></li><li><p><tt class="literal">simpleJdbcTemplate</tt>&#65306;&#22312;&#26597;&#35810;&#20197;&#30830;&#35748;&#29366;&#24577;&#26102;&#38750;&#24120;&#26377;&#29992;&#12290;&#20363;&#22914;&#65292;&#24212;&#29992;&#20195;&#30721;&#35201;&#21019;&#24314;&#19968;&#20010;&#23545;&#35937;&#65292;&#28982;&#21518;&#20351;&#29992;ORM&#24037;&#20855;&#23558;&#20854;&#25345;&#20037;&#21270;&#65292;
                  &#36825;&#26102;&#20320;&#24819;&#22312;&#27979;&#35797;&#20195;&#30721;&#25191;&#34892;&#21069;&#21518;&#23545;&#20854;&#36827;&#34892;&#26597;&#35810;&#65292;&#20197;&#30830;&#23450;&#25968;&#25454;&#26159;&#21542;&#25554;&#20837;&#21040;&#25968;&#25454;&#24211;&#20013;&#65288;Spring&#20250;&#20445;&#35777;&#35813;&#26597;&#35810;&#36816;&#34892;&#22312;&#30456;&#21516;&#20107;&#21153;&#20869;&#65289;&#12290;
                  &#20320;&#38656;&#35201;&#21578;&#35785;&#20320;&#30340;ORM&#24037;&#20855;&#8216;flush&#8217;&#20854;&#25913;&#21464;&#20197;&#27491;&#30830;&#23436;&#25104;&#20219;&#21153;&#65292;&#20363;&#22914;&#65292;&#20351;&#29992;Hibernate<tt class="classname">Session</tt>&#25509;&#21475;&#30340;<tt class="methodname">flush()</tt>&#26041;&#27861;&#12290;</p></li></ul></div></li></ul></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="testcontext-support-classes-junit44"></a>8.3.7.5.2.&nbsp;JUnit 4.4&#25903;&#25345;&#31867;</h5></div></div><div></div></div><p><tt class="literal">org.springframework.test.context.junit4</tt>&#21253;&#20026;&#22522;&#20110;JUnit 4.4&#30340;&#27979;&#35797;&#29992;&#20363;&#25552;&#20379;&#20102;&#25903;&#25345;&#31867;&#12290;</p><div class="itemizedlist"><ul type="disc"><li><p><tt class="classname">AbstractJUnit4SpringContextTests</tt>&#65306;</p><p>&#23545;&#38598;&#25104;&#20102;<span class="emphasis"><em>Spring TestContext Framework</em></span>&#19982;JUnit 4.4&#29615;&#22659;&#20013;&#30340;<tt class="classname">ApplicationContext</tt>&#27979;&#35797;&#25903;&#25345;&#30340;&#22522;&#26412;&#27979;&#35797;&#31867;&#36827;&#34892;&#20102;&#25277;&#21462;&#12290;</p><p>&#24403;&#20320;&#32487;&#25215;<tt class="classname">AbstractJUnit4SpringContextTests</tt>&#26102;&#65292;&#20320;&#23601;&#21487;&#20197;&#35775;&#38382;&#21040;<tt class="literal">protected</tt>&#30340;&#25104;&#21592;&#21464;&#37327;&#65306;</p><div class="itemizedlist"><ul type="circle"><li><p><tt class="literal">applicationContext</tt>&#65306;&#20351;&#29992;&#23427;&#36827;&#34892;&#26174;&#24335;&#30340;bean&#26597;&#25214;&#25110;&#32773;&#27979;&#35797;&#25972;&#20010;&#19978;&#19979;&#25991;&#30340;&#29366;&#24577;&#12290;</p></li></ul></div></li><li><p><tt class="classname">AbstractTransactionalJUnit4SpringContextTests</tt>&#65306;</p><p>&#23545;&#20026;JDBC&#35775;&#38382;&#22686;&#21152;&#20415;&#25463;&#21151;&#33021;&#30340;<tt class="classname">AbstractJUnit4SpringContextTests</tt>&#30340;<span class="emphasis"><em>&#20107;&#21153;</em></span>&#25193;&#23637;&#36827;&#34892;&#25277;&#35937;&#12290;
              &#38656;&#35201;&#22312;<tt class="classname">ApplicationContext</tt>&#20013;&#23450;&#20041;&#19968;&#20010;<tt class="classname">javax.sql.DataSource</tt> bean&#21644;&#19968;&#20010;<tt class="interfacename">PlatformTransactionManager</tt> bean&#12290;</p><p>&#24403;&#20320;&#32487;&#25215;<tt class="classname">AbstractTransactionalJUnit4SpringContextTests</tt>&#31867;&#26102;&#65292;&#20320;&#23601;&#21487;&#20197;&#35775;&#38382;&#21040;&#19979;&#21015;<tt class="literal">protected</tt>&#30340;&#25104;&#21592;&#21464;&#37327;&#65306;</p><div class="itemizedlist"><ul type="circle"><li><p><tt class="literal">applicationContext</tt>&#65306;&#32487;&#25215;&#33258;&#29238;&#31867;<tt class="classname">AbstractJUnit4SpringContextTests</tt>&#12290;
                  &#20351;&#29992;&#23427;&#25191;&#34892;bean&#30340;&#26597;&#25214;&#25110;&#32773;&#27979;&#35797;&#25972;&#20010;&#19978;&#19979;&#25991;&#30340;&#29366;&#24577;</p></li><li><p><tt class="literal">simpleJdbcTemplate</tt>&#65306;&#24403;&#36890;&#36807;&#26597;&#35810;&#26469;&#30830;&#35748;&#29366;&#24577;&#26102;&#38750;&#24120;&#26377;&#29992;&#12290;&#20363;&#22914;&#65292;&#24212;&#29992;&#20195;&#30721;&#35201;&#21019;&#24314;&#19968;&#20010;&#23545;&#35937;&#65292;
                  &#28982;&#21518;&#20351;&#29992;ORM&#24037;&#20855;&#23558;&#20854;&#25345;&#20037;&#21270;&#65292;&#36825;&#26102;&#20320;&#24819;&#22312;&#27979;&#35797;&#20195;&#30721;&#25191;&#34892;&#21069;&#21518;&#23545;&#20854;&#36827;&#34892;&#26597;&#35810;&#65292;&#20197;&#30830;&#23450;&#25968;&#25454;&#26159;&#21542;&#25554;&#20837;&#21040;&#25968;&#25454;&#24211;&#20013;&#12290;
                  &#65288;Spring&#20250;&#20445;&#35777;&#35813;&#26597;&#35810;&#36816;&#34892;&#22312;&#30456;&#21516;&#20107;&#21153;&#20869;&#12290;&#65289;&#20320;&#38656;&#35201;&#21578;&#35785;&#20320;&#30340;ORM&#24037;&#20855;&#8216;flush&#8217;&#20854;&#25913;&#21464;&#20197;&#27491;&#30830;&#23436;&#25104;&#20219;&#21153;&#65292;&#20363;&#22914;&#65292;
                  &#20351;&#29992;Hibernate<tt class="classname">Session</tt>&#25509;&#21475;&#30340;<tt class="methodname">flush()</tt>&#26041;&#27861;&#12290;</p></li></ul></div></li></ul></div><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Tip"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Tip]" src="../images/admons/tip.png"></td><th align="left">Tip</th></tr><tr><td colspan="2" align="left" valign="top"><p>&#36825;&#20123;&#31867;&#20165;&#20165;&#20026;&#25193;&#23637;&#25552;&#20379;&#20102;&#26041;&#20415;&#12290; &#22914;&#26524;&#20320;&#19981;&#24819;&#23558;&#20320;&#30340;&#27979;&#35797;&#31867;&#32465;&#23450;&#21040;Spring&#30340;&#31867;&#19978; - &#20363;&#22914;&#65292;&#22914;&#26524;&#20320;&#35201;&#30452;&#25509;&#25193;&#23637;&#20320;&#24819;&#27979;&#35797;&#30340;&#31867; - &#21482;&#38656;&#35201;&#36890;&#36807;<tt class="interfacename">@RunWith(SpringJUnit4ClassRunner.class)</tt>&#12289;
            <tt class="interfacename">@ContextConfiguration</tt>&#12289;<tt class="interfacename">@TestExecutionListeners</tt>&#31561;&#27880;&#35299;&#26469;&#37197;&#32622;&#20320;&#33258;&#24049;&#30340;&#27979;&#35797;&#31867;&#23601;&#21487;&#20197;&#20102;&#12290;</p></td></tr></table></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="testcontext-junit4-runner"></a>8.3.7.5.3.&nbsp;&#23450;&#21046;JUnit 4.4&#36816;&#34892;&#22120;</h5></div></div><div></div></div><p><span class="emphasis"><em>Spring TestContext Framework</em></span>&#36890;&#36807;&#19968;&#20010;&#21487;&#23450;&#21046;&#30340;&#36816;&#34892;&#22120;&#25552;&#20379;&#20102;&#19982;JUnit 4.4&#30340;&#23436;&#20840;&#38598;&#25104;&#12290;
          &#36890;&#36807;&#20351;&#29992;<tt class="literal">@Runwith(SpringJUnit4ClassRunner.class)</tt>&#26469;&#27880;&#35299;&#27979;&#35797;&#31867;&#65292;&#24320;&#21457;&#32773;&#21487;&#20197;&#23454;&#29616;&#26631;&#20934;&#30340;JUnit 4.4&#21333;&#20803;&#21644;&#38598;&#25104;&#27979;&#35797;&#65292;
          &#21516;&#26102;&#36824;&#33021;&#33719;&#24471;TestContext&#26694;&#26550;&#30340;&#22909;&#22788;&#65292;&#22914;&#23545;&#21152;&#36733;&#24212;&#29992;&#19978;&#19979;&#25991;&#30340;&#25903;&#25345;&#65292;&#27979;&#35797;&#23454;&#20363;&#30340;&#20381;&#36182;&#27880;&#20837;&#65292;&#25191;&#34892;&#20107;&#21153;&#24615;&#27979;&#35797;&#26041;&#27861;&#31561;&#31561;&#12290;
          &#19979;&#38754;&#30340;&#20195;&#30721;&#28165;&#21333;&#26174;&#31034;&#20102;&#20351;&#29992;&#23450;&#21046;&#30340;Spring Runner&#26469;&#37197;&#32622;&#19968;&#20010;&#27979;&#35797;&#31867;&#30340;&#26368;&#23567;&#38656;&#27714;&#12290;
          <span class="emphasis"><em>&#27880;&#24847;&#65292;&#25105;&#20204;&#20351;&#29992;&#19968;&#20010;&#31354;&#30340;&#21015;&#34920;&#26469;&#37197;&#32622;<tt class="interfacename">@TestExecutionListeners</tt>&#20197;&#20415;&#31105;&#29992;&#40664;&#35748;&#30340;&#30417;&#21548;&#22120;&#65292;
          &#21542;&#21017;&#38656;&#35201;&#36890;&#36807;<tt class="interfacename">@ContextConfiguration</tt>&#37197;&#32622;&#19968;&#20010; <tt class="interfacename">ApplicationContext</tt>&#12290;</em></span></p><pre class="programlisting">@RunWith(SpringJUnit4ClassRunner.class)
@TestExecutionListeners({})
public class SimpleTest {

	@Test
	public void testMethod() {
		<i class="lineannotation"><span class="lineannotation">// execute test logic...</span></i>
	}
}</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h5 class="title"><a name="testcontext-support-classes-testng"></a>8.3.7.5.4.&nbsp;TestNG&#25903;&#25345;&#31867;</h5></div></div><div></div></div><p><tt class="literal">org.springframework.test.context.testng</tt>&#21253;&#20026;&#22522;&#20110;TestNG&#30340;&#27979;&#35797;&#29992;&#20363;&#25552;&#20379;&#20102;&#25903;&#25345;&#31867;&#12290;</p><div class="itemizedlist"><ul type="disc"><li><p><tt class="classname">AbstractTestNGSpringContextTests</tt>&#65306;</p><p>&#23545;&#38598;&#25104;&#20102;<span class="emphasis"><em>Spring TestContext Framework</em></span>&#19982;TestNG&#29615;&#22659;&#20013;&#30340;<tt class="classname">ApplicationContext</tt>&#27979;&#35797;&#25903;&#25345;&#30340;&#22522;&#30784;&#27979;&#35797;&#31867;&#36827;&#34892;&#20102;&#25277;&#35937;&#12290;</p><p>&#24403;&#20320;&#32487;&#25215;<tt class="classname">AbstractTestNGSpringContextTests</tt>&#26102;&#65292;&#23601;&#21487;&#20197;&#35775;&#38382;&#21040;&#19979;&#21015;<tt class="literal">protected</tt>&#30340;&#25104;&#21592;&#21464;&#37327;&#65306;</p><div class="itemizedlist"><ul type="circle"><li><p><tt class="literal">applicationContext</tt>&#65306;&#20351;&#29992;&#23427;&#36827;&#34892;&#26174;&#24335;&#30340;bean&#26597;&#25214;&#25110;&#32773;&#27979;&#35797;&#25972;&#20010;&#19978;&#19979;&#25991;&#30340;&#29366;&#24577;&#12290;</p></li></ul></div></li><li><p><tt class="classname">AbstractTransactionalTestNGSpringContextTests</tt>&#65306;</p><p>&#23545;&#20026;JDBC&#35775;&#38382;&#22686;&#21152;&#20415;&#25463;&#21151;&#33021;&#30340;<tt class="classname">AbstractTestNGSpringContextTests</tt>&#30340;<span class="emphasis"><em>&#20107;&#21153;</em></span>&#25193;&#23637;&#36827;&#34892;&#25277;&#35937;&#12290;
              &#38656;&#35201;&#22312;<tt class="classname">ApplicationContext</tt>&#20013;&#23450;&#20041;&#19968;&#20010;<tt class="classname">javax.sql.DataSource</tt> bean&#21644;&#19968;&#20010;<tt class="interfacename">PlatformTransactionManager</tt> bean&#12290;</p><p>&#24403;&#20320;&#32487;&#25215;<tt class="classname">AbstractTransactionalTestNGSpringContextTests</tt>&#31867;&#26102;&#65292;&#23601;&#21487;&#20197;&#35775;&#38382;&#19979;&#21015;<tt class="literal">protected</tt>&#30340;&#25104;&#21592;&#21464;&#37327;&#65306;</p><div class="itemizedlist"><ul type="circle"><li><p><tt class="literal">applicationContext</tt>&#65306;&#32487;&#25215;&#33258;&#29238;&#31867;<tt class="classname">AbstractTestNGSpringContextTests</tt>&#12290;&#20351;&#29992;&#23427;&#25191;&#34892;bean&#30340;&#26597;&#25214;&#25110;&#32773;&#27979;&#35797;&#25972;&#20010;&#19978;&#19979;&#25991;&#30340;&#29366;&#24577;&#12290;</p></li><li><p><tt class="literal">simpleJdbcTemplate</tt>&#65306;&#24403;&#36890;&#36807;&#26597;&#35810;&#26469;&#30830;&#35748;&#29366;&#24577;&#26102;&#38750;&#24120;&#26377;&#29992;&#12290;&#20363;&#22914;&#65292;&#24212;&#29992;&#20195;&#30721;&#35201;&#21019;&#24314;&#19968;&#20010;&#23545;&#35937;&#65292;
                  &#28982;&#21518;&#20351;&#29992;ORM&#24037;&#20855;&#23558;&#20854;&#25345;&#20037;&#21270;&#65292;&#36825;&#26102;&#20320;&#24819;&#22312;&#27979;&#35797;&#20195;&#30721;&#25191;&#34892;&#21069;&#21518;&#23545;&#20854;&#36827;&#34892;&#26597;&#35810;&#65292;&#20197;&#30830;&#23450;&#25968;&#25454;&#26159;&#21542;&#25554;&#20837;&#21040;&#25968;&#25454;&#24211;&#20013;&#12290;&#65288;Spring&#20250;&#20445;&#35777;&#35813;&#26597;&#35810;&#36816;&#34892;&#22312;&#30456;&#21516;&#20107;&#21153;&#20869;&#12290;&#65289;
                  &#20320;&#38656;&#35201;&#21578;&#35785;&#20320;&#30340;ORM&#24037;&#20855;&#8216;flush&#8217;&#20854;&#25913;&#21464;&#20197;&#27491;&#30830;&#23436;&#25104;&#20219;&#21153;&#65292;&#20363;&#22914;&#65292;&#20351;&#29992;Hibernate<tt class="classname">Session</tt>&#25509;&#21475;&#30340;<tt class="methodname">flush()</tt>&#26041;&#27861;&#12290;</p></li></ul></div></li></ul></div><div class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Tip"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Tip]" src="../images/admons/tip.png"></td><th align="left">Tip</th></tr><tr><td colspan="2" align="left" valign="top"><p>&#36825;&#20123;&#31867;&#20165;&#20165;&#20026;&#25193;&#23637;&#25552;&#20379;&#20102;&#26041;&#20415;&#12290; &#22914;&#26524;&#20320;&#19981;&#24819;&#23558;&#20320;&#30340;&#27979;&#35797;&#31867;&#32465;&#23450;&#21040;Spring&#30340;&#31867;&#19978; - &#20363;&#22914;&#65292;&#22914;&#26524;&#20320;&#35201;&#30452;&#25509;&#25193;&#23637;&#20320;&#24819;&#27979;&#35797;&#30340;&#31867; - &#21482;&#38656;&#35201;&#36890;&#36807;
            <tt class="interfacename">@ContextConfiguration</tt>&#12289;<tt class="interfacename">@TestExecutionListeners</tt>&#31561;&#27880;&#35299;&#26469;&#37197;&#32622;&#20320;&#33258;&#24049;&#30340;&#27979;&#35797;&#31867;&#23601;&#21487;&#20197;&#20102;&#12290;
            &#24182;&#20351;&#29992;<tt class="classname">TestContextManager</tt>&#26469;&#25163;&#24037;&#30417;&#27979;&#20320;&#30340;&#27979;&#35797;&#31867;&#12290;
            &#35831;&#26597;&#30475;<tt class="classname">AbstractTestNGSpringContextTests</tt>&#30340;&#28304;&#20195;&#30721;&#20197;&#20102;&#35299;&#22914;&#20309;&#26816;&#27979;&#20320;&#33258;&#24049;&#30340;&#27979;&#35797;&#31867;&#12290;</p></td></tr></table></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h4 class="title"><a name="testcontext-annotations"></a>8.3.7.6.&nbsp;TestContext&#26694;&#26550;&#27880;&#35299;&#25903;&#25345;</h4></div></div><div></div></div><p>Spring TestContext Framework&#25903;&#25345;<a href="testing.html#integration-testing-common-annotations" title="8.3.5.&nbsp;&#24120;&#29992;&#27880;&#35299;">&#36890;&#29992;&#27880;&#35299;</a>&#31456;&#33410;&#25552;&#21040;&#30340;&#25152;&#26377;&#27880;&#35299;&#12290;
        &#28982;&#32780;&#19979;&#38754;&#30340;&#36825;&#20123;&#27880;&#35299;<span class="emphasis"><em>&#21482;&#26377;&#37197;&#21512;JUnit&#25165;&#33021;&#20351;&#29992;&#65288;&#27604;&#22914;&#25645;&#37197;<a href="testing.html#testcontext-junit4-runner" title="8.3.7.5.3.&nbsp;&#23450;&#21046;JUnit 4.4&#36816;&#34892;&#22120;">SpringJUnit4ClassRunner</a>&#25110;&#32773;
        <a href="testing.html#testcontext-support-classes-junit38" title="8.3.7.5.1.&nbsp;JUnit 3.8&#25903;&#25345;&#31867;">JUnit 3.8</a>&#21450;<a href="testing.html#testcontext-support-classes-junit44" title="8.3.7.5.2.&nbsp;JUnit 4.4&#25903;&#25345;&#31867;">JUnit 4.4</a>&#25903;&#25345;&#31867;&#65289;&#12290;</em></span></p><div class="itemizedlist"><ul type="disc"><li><p><tt class="interfacename">@IfProfileValue</tt></p></li><li><p><tt class="interfacename">@ProfileValueSourceConfiguration</tt></p></li><li><p><tt class="interfacename">@ExpectedException</tt></p><p>&#21327;&#21516;&#20351;&#29992;Spring&#30340;<tt class="interfacename">@ExpectedException</tt>&#27880;&#35299;&#19982;JUnit 4&#30340;<tt class="interfacename">@Test(expected=...)</tt>&#20250;&#23548;&#33268;&#19968;&#20010;&#19981;&#21487;&#36991;&#20813;&#30340;&#20914;&#31361;&#12290;
            &#22240;&#27492;&#24403;&#19982;JUnit 4&#38598;&#25104;&#26102;&#65292;&#24320;&#21457;&#32773;&#24517;&#39035;&#36873;&#25321;&#20854;&#20013;&#19968;&#20010;&#65292;&#22312;&#36825;&#31181;&#24773;&#20917;&#19979;&#24314;&#35758;&#20351;&#29992;&#26174;&#24335;&#30340;JUnit 4&#37197;&#32622;&#12290;</p></li><li><p><tt class="interfacename">@Timed</tt></p><p>Spring&#30340;<tt class="interfacename">@Timed</tt>&#27880;&#35299;&#19982;JUnit 4&#30340;<tt class="interfacename">@Test(timeout=...)</tt>&#25903;&#25345;&#20855;&#26377;&#19981;&#21516;&#30340;&#35821;&#20041;&#12290;
            &#29305;&#21035;&#22320;&#65292;&#37492;&#20110;JUnit 4&#22788;&#29702;&#27979;&#35797;&#25191;&#34892;&#36229;&#26102;&#65288;&#22914;&#36890;&#36807;&#22312;&#19968;&#20010;&#21333;&#29420;&#30340;<tt class="interfacename">&#32447;&#31243;</tt>&#20013;&#25191;&#34892;&#27979;&#35797;&#26041;&#27861;&#65289;&#30340;&#26041;&#24335;&#65292;
            &#25105;&#20204;&#19981;&#21487;&#33021;&#22312;&#19968;&#20010;&#20107;&#21153;&#19978;&#19979;&#25991;&#20013;&#30340;&#27979;&#35797;&#26041;&#27861;&#19978;&#20351;&#29992;JUnit&#30340;<tt class="interfacename">@Test(timeout=...)</tt>&#37197;&#32622;&#12290;&#22240;&#27492;&#65292;
            &#22914;&#26524;&#20320;&#24819;&#23558;&#19968;&#20010;&#27979;&#35797;&#26041;&#27861;&#37197;&#32622;&#25104;<span class="emphasis"><em>&#35745;&#26102;</em></span>&#19988;<span class="emphasis"><em>&#20855;&#20107;&#21153;&#24615;</em></span>&#30340;&#65292;
            &#20320;&#23601;&#24517;&#39035;&#32852;&#21512;&#20351;&#29992;Spring&#30340;<tt class="interfacename">@Timed</tt>&#21450;<tt class="interfacename">@Transactional</tt>&#27880;&#35299;&#12290;
            &#36824;&#20540;&#24471;&#27880;&#24847;&#30340;&#26159;<tt class="interfacename">@Test(timeout=...)</tt>&#21482;&#31649;&#27979;&#35797;&#26041;&#27861;&#26412;&#36523;&#25191;&#34892;&#30340;&#27425;&#25968;&#65292;&#22914;&#26524;&#36229;&#20986;&#30340;&#35805;&#31435;&#21051;&#23601;&#20250;&#22833;&#36133;&#65307;
            &#28982;&#32780;&#65292;<tt class="interfacename">@Timed</tt>&#20851;&#27880;&#30340;&#26159;&#27979;&#35797;&#25191;&#34892;&#30340;&#24635;&#26102;&#38388;&#65288;&#21253;&#25324;&#24314;&#31435;&#21644;&#38144;&#27585;&#25805;&#20316;&#20197;&#21450;&#37325;&#22797;&#65289;&#65292;&#24182;&#19988;&#19981;&#20250;&#20196;&#27979;&#35797;&#22833;&#36133;&#12290;
            </p></li><li><p><tt class="interfacename">@Repeat</tt></p></li></ul></div><p>Spring TestContext Framework&#36824;&#25903;&#25345;&#19979;&#38754;&#36825;&#20123;&#38750;&#29305;&#23450;&#20110;&#27979;&#35797;&#30340;&#27880;&#35299;&#65292;&#24182;&#19988;&#20445;&#25345;&#20854;&#35821;&#20041;&#19981;&#21464;&#12290;</p><div class="itemizedlist"><ul type="disc"><li><p><tt class="interfacename">@Autowired</tt></p></li><li><p><tt class="interfacename">@Qualifier</tt></p></li><li><p><tt class="interfacename">@Resource</tt> (javax.annotation)<span class="emphasis"><em>&#22914;&#26524;JSR-250&#21487;&#29992;</em></span></p></li><li><p><tt class="interfacename">@PersistenceContext</tt> (javax.persistence)<span class="emphasis"><em>&#22914;&#26524;JPA&#21487;&#29992;</em></span></p></li><li><p><tt class="interfacename">@PersistenceUnit</tt> (javax.persistence)<span class="emphasis"><em>&#22914;&#26524;JPA&#21487;&#29992;</em></span></p></li><li><p><tt class="interfacename">@Required</tt></p></li><li><p><tt class="interfacename">@Transactional</tt></p></li></ul></div><p>&#19979;&#38754;&#30340;&#21015;&#34920;&#21253;&#21547;&#20102;&#29305;&#23450;&#20110;Spring TestContext Framework&#30340;&#25152;&#26377;&#27880;&#35299;&#12290;&#35831;&#26597;&#30475;&#30456;&#24212;&#30340;JavaDoc&#20197;&#20102;&#35299;&#36827;&#19968;&#27493;&#30340;&#20449;&#24687;&#65292;&#21253;&#25324;&#40664;&#35748;&#30340;&#23646;&#24615;&#20540;&#31561;&#31561;&#12290;</p><div class="itemizedlist"><ul type="disc"><li><p><span class="bold"><b><tt class="interfacename">@ContextConfiguration</tt></b></span></p><p>&#23450;&#20041;&#31867;&#32423;&#21035;&#30340;&#20803;&#25968;&#25454;&#20197;&#20915;&#23450;&#22914;&#20309;&#21152;&#36733;&#21644;&#37197;&#32622;<tt class="interfacename">ApplicationContext</tt>&#12290;&#29305;&#21035;&#22320;&#65292;
            @ContextConfiguration&#23450;&#20041;&#20102;&#35201;&#21152;&#36733;&#30340;&#24212;&#29992;&#19978;&#19979;&#25991;&#36164;&#28304;<tt class="literal">&#20301;&#32622;</tt>&#20197;&#21450;&#29992;&#26469;&#21152;&#36733;&#19978;&#19979;&#25991;&#30340;<tt class="interfacename">ContextLoader</tt>&#31574;&#30053;&#12290;</p><pre class="programlisting">@ContextConfiguration(locations={"example/test-context.xml"}, loader=CustomContextLoader.class)
public class CustomConfiguredApplicationContextTests {
    <i class="lineannotation"><span class="lineannotation">// class body...</span></i>
}</pre><p>&#27880;&#24847;&#65306;<tt class="interfacename">@ContextConfiguration</tt>&#40664;&#35748;&#24773;&#20917;&#19979;&#20026;<span class="emphasis"><em>&#32487;&#25215;</em></span>&#30340;&#36164;&#28304;&#20301;&#32622;&#25552;&#20379;&#20102;&#25903;&#25345;&#12290;
            &#26597;&#30475;<a href="testing.html#testcontext-ctx-management" title="8.3.7.2.&nbsp;&#19978;&#19979;&#25991;&#31649;&#29702;&#21644;&#32531;&#23384;">&#19978;&#19979;&#25991;&#31649;&#29702;&#21644;&#32531;&#23384;</a>&#31456;&#33410;&#21450;JavaDoc&#26469;&#20102;&#35299;&#26356;&#22810;&#30340;&#31034;&#20363;&#21644;&#32454;&#33410;&#20449;&#24687;&#12290;</p></li><li><p><span class="bold"><b><tt class="interfacename">@TestExecutionListeners</tt></b></span></p><p>&#23450;&#20041;&#31867;&#32423;&#21035;&#30340;&#20803;&#25968;&#25454;&#65292;<tt class="interfacename">TestExecutionListener</tt>s&#20250;&#20351;&#29992;<tt class="classname">TestContextManager</tt>&#36827;&#34892;&#27880;&#20876;&#12290;
            &#36890;&#24120;&#65292;<tt class="interfacename">@TestExecutionListeners</tt>&#19982;<tt class="interfacename">@ContextConfiguration</tt>&#20250;&#25645;&#37197;&#20351;&#29992;&#12290;</p><pre class="programlisting">@ContextConfiguration
@TestExecutionListeners({CustomTestExecutionListener.class, AnotherTestExecutionListener.class})
public class CustomTestExecutionListenerTests {
    <i class="lineannotation"><span class="lineannotation">// class body...</span></i>
}</pre><p>&#27880;&#24847;&#65306;<tt class="interfacename">@TestExecutionListeners</tt>&#40664;&#35748;&#24773;&#20917;&#19979;&#20026;<span class="emphasis"><em>&#32487;&#25215;</em></span>&#30340;&#30417;&#21548;&#22120;&#25552;&#20379;&#20102;&#25903;&#25345;&#12290;&#26597;&#30475;JavaDoc&#26469;&#20102;&#35299;&#26356;&#22810;&#30340;&#31034;&#20363;&#21644;&#32454;&#33410;&#20449;&#24687;&#12290;</p></li><li><p><span class="bold"><b><tt class="interfacename">@TransactionConfiguration</tt></b></span></p><p>&#20026;&#37197;&#32622;&#20107;&#21153;&#24615;&#27979;&#35797;&#23450;&#20041;&#20102;&#31867;&#32423;&#21035;&#30340;&#20803;&#25968;&#25454;&#12290;&#29305;&#21035;&#22320;&#65292;&#22914;&#26524;&#38656;&#35201;&#30340;PlatformTransactionManager&#19981;&#26159;&#8220;transactionManager&#8221;&#30340;&#35805;&#65292;
            &#37027;&#20040;&#21487;&#20197;&#26174;&#24335;&#37197;&#32622;&#39537;&#21160;&#20107;&#21153;&#30340;<tt class="interfacename">PlatformTransactionManager</tt>&#30340;bean&#21517;&#23383;&#12290;&#27492;&#22806;&#65292;
            &#21487;&#20197;&#23558;<tt class="literal">defaultRollback</tt>&#26631;&#24535;&#25913;&#20026;<tt class="literal">false</tt>&#12290;&#36890;&#24120;&#65292;
            <tt class="interfacename">@TransactionConfiguration</tt>&#19982;<tt class="interfacename">@ContextConfiguration</tt>&#25645;&#37197;&#20351;&#29992;&#12290;</p><pre class="programlisting">@ContextConfiguration
@TransactionConfiguration(transactionManager="txMgr", defaultRollback=false)
public class CustomConfiguredTransactionalTests {
    <i class="lineannotation"><span class="lineannotation">// class body...</span></i>
}</pre></li><li><p><span class="bold"><b><tt class="interfacename">@BeforeTransaction</tt></b></span></p><p>&#34920;&#26126;&#34987;&#27880;&#35299;&#30340;<tt class="literal">public void</tt>&#26041;&#27861;&#24212;&#35813;&#22312;&#27979;&#35797;&#26041;&#27861;&#30340;&#20107;&#21153;&#24320;&#22987;<span class="emphasis"><em>&#20043;&#21069;</em></span>&#25191;&#34892;&#65292;
            &#35813;&#20107;&#21153;&#26159;&#36890;&#36807;<tt class="interfacename">@Transactional</tt>&#27880;&#35299;&#26469;&#37197;&#32622;&#30340;&#12290;
           </p><pre class="programlisting">@BeforeTransaction
public void beforeTransaction() {
    <i class="lineannotation"><span class="lineannotation">// logic to be executed before a transaction is started</span></i>
}</pre></li><li><p><span class="bold"><b><tt class="interfacename">@AfterTransaction</tt></b></span></p><p>&#34920;&#26126;&#34987;&#27880;&#35299;&#30340;<tt class="literal">public void</tt>&#26041;&#27861;&#24212;&#35813;&#22312;&#27979;&#35797;&#26041;&#27861;&#30340;&#20107;&#21153;&#32467;&#26463;<span class="emphasis"><em>&#20043;&#21518;</em></span>&#25191;&#34892;&#65292;
            &#35813;&#20107;&#21153;&#26159;&#36890;&#36807;<tt class="interfacename">@Transactional</tt>&#27880;&#35299;&#26469;&#37197;&#32622;&#30340;&#12290;
           </p><pre class="programlisting">@AfterTransaction
public void afterTransaction() {
    <i class="lineannotation"><span class="lineannotation">// logic to be executed after a transaction has ended</span></i>
}</pre></li></ul></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="testing-examples-petclinic"></a>8.3.8.&nbsp;PetClinic&#31034;&#20363;</h3></div></div><div></div></div><p>&#22312;Spring&#30340;&#23436;&#25972;&#21457;&#34892;&#21253;&#37324;&#21253;&#21547;&#20102;PetClinic&#31034;&#20363;&#24212;&#29992;&#65292;&#23427;&#20197;JUnit 4.4&#29615;&#22659;&#38416;&#36848;&#20102;<span class="emphasis"><em>Spring TestContext Framework</em></span>&#30340;&#20960;&#20010;&#29305;&#24615;&#12290;
      &#22823;&#22810;&#25968;&#21151;&#33021;&#21253;&#21547;&#22312;<tt class="classname">AbstractClinicTests</tt>&#37324;&#65292;&#37096;&#20998;&#20869;&#23481;&#21015;&#20030;&#22914;&#19979;&#65306;</p><pre class="programlisting"><span class="bold"><b>@ContextConfiguration</b></span>
public abstract class AbstractClinicTests <span class="bold"><b>extends AbstractTransactionalJUnit4SpringContextTests</b></span> {

	<span class="bold"><b>@Autowired</b></span>
	protected Clinic clinic;

	@Test
	public void getVets() {
		Collection&lt;Vet&gt; vets = this.clinic.getVets();
		assertEquals("JDBC query must show the same number of vets",
			<span class="bold"><b>super.countRowsInTable("VETS")</b></span>, vets.size());
		Vet v1 = EntityUtils.getById(vets, Vet.class, 2);
		assertEquals("Leary", v1.getLastName());
		assertEquals(1, v1.getNrOfSpecialties());
		assertEquals("radiology", (v1.getSpecialties().get(0)).getName());
		<i class="lineannotation"><span class="lineannotation">// ...</span></i>
	}
	
	<i class="lineannotation"><span class="lineannotation">// ...</span></i>
}</pre><p>&#27880;&#24847;&#65306;</p><div class="itemizedlist"><ul type="disc"><li><p>&#35813;&#27979;&#35797;&#29992;&#20363;&#32487;&#25215;&#20102;<tt class="classname">AbstractTransactionalJUnit4SpringContextTests</tt>&#31867;&#65292;
          &#20174;&#36825;&#37324;&#23427;&#32487;&#25215;&#20102;&#38024;&#23545;&#20381;&#36182;&#27880;&#20837;&#30340;&#37197;&#32622;&#65288;&#36890;&#36807;<tt class="classname">DependencyInjectionTestExecutionListener</tt>&#65289;&#21644;&#20107;&#21153;&#24615;&#34892;&#20026;&#65288;&#36890;&#36807;<tt class="classname">TransactionalTestExecutionListener</tt>&#65289;&#12290;</p></li><li><p><tt class="literal">clinic</tt>&#25104;&#21592;&#21464;&#37327; - &#35201;&#27979;&#35797;&#30340;&#24212;&#29992;&#31243;&#24207;&#23545;&#35937; - &#26159;&#36890;&#36807;<tt class="interfacename">@Autowired</tt>&#36827;&#34892;&#20381;&#36182;&#27880;&#20837;&#30340;&#12290;</p></li><li><p><tt class="methodname">testGetVets()</tt>&#26041;&#27861;&#35828;&#26126;&#22914;&#20309;&#20351;&#29992;&#32487;&#25215;&#19979;&#26469;&#30340;<tt class="methodname">countRowsInTable()</tt>&#26041;&#27861;&#26469;&#36731;&#26494;&#39564;&#35777;&#34920;&#20013;&#30340;&#34892;&#25968;&#65292;
          &#36827;&#32780;&#27979;&#35797;&#24212;&#29992;&#20195;&#30721;&#30340;&#27491;&#30830;&#34892;&#20026;&#12290;&#36825;&#28857;&#20801;&#35768;&#23454;&#29616;&#26356;&#24378;&#22823;&#30340;&#27979;&#35797;&#65292;&#20943;&#23569;&#20102;&#23545;&#30830;&#20999;&#27979;&#35797;&#25968;&#25454;&#30340;&#20381;&#36182;&#12290;&#20363;&#22914;&#65292;&#26080;&#38656;&#25171;&#26029;&#27979;&#35797;&#23601;&#21487;&#20197;&#21521;&#25968;&#25454;&#24211;&#20013;&#22686;&#21152;&#26032;&#34892;&#12290;</p></li><li><p>&#20687;&#24456;&#22810;&#20351;&#29992;&#25968;&#25454;&#24211;&#30340;&#38598;&#25104;&#27979;&#35797;&#19968;&#26679;&#65292;<tt class="classname">AbstractClinicTests</tt>&#20013;&#30340;&#22823;&#22810;&#25968;&#27979;&#35797;&#20381;&#36182;&#20110;&#27979;&#35797;&#36816;&#34892;&#21069;&#25968;&#25454;&#24211;&#20013;&#24050;&#26377;&#30340;&#26368;&#23567;&#37327;&#30340;&#25968;&#25454;&#12290;
          &#20294;&#26159;&#20320;&#21487;&#33021;&#22312;&#27979;&#35797;&#29992;&#20363;&#20013;&#25913;&#21464;&#25968;&#25454;&#24211;&#8212;&#8212;&#24403;&#28982;&#65292;&#22312;&#21516;&#19968;&#20010;&#20107;&#21153;&#20013;&#12290;</p></li></ul></div><p>PetClinic&#24212;&#29992;&#25903;&#25345;&#19977;&#31181;&#25968;&#25454;&#35775;&#38382;&#25216;&#26415; - JDBC&#12289;Hibernate&#21450;JPA&#12290;&#26080;&#38656;&#20219;&#20309;&#29305;&#23450;&#30340;&#36164;&#28304;&#20301;&#32622;&#65292;
      &#21482;&#35201;&#22768;&#26126;&#20102;<tt class="interfacename">@ContextConfiguration</tt>&#65292;&#37027;&#20040;<tt class="classname">AbstractClinicTests</tt>&#31867;&#23601;&#20250;&#20174;&#40664;&#35748;&#20301;&#32622;&#21152;&#36733;&#20854;&#24212;&#29992;&#19978;&#19979;&#25991;&#65292;
      &#35813;&#40664;&#35748;&#20301;&#32622;&#20026;<tt class="literal">"AbstractClinicTests-context.xml"</tt>&#65292;&#36825;&#37324;&#22768;&#26126;&#20102;&#19968;&#20010;&#36890;&#29992;&#30340;<tt class="classname">DataSource</tt>&#12290;
      &#23376;&#31867;&#25351;&#23450;&#20102;&#39069;&#22806;&#30340;&#19978;&#19979;&#25991;&#20301;&#32622;&#65292;&#36825;&#23601;&#35201;&#27714;&#23427;&#24517;&#39035;&#22768;&#26126;&#19968;&#20010;<tt class="interfacename">PlatformTransactionManager</tt>&#21644;<tt class="interfacename">Clinic</tt>&#30340;&#19968;&#20010;&#20855;&#20307;&#23454;&#29616;&#12290;</p><p>&#20363;&#22914;&#65292;PetClinic&#27979;&#35797;&#30340;Hibernate&#23454;&#29616;&#21253;&#21547;&#20197;&#19979;&#23454;&#29616;&#12290;&#38024;&#23545;&#36825;&#20010;&#20363;&#23376;&#35831;&#27880;&#24847;&#65292;<tt class="classname">HibernateClinicTests</tt>&#27809;&#26377;&#21253;&#21547;&#19968;&#34892;&#20195;&#30721;&#65306;
      &#25105;&#20204;&#21482;&#38656;&#22768;&#26126;<tt class="interfacename">@ContextConfiguration</tt>&#24182;&#19988;&#27979;&#35797;&#32487;&#25215;&#20110;<tt class="classname">AbstractClinicTests</tt>&#12290;
      &#26082;&#28982;&#26080;&#38656;&#20219;&#20309;&#29305;&#23450;&#30340;&#36164;&#28304;&#20301;&#32622;&#23601;&#21487;&#20197;&#22768;&#26126;<tt class="interfacename">@ContextConfiguration</tt>&#65292;
      &#37027;&#20040;<span class="emphasis"><em>Spring TestContext Framework</em></span>&#23601;&#20250;&#20174;<tt class="literal">"AbstractClinicTests-context.xml"</tt> (&#20363;&#22914;&#32487;&#25215;&#30340;&#20301;&#32622;)&#21644;
      <tt class="literal">"HibernateClinicTests-context.xml"</tt>&#20013;&#21152;&#36733;&#24212;&#29992;&#19978;&#19979;&#25991;&#65292;
      &#21516;&#26102;<tt class="literal">"HibernateClinicTests-context.xml"</tt> &#20013;&#23450;&#20041;&#30340;bean&#20250;&#35206;&#30422;&#25481;<tt class="literal">"AbstractClinicTests-context.xml"</tt>&#20013;&#23450;&#20041;&#30340;bean&#12290;</p><pre class="programlisting"><span class="bold"><b>@ContextConfiguration</b></span>
public class HibernateClinicTests extends AbstractClinicTests { }
</pre><p>&#27491;&#22914;&#20320;&#22312;PetClinic&#24212;&#29992;&#20013;&#25152;&#30475;&#21040;&#30340;&#65292;Spring&#37197;&#32622;&#25991;&#20214;&#34987;&#21010;&#20998;&#25104;&#22810;&#20010;&#25991;&#20214;&#12290;&#23545;&#20110;&#22823;&#22411;&#24212;&#29992;&#26469;&#35828;&#37117;&#26159;&#36825;&#26679;&#20570;&#30340;&#65292;
      &#37197;&#32622;&#20301;&#32622;&#36890;&#24120;&#34987;&#25351;&#23450;&#22312;&#19968;&#20010;&#38024;&#23545;&#35813;&#24212;&#29992;&#31243;&#24207;&#38598;&#25104;&#27979;&#35797;&#30340;&#36890;&#29992;&#22522;&#31867;&#20013;&#12290;
      &#36825;&#26679;&#30340;&#22522;&#31867;&#36824;&#21487;&#20197;&#22686;&#21152;&#26377;&#29992;&#30340;&#23454;&#20363;&#21464;&#37327; - &#24456;&#33258;&#28982;&#22320;&#30001;&#20381;&#36182;&#27880;&#20837;&#32452;&#35013; - &#20363;&#22914;&#20351;&#29992;Hibernate&#30340;&#24212;&#29992;&#20013;&#30340;<tt class="classname">HibernateTemplate</tt>&#12290;</p><p>&#20174;&#38271;&#36828;&#26469;&#30475;&#65292;&#38598;&#25104;&#27979;&#35797;&#20013;&#30340;Spring&#37197;&#32622;&#25991;&#20214;&#24212;&#35813;&#19982;&#37096;&#32626;&#29615;&#22659;&#20013;&#30340;&#19968;&#26679;&#12290;&#19968;&#20010;&#21487;&#33021;&#30340;&#19981;&#21516;&#28857;&#26159;&#25968;&#25454;&#24211;&#36830;&#25509;&#27744;&#21644;&#20107;&#21153;&#22522;&#30784;&#35774;&#26045;&#12290;
      &#22914;&#26524;&#20320;&#27491;&#37096;&#32626;&#21040;&#19968;&#20010;&#23436;&#25972;&#30340;&#24212;&#29992;&#26381;&#21153;&#22120;&#19978;&#65292;&#37027;&#20320;&#21487;&#33021;&#20250;&#20351;&#29992;&#20854;&#36830;&#25509;&#27744;&#65288;&#36890;&#36807;JNDI&#35775;&#38382;&#65289;&#21644;JTA&#23454;&#29616;&#12290;
      &#36825;&#26679;&#20381;&#36182;&#65292;&#22312;&#29983;&#20135;&#38454;&#27573;&#20320;&#20250;&#20351;&#29992;<tt class="classname">JndiObjectFactoryBean</tt>&#26469;&#33719;&#24471;<tt class="classname">DataSource</tt>&#21644;<tt class="classname">JtaTransactionManager</tt>&#12290;
      &#22312;&#23481;&#22120;&#22806;&#30340;&#38598;&#25104;&#27979;&#35797;&#20013;&#26080;&#27861;&#20351;&#29992;JNDI&#21644;JTA&#65292;&#22240;&#27492;&#20320;&#24212;&#35813;&#20026;&#20182;&#20204;&#20351;&#29992;&#19968;&#20010;&#26367;&#20195;&#30340;&#32452;&#21512;&#65292;
      &#22914;Commons DBCP <tt class="classname">BasicDataSource</tt>&#21644;<tt class="classname">DataSourceTransactionManager</tt>&#25110;&#32773;<tt class="classname">HibernateTransactionManager</tt>&#12290;
      &#20320;&#21487;&#20197;&#23558;&#36825;&#31181;&#19981;&#21516;&#30340;&#34892;&#20026;&#25918;&#21040;&#19968;&#20010;&#21333;&#29420;&#30340;XML&#25991;&#20214;&#20013;&#65292;&#22312;&#24212;&#29992;&#26381;&#21153;&#22120;&#21644;&#29420;&#31435;&#20110;&#20854;&#20182;&#37197;&#32622;&#30340;'&#26412;&#22320;'&#37197;&#32622;&#20013;&#33258;&#30001;&#36873;&#25321;&#65292;&#36825;&#19981;&#20250;&#22312;&#27979;&#35797;&#21644;&#20135;&#21697;&#29615;&#22659;&#20013;&#36896;&#25104;&#24046;&#24322;&#12290;
      &#27492;&#22806;&#65292;&#24314;&#35758;&#20351;&#29992;&#23646;&#24615;&#25991;&#20214;&#26469;&#23384;&#25918;&#36830;&#25509;&#20449;&#24687;&#65306;&#35831;&#26597;&#30475;PetClinic&#24212;&#29992;&#20197;&#20102;&#35299;&#36825;&#20123;&#12290;</p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="testing-resources"></a>8.4.&nbsp;&#26356;&#22810;&#36164;&#28304;</h2></div></div><div></div></div><p>&#26412;&#31456;&#21253;&#25324;&#20851;&#20110;&#19968;&#33324;&#24615;&#27979;&#35797;&#30340;&#26356;&#22810;&#20449;&#24687;&#12290;</p><div class="itemizedlist"><ul type="disc"><li><p><a href="http://www.junit.org/" target="_top">JUnit &#20027;&#39029;</a>&#12290;Spring&#26694;&#26550;&#30340;&#21333;&#20803;&#27979;&#35797;&#22871;&#20214;&#26159;&#20197;JUnit 3.8&#20316;&#20026;&#27979;&#35797;&#26694;&#26550;&#32780;&#32534;&#20889;&#30340;&#12290;</p></li><li><p><a href="http://testng.org/" target="_top">TestNG &#20027;&#39029;</a>&#12290;TestNG&#26159;&#19968;&#20010;&#27979;&#35797;&#26694;&#26550;&#65292;&#20854;&#28789;&#24863;&#26469;&#28304;&#20110;JUnit 3.8&#65292;&#24182;&#22686;&#21152;&#20102;&#23545;Java 5&#27880;&#35299;&#12289;&#27979;&#35797;&#32452;&#12289;&#25968;&#25454;&#39537;&#21160;&#30340;&#27979;&#35797;&#12289;&#20998;&#24067;&#24335;&#27979;&#35797;&#31561;&#30340;&#25903;&#25345;&#12290;
       </p></li><li><p><a href="http://www.mockobjects.com/" target="_top">Mock Objects &#20027;&#39029;</a>&#12290;Mock Objects&#26159;&#19968;&#31181;&#22312;&#27979;&#35797;&#39537;&#21160;&#24320;&#21457;&#30340;&#26465;&#20214;&#19979;&#25913;&#36827;&#20195;&#30721;&#35774;&#35745;&#30340;&#19968;&#31181;&#25216;&#26415;&#12290;</p></li><li><p><a href="http://en.wikipedia.org/wiki/Mock_Object" target="_top">&#32500;&#22522;&#30334;&#31185;&#19978;&#20851;&#20110;&#8220;MockObjects&#8221;&#30340;&#25991;&#31456;</a>&#12290;</p></li><li><p><a href="http://www.easymock.org/" target="_top">EasyMock &#20027;&#39029;</a>&#12290;Spring&#26694;&#26550;&#22312;&#20854;&#27979;&#35797;&#22871;&#20214;&#20013;&#22823;&#37327;&#20351;&#29992;&#20102;EasyMock&#12290;</p></li><li><p><a href="http://www.jmock.org/" target="_top">JMock &#20027;&#39029;</a>&#12290;JMock&#26159;&#19968;&#20010;&#20351;&#29992;mock&#23545;&#35937;&#25903;&#25345;Java&#20195;&#30721;&#30340;&#27979;&#35797;&#39537;&#21160;&#24320;&#21457;&#30340;&#24211;&#12290;
       </p></li><li><p><a href="http://dbunit.sourceforge.net/" target="_top">DbUnit &#20027;&#39029;</a>&#12290;DbUnit&#26159;JUnit&#30340;&#19968;&#20010;&#25193;&#23637;&#65288;&#20351;&#29992;Ant&#20063;&#21487;&#20197;&#36816;&#34892;&#23427;&#65289;&#65292;&#20854;&#30446;&#26631;&#22312;&#20110;&#25968;&#25454;&#24211;&#39537;&#21160;&#30340;&#39033;&#30446;&#65292;&#23427;&#22312;&#27979;&#35797;&#36816;&#34892;&#26399;&#38388;&#23558;&#20320;&#30340;&#25968;&#25454;&#24211;&#25918;&#32622;&#22312;&#19968;&#20010;&#24050;&#30693;&#30340;&#29366;&#24577;&#12290;</p></li><li><p><a href="http://grinder.sourceforge.net/" target="_top">Grinder &#20027;&#39029;</a>&#12290;Grinder&#26159;&#19968;&#20010;&#22522;&#20110;Java&#30340;&#21387;&#21147;&#27979;&#35797;&#26694;&#26550;&#12290;</p></li></ul></div></div></div><div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="aop-api.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="spring-middle-tier.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter&nbsp;7.&nbsp;Spring AOP APIs&nbsp;</td><td width="20%" align="center"><span style="color:white;font-size:90%;"><a href="http://www.springsource.com/" title="SpringSource">Sponsored by SpringSource</a></span></td><td width="40%" align="right" valign="top">&nbsp;Part&nbsp;II.&nbsp;&#20013;&#38388;&#23618;&#25968;&#25454;&#35775;&#38382;</td></tr></table></div></body></html>