<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Chapter&nbsp;20.&nbsp;JMX</title><link rel="stylesheet" href="html.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.60.1"><link rel="home" href="index.html" title="Spring Framework &#24320;&#21457;&#21442;&#32771;&#25163;&#20876;"><link rel="up" href="spring-integration.html" title="Part&nbsp;IV.&nbsp;&#25972;&#21512;"><link rel="previous" href="jms.html" title="Chapter&nbsp;19.&nbsp;JMS (Java Message Service)"><link rel="next" href="cci.html" title="Chapter&nbsp;21.&nbsp;JCA CCI"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div xmlns="http://www.w3.org/TR/xhtml1/transitional" style="background-color:white;border:none;height:73px;border:1px solid black;"><a style="border:none;" href="http://www.springframework.org/" title="The Spring Framework"><img style="border:none;" src="images/xdev-spring_logo.jpg"></a><a style="border:none;" href="http://www.springsource.com/" title="SpringSource"><img style="border:none;position:absolute;padding-top:5px;right:42px;" src="images/springsource-banner-rhs.png"></a></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="jmx"></a>Chapter&nbsp;20.&nbsp;JMX</h2></div></div><div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="jmx-introduction"></a>20.1.&nbsp;&#20171;&#32461;</h2></div></div><div></div></div><p>Spring&#30340;JMX&#25903;&#25345;&#25552;&#20379;&#20102;&#19968;&#20123;&#29305;&#24615;&#65292;&#35753;&#20320;&#33021;&#22815;&#23481;&#26131;&#22320;&#65292;&#36879;&#26126;&#22320;&#23558;Spring&#24212;&#29992;&#31243;&#24207;&#38598;&#25104;&#21040;JMX&#22522;&#30784;&#35774;&#26045;&#20013;&#21435;&#12290;
    </p><div class="sidebar"><p class="title"><b>&#20160;&#20040;&#26159;JMX&#65311;</b></p><p>
      &#36825;&#31456;&#26082;&#19981;&#26159;&#20171;&#32461;JMX&#30340;&#65292;&#20063;&#19981;&#35797;&#22270;&#35299;&#37322;&#20351;&#29992;JMX&#30340;&#21160;&#26426;&#65288;&#25110;&#32773;JMX&#36825;&#19977;&#20010;&#23383;&#27597;&#23454;&#38469;&#20195;&#34920;&#30528;&#20160;&#20040;&#65289;&#12290;&#22914;&#26524;&#20320;&#26159;JMX&#30340;&#26032;&#25163;&#65292;&#35831;&#21442;&#32771;&#26412;&#31456;&#32467;&#26463;&#37096;&#20998;&#26631;&#39064;&#20026; <a href="jmx.html#jmx-resources" title="20.8.&nbsp;&#26356;&#22810;&#36164;&#28304;">Section&nbsp;20.8, &#8220;&#26356;&#22810;&#36164;&#28304;&#8221;</a> &#30340;&#27573;&#33853;&#12290;
      </p></div><p>&#30830;&#20999;&#30340;&#35828;&#65292;Spring&#30340;JMX&#25903;&#25345;&#25552;&#20379;&#20102;&#22235;&#31181;&#26680;&#24515;&#29305;&#24615;&#65306;</p><div class="itemizedlist"><ul type="disc"><li><p>&#23558; <span class="emphasis"><em>&#20219;&#24847;</em></span> Spring Bean&#33258;&#21160;&#27880;&#20876;&#20026;JMX MBean</p></li><li><p>&#28789;&#27963;&#25805;&#32437;Bean&#31649;&#29702;&#25509;&#21475;&#30340;&#26426;&#21046;</p></li><li><p>&#36890;&#36807;&#36828;&#31243;JSR-160&#36830;&#25509;&#22120;&#23545;MBean&#30340;&#22768;&#26126;&#24335;&#26292;&#38706;</p></li><li><p>&#23545;&#26412;&#22320;&#21644;&#36828;&#31243;MBean&#36164;&#28304;&#30340;&#31616;&#21333;&#20195;&#29702;</p></li></ul></div><p>&#35774;&#35745;&#36825;&#20123;&#29305;&#24615;&#26159;&#20026;&#20102;&#20351;&#20320;&#30340;&#24212;&#29992;&#32452;&#20214;&#19981;&#24517;&#32806;&#21512;&#21040;Spring&#25110;JMX&#25509;&#21475;&#25110;&#31867;&#30340;&#24773;&#20917;&#19979;&#37117;&#21487;&#20197;&#24037;&#20316;&#12290;
    &#30830;&#23454;&#65292;&#35201;&#21033;&#29992;Spring&#30340;JMX&#29305;&#24615;&#65292;&#20320;&#30340;&#22823;&#37096;&#20998;&#24212;&#29992;&#31867;&#37117;&#26080;&#39035;&#30693;&#26195;Spring&#25110;JMX&#30340;&#23384;&#22312;&#12290;
    </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="jmx-exporting"></a>20.2.&nbsp;&#23558;Bean&#26292;&#38706;&#20026;JMX</h2></div></div><div></div></div><p>Spring&#30340;JMX&#26694;&#26550;&#30340;&#26680;&#24515;&#31867;&#26159; <tt class="classname">MBeanExporter</tt>&#12290;&#36825;&#20010;&#31867;&#36127;&#36131;&#33719;&#21462;Spring Bean&#65292;
    &#28982;&#21518;&#23558;&#20854;&#27880;&#20876;&#21040;&#19968;&#20010;JMX <tt class="interfacename">MBeanServer</tt> &#19978;&#12290;&#20363;&#22914;&#65292;&#20180;&#32454;&#30475;&#30475;&#20197;&#19979;&#36825;&#20960;&#20010;&#31867;&#65306;</p><pre class="programlisting">package org.springframework.jmx;

public class JmxTestBean implements IJmxTestBean {

    private String name;
    private int age;
    private boolean isSuperman;

    public int getAge() {
        return age;
    }

    public void setAge(int age) {
        this.age = age;
    }
    
    public void setName(String name) {
        this.name = name;
    }

    public String getName() {
        return name;
    }

    public int add(int x, int y) {
        return x + y;
    }

    public void dontExposeMe() {
        throw new RuntimeException();
    }
}</pre><p>&#35201;&#23558;&#19968;&#20010;Bean&#20013;&#30340;&#23646;&#24615;&#21644;&#26041;&#27861;&#26292;&#38706;&#25104;&#20026;&#19968;&#20010;JMX MBean&#20013;&#30340;&#23646;&#24615;&#21644;&#25805;&#20316;&#65292;&#20320;&#21482;&#35201;&#22312;&#37197;&#32622;&#25991;&#20214;&#20013;&#31616;&#21333;&#30340;&#37197;&#32622; <tt class="classname">MBeanExporter</tt> &#19968;&#20010;&#23454;&#20363;&#65292;&#24182;&#19988;&#25353;&#29031;&#22914;&#19979;&#26041;&#27861;&#23558;&#36825;&#20010;Bean&#20256;&#20837;&#65306;
    </p><pre class="programlisting">&lt;beans&gt;
  <i class="lineannotation"><span class="lineannotation">
  &lt;!-- &#22914;&#26524;&#35201;&#26292;&#38706;&#65292;&#36825;&#20010;Bean&#19968;&#23450; <span class="bold"><b>&#19981;</b></span> &#21487;&#20197;&#24310;&#36831;&#21021;&#22987;&#21270;&#12290;--&gt;
  </span></i>
  
  &lt;bean id="exporter" class="org.springframework.jmx.export.MBeanExporter"
   <span class="bold"><b>lazy-init="false"</b></span>&gt;
    &lt;property name="beans"&gt;
      &lt;map&gt;
        &lt;entry key="bean:name=testBean1" value-ref="testBean"/&gt;
      &lt;/map&gt;
    &lt;/property&gt;
  &lt;/bean&gt;

  &lt;bean id="testBean" class="org.springframework.jmx.JmxTestBean"&gt;
    &lt;property name="name" value="TEST"/&gt;
    &lt;property name="age" value="100"/&gt;
  &lt;/bean&gt;

&lt;/beans&gt;</pre><p>&#19978;&#36848;&#37197;&#32622;&#29255;&#27573;&#20013;&#65292;&#20851;&#31995;&#26368;&#22823;&#30340;&#26159; <tt class="literal">exporter</tt> Bean&#12290;<tt class="literal">beans</tt> &#23646;&#24615;&#20351;&#24471;
    <tt class="classname">MBeanExporter</tt> &#30693;&#36947;&#35201;&#23558;&#21738;&#20010;Bean&#36755;&#20986;&#21040;JMX&#30340; <tt class="interfacename">MBeanServer</tt> &#19978;&#21435;&#12290;
    &#32570;&#30465;&#37197;&#32622;&#20013;&#65292;<tt class="literal">beans</tt> &#37324;&#30340; <tt class="interfacename">Map</tt> &#20013;&#30340;&#26465;&#30446;&#30340;key&#34987;&#29992;&#20316;&#30456;&#24212;&#26465;&#30446;&#20540;&#25152;&#24341;&#29992;&#30340;Bean&#30340; <tt class="classname">ObjectName</tt>&#12290;
    &#21487;&#20197;&#25353;&#29031; <a href="jmx.html#jmx-naming" title="20.4.&nbsp;&#25511;&#21046;Bean&#30340;ObjectName">Section&nbsp;20.4, &#8220;&#25511;&#21046;Bean&#30340;ObjectName&#8221;</a> &#25551;&#36848;&#30340;&#37027;&#26679;&#25913;&#21464;&#36825;&#31181;&#34892;&#20026;&#12290;
    </p><p>
    &#22312;&#36825;&#20010;&#37197;&#32622;&#37324;&#65292;<tt class="literal">testBean</tt> &#23601;&#20197; <tt class="literal">bean:name=testBean1</tt> &#36825;&#20010; <tt class="classname">ObjectName</tt> &#26292;&#38706;&#25104;&#20102;&#19968;&#20010;MBean&#12290;
    &#40664;&#35748;&#24773;&#20917;&#19979;&#65292;Bean&#20013;&#25152;&#26377; <span class="emphasis"><em>public</em></span> &#30340;&#23646;&#24615;&#34987;&#26292;&#38706;&#20026;&#23646;&#24615;&#65292;&#25152;&#26377;&#30340; <span class="emphasis"><em>public</em></span> &#26041;&#27861;&#65288;&#38500;&#20102;&#37027;&#20123;&#20174; <tt class="classname">Object</tt> &#31867;&#32487;&#25215;&#36807;&#26469;&#30340;&#20043;&#22806;&#65289;&#37117;&#34987;&#26292;&#38706;&#20026;&#25805;&#20316;&#12290;
    </p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="jmx-exporting-mbeanserver"></a>20.2.1.&nbsp;&#21019;&#24314;<tt class="interfacename">MBeanServer</tt></h3></div></div><div></div></div><p>
		&#19978;&#36848;&#37197;&#32622;&#26159;&#20551;&#35774;&#20102;&#24212;&#29992;&#31243;&#24207;&#36816;&#34892;&#22312;&#36825;&#26679;&#30340;&#29615;&#22659;&#20013;&#65292;&#19968;&#20010;&#26377;&#19988;&#20165;&#26377;&#19968;&#20010;&#22312;&#36816;&#20316;&#20013;&#30340; <tt class="interfacename">MBeanServer</tt> &#30340;&#29615;&#22659;&#12290;
		&#36825;&#31181;&#24773;&#20917;&#19979;&#65292;Spring&#23558;&#35797;&#22270;&#23450;&#20301;&#35813; <tt class="interfacename">MBeanServer</tt>&#65292;&#20043;&#21518;&#23558;&#20320;&#30340;Bean&#65288;&#22914;&#26524;&#26377;&#30340;&#35805;&#65289;&#27880;&#20876;&#21040;&#35813;&#26381;&#21153;&#22120;&#19978;&#12290;
		&#22312;&#33258;&#24102; <tt class="interfacename">MBeanServer</tt> &#30340;&#23481;&#22120;&#65288;&#20363;&#22914;Tomcat&#25110;&#32773;IBM WebSphere&#65289;&#20013;&#65292;&#36825;&#31181;&#34892;&#20026;&#26159;&#24456;&#26377;&#29992;&#30340;&#12290;
		</p><p>
      &#28982;&#32780;&#65292;&#22312;&#19968;&#20010;&#23396;&#31435;&#30340;&#29615;&#22659;&#65292;&#25110;&#32773;&#19981;&#25552;&#20379; <tt class="interfacename">MBeanServer</tt> &#30340;&#23481;&#22120;&#20013;&#65292;&#36825;&#31181;&#26041;&#27861;&#27627;&#26080;&#29992;&#27494;&#20043;&#22320;&#12290;
      &#35201;&#22788;&#29702;&#36825;&#31867;&#38382;&#39064;&#65292;&#20320;&#24212;&#35813;&#21019;&#24314;&#19968;&#20010; <tt class="interfacename">MBeanServer</tt> &#23454;&#20363;&#65292;&#20063;&#23601;&#26159;&#22768;&#26126;&#24335;&#22320;&#23558; <tt class="classname">org.springframework.jmx.support.MBeanServerFactoryBean</tt> &#23454;&#20363;&#28155;&#21152;&#21040;&#20320;&#30340;&#37197;&#32622;&#37324;&#12290;
      &#36890;&#36807;&#35774;&#32622; <tt class="classname">MBeanExporter</tt> &#30340; <tt class="literal">server</tt> &#23646;&#24615;&#30340;&#20540;&#65292;
      &#20320;&#20063;&#21487;&#20197;&#30830;&#20445; <tt class="classname">MBeanExporter</tt> &#20351;&#29992;&#20102; <tt class="classname">MBeanServerFactoryBean</tt> &#36820;&#22238;&#30340;&#29305;&#23450;&#30340; <tt class="interfacename">MBeanServer</tt>&#12290;
      &#20363;&#22914;&#65306;
      </p><pre class="programlisting">&lt;beans&gt;

  &lt;bean id="mbeanServer" class="org.springframework.jmx.support.MBeanServerFactoryBean"/&gt;

  
  <i class="lineannotation"><span class="lineannotation">&lt;!--
    &#35201;&#35302;&#21457;&#36755;&#20986;&#65292;&#24517;&#39035;&#39044;&#20808;&#23454;&#20363;&#21270;&#36825;&#20010;Bean&#65292;&#19968;&#23450; <span class="bold"><b>&#19981;</b></span> &#21487;&#20197;&#26631;&#24535;&#20026;&#24310;&#36831;&#21021;&#22987;&#21270;&#12290;
  --&gt;
  </span></i>
  
  
  &lt;bean id="exporter" class="org.springframework.jmx.export.MBeanExporter"&gt;
    &lt;property name="beans"&gt;
      &lt;map&gt;
        &lt;entry key="bean:name=testBean1" value-ref="testBean"/&gt;
      &lt;/map&gt;
    &lt;/property&gt;
    &lt;property name="server" ref="mbeanServer"/&gt;
  &lt;/bean&gt;

  &lt;bean id="testBean" class="org.springframework.jmx.JmxTestBean"&gt;
    &lt;property name="name" value="TEST"/&gt;
    &lt;property name="age" value="100"/&gt;
  &lt;/bean&gt;

&lt;/beans&gt;</pre><p>
      &#36825;&#37324;&#26377;&#19968;&#20010;&#30001; <tt class="classname">MBeanServerFactoryBean</tt> &#21019;&#24314;&#30340; <tt class="interfacename">MBeanServer</tt> &#23454;&#20363;&#65292;&#23427;&#36890;&#36807;&#23646;&#24615;server&#25552;&#20379;&#32473;&#20102; <tt class="classname">MBeanExporter</tt>&#12290;
      &#24403;&#20320;&#25552;&#20379;&#20102;&#20320;&#33258;&#24049;&#30340; <tt class="interfacename">MBeanServer</tt> &#23454;&#20363;&#21518;&#65292;<tt class="classname">MBeanExporter</tt> &#23558;&#20351;&#29992;&#35813;&#23454;&#20363;&#65292;&#19988;&#19981;&#20877;&#26597;&#25214;&#19968;&#20010;&#36816;&#34892;&#20013;&#30340; <tt class="interfacename">MBeanServer</tt>&#12290;&#20026;&#20102;&#20351;&#20043;&#27491;&#30830;&#24037;&#20316;&#65292;&#24403;&#28982;&#20102;&#65292;&#20320;&#24517;&#39035;&#30830;&#20445;&#20320;&#30340;&#31867;&#36335;&#24452;&#19978;&#23384;&#22312;&#19968;&#20010;JMX&#23454;&#29616;&#12290;
      </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="jmx-mbean-server"></a>20.2.2.&nbsp;&#37325;&#29992;&#21407;&#26377;&#30340;<tt class="interfacename">MBeanServer</tt></h3></div></div><div></div></div><p>
      &#22914;&#26524;&#19981;&#25351;&#23450;&#20219;&#20309;&#26381;&#21153;&#22120;&#65292;<tt class="classname">MBeanExporter</tt> &#23558;&#33258;&#21160;&#26816;&#27979;&#19968;&#20010;&#36816;&#34892;&#20013;&#30340; <tt class="interfacename">MBeanServer</tt>&#12290;
      &#36825;&#22312;&#21482;&#26377;&#19968;&#20010; <tt class="interfacename">MBeanServer</tt> &#30340;&#24773;&#20917;&#19979;&#21487;&#20197;&#22863;&#25928;&#65292;&#24403;&#23384;&#22312;&#22810;&#20010; <tt class="interfacename">MBeanServer</tt>&#30340;&#26102;&#20505;&#65292;
      <tt class="classname">MBeanExporter</tt> &#21487;&#33021;&#20250;&#36873;&#38169;&#26381;&#21153;&#22120;&#12290;&#36825;&#31181;&#24773;&#20917;&#19979;&#65292;&#24212;&#35813;&#20351;&#29992; <tt class="interfacename">MBeanServer</tt> &#30340; <tt class="literal">agentId</tt>&#26469;&#25351;&#23450;&#31350;&#31455;&#20351;&#29992;&#21738;&#20010;&#26381;&#21153;&#22120;&#12290;
      </p><pre class="programlisting">&lt;beans&gt;
   &lt;bean id="mbeanServer" class="org.springframework.jmx.support.MBeanServerFactoryBean"&gt;
     
     <i class="lineannotation"><span class="lineannotation">&lt;!-- &#35828;&#26126;&#39318;&#20808;&#35201;&#26597;&#25214;&#19968;&#20010;&#26381;&#21153;&#22120; --&gt;</span></i>
     
     &lt;property name="locateExistingServerIfPossible" value="true"/&gt;
     <i class="lineannotation"><span class="lineannotation">
     &lt;!-- &#26681;&#25454;&#32473;&#23450;&#30340;agentId&#26597;&#25214;&#23545;&#24212;&#30340; <tt class="interfacename">MBeanServer</tt> &#23454;&#20363; --&gt;
     </span></i>
     &lt;property name="agentId" value="<span class="emphasis"><em>&lt;MBeanServer instance agentId&gt;</em></span>"/&gt;
   &lt;/bean&gt;
   
   &lt;bean id="exporter" class="org.springframework.jmx.export.MBeanExporter"&gt;
     &lt;property name="server" ref="mbeanServer"/&gt;
   ...
   &lt;/bean&gt;
&lt;/beans&gt;</pre><p>
      &#22312;&#26576;&#20123;&#24179;&#21488;&#20013;&#65292;<tt class="interfacename">MBeanServer</tt> &#26377;&#19968;&#20010;&#21160;&#24577;&#65288;&#25110;&#32773;&#26410;&#30693;&#65289;&#30340;&#35201;&#36890;&#36807;lookup&#26041;&#27861;&#33719;&#21462;&#30340; <tt class="literal">agentId</tt>&#12290;
      &#36825;&#26102;&#23601;&#24212;&#35813;&#29992; <a href="beans.html#beans-factory-class-static-factory-method" title="3.2.3.2.2.&nbsp;&#20351;&#29992;&#38745;&#24577;&#24037;&#21378;&#26041;&#27861;&#23454;&#20363;&#21270;">factory-method</a>&#12290;
      </p><pre class="programlisting">&lt;beans&gt;
   &lt;bean id="exporter" class="org.springframework.jmx.export.MBeanExporter"&gt;
     &lt;property name="server"&gt;
       
       
       <i class="lineannotation"><span class="lineannotation">
       &lt;!-- &#33258;&#23450;&#20041;<tt class="literal">MBeanServerLocator</tt> --&gt;
         </span></i>
         
         
       &lt;bean class="platform.package.MBeanServerLocator" factory-method="locateMBeanServer"/&gt;
     &lt;/property&gt;
     
     <i class="lineannotation"><span class="lineannotation">&lt;!-- &#20854;&#20182;Bean --&gt;</span></i>
     
   &lt;/bean&gt;
&lt;/beans&gt;</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="jmx-exporting-lazy"></a>20.2.3.&nbsp;&#24310;&#36831;&#21021;&#22987;&#21270;&#30340;MBean</h3></div></div><div></div></div><p>
      &#22914;&#26524;&#20320;&#22312; <tt class="classname">MBeanExporter</tt> &#19978;&#37197;&#32622;&#20102;&#19968;&#20010;Bean&#65292;&#32780;&#36825;&#20010; <tt class="classname">MBeanExporter</tt> &#21448;&#37197;&#32622;&#20102;&#24310;&#36831;&#21021;&#22987;&#21270;&#65292;&#37027;&#20040; <tt class="classname">MBeanExporter</tt> &#36981;&#24490;&#36825;&#31181;&#22865;&#32422;&#65292;&#36991;&#20813;&#21021;&#22987;&#21270;&#36825;&#20010;Bean&#12290;&#30456;&#21453;&#65292;&#23427;&#20250;&#22312; <tt class="interfacename">MBeanServer</tt> &#19978;&#27880;&#20876;&#19968;&#20010;&#20195;&#29702;&#65292;&#25512;&#24310;&#20174;&#23481;&#22120;&#33719;&#21462;&#36825;&#20010;Bean&#30340;&#26102;&#21051;&#65292;&#30452;&#21040;&#22312;&#20195;&#29702;&#31471;&#21457;&#29983;&#23545;&#23427;&#30340;&#31532;&#19968;&#27425;&#35843;&#29992;&#12290;
      </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="jmx-exporting-auto"></a>20.2.4.&nbsp;MBean&#30340;&#33258;&#21160;&#27880;&#20876;</h3></div></div><div></div></div><p>
      &#35201;&#36890;&#36807; <tt class="classname">MBeanExporter</tt> &#36755;&#20986;&#30340;&#20219;&#24847;&#30340;Bean&#65292;&#24182;&#24050;&#26159;&#26377;&#25928;&#30340;MBean&#65292;&#23558;&#20250;&#34987;&#27880;&#20876;&#21040; <tt class="interfacename">MBeanServer</tt>&#19978;&#21435;&#65292;&#32780;&#26080;&#39035;Spring&#30340;&#24178;&#39044;&#12290;
      &#36890;&#36807;&#35774;&#32622;&#23646;&#24615; <tt class="literal">autodetect</tt> &#30340;&#20540;&#20026;true&#65292;<tt class="classname">MBeanExporter</tt> &#23558;&#20250;&#33258;&#21160;&#25506;&#27979;MBean&#65292;&#22914;&#19979;&#65306;
      </p><pre class="programlisting">&lt;bean id="exporter" class="org.springframework.jmx.export.MBeanExporter"&gt;
  &lt;property name="autodetect" value="true"/&gt;
&lt;/bean&gt;

&lt;bean name="spring:mbean=true" class="org.springframework.jmx.export.TestDynamicMBean"/&gt;</pre><p>
      &#36825;&#37324;&#65292;&#21517;&#20026; <tt class="literal">spring:mbean=true</tt> &#30340;Bean&#23601;&#24050;&#32463;&#26159;&#19968;&#20010;&#26377;&#25928;&#30340;JMX MBean&#20102;&#12290;&#23427;&#23558;&#20250;&#34987;Spring&#33258;&#21160;&#27880;&#20876;&#12290;
      &#32570;&#30465;&#24773;&#20917;&#19979;&#65292;&#37027;&#20123;&#20570;&#33258;&#21160;JMX&#27880;&#20876;&#30340;Bean&#30340; <tt class="classname">ObjectName</tt> &#23601;&#26159;&#23427;&#30340;Bean&#21517;&#31216;&#12290;
      &#26631;&#39064;&#20026; <a href="jmx.html#jmx-naming" title="20.4.&nbsp;&#25511;&#21046;Bean&#30340;ObjectName">Section&nbsp;20.4, &#8220;&#25511;&#21046;Bean&#30340;ObjectName&#8221;</a> &#30340;&#31456;&#33410;&#37324;&#35814;&#32454;&#30340;&#25551;&#36848;&#20102;&#22914;&#20309;&#35206;&#30422;&#65288;overridden&#65289;&#36825;&#31181;&#34892;&#20026;&#12290;
      </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="jmx-exporting-registration-behavior"></a>20.2.5.&nbsp;&#25511;&#21046;&#27880;&#20876;&#34892;&#20026;</h3></div></div><div></div></div><p>
      &#32771;&#34385;&#36825;&#26679;&#30340;&#22330;&#26223;&#65292;&#19968;&#20010;Spring <tt class="classname">MBeanExporter</tt> &#35797;&#22270;&#29992; <tt class="classname">ObjectName</tt> <tt class="literal">'bean:name=testBean1'</tt> &#21521; <tt class="interfacename">MBeanServer</tt> &#27880;&#20876;&#19968;&#20010;MBean&#12290;
      &#22914;&#26524;&#24050;&#32463;&#23384;&#22312;&#19968;&#20010;&#21516;&#26679; <tt class="classname">ObjectName</tt> &#30340; <tt class="classname">MBean</tt> &#23454;&#20363;&#65292;&#32570;&#30465;&#34892;&#20026;&#26159;&#22833;&#36133;&#65288;&#24182;&#19988;&#25243;&#20986;&#19968;&#20010; <tt class="exceptionname">InstanceAlreadyExistsException</tt>&#65289;&#12290; 
      </p><p>
      <tt class="classname">MBean</tt> &#26102;&#21457;&#29983;&#21738;&#31181;&#34892;&#20026;&#12290;
      Spring&#30340;JMX&#25903;&#25345;&#25552;&#20379;&#19977;&#31181;&#19981;&#21516;&#30340;&#27880;&#20876;&#34892;&#20026;&#65292;&#20197;&#27492;&#26469;&#25511;&#21046;&#27880;&#20876;&#36827;&#31243;&#21457;&#29616;&#19968;&#20010; <tt class="classname">MBean</tt> &#24050;&#32463;&#29992;&#21516;&#26679;&#30340; <tt class="classname">ObjectName</tt> &#27880;&#20876;&#30340;&#24773;&#20917;&#12290;&#19979;&#38754;&#30340;&#34920;&#26684;&#24635;&#32467;&#20102;&#36825;&#20123;&#27880;&#20876;&#34892;&#20026;&#65306;
      </p><div class="table"><a name="jmx-registration-behaviors"></a><p class="title"><b>Table&nbsp;20.1.&nbsp;&#27880;&#20876;&#34892;&#20026;</b></p><table summary="&#27880;&#20876;&#34892;&#20026;" border="1"><colgroup><col align="left"><col></colgroup><thead><tr><th align="center">&#27880;&#20876;&#34892;&#20026;</th><th align="center">&#35828;&#26126;</th></tr></thead><tbody><tr><td align="left"><p><tt class="literal">REGISTRATION_FAIL_ON_EXISTING</tt></p></td><td><p>
                &#36825;&#26159;&#32570;&#30465;&#30340;&#27880;&#20876;&#34892;&#20026;&#12290;&#22914;&#26524;&#19968;&#20010; <tt class="classname">MBean</tt> &#23454;&#20363;&#24050;&#32463;&#29992;&#21516;&#26679;&#30340; <tt class="classname">ObjectName</tt> &#27880;&#20876;&#20102;&#65292;Spring&#23558;&#19981;&#20250;&#20877;&#27425;&#27880;&#20876;&#19968;&#20010; <tt class="classname">MBean</tt> &#23454;&#20363;&#65292;&#24182;&#19988;&#20250;&#25243;&#20986;&#19968;&#20010; <tt class="exceptionname">InstanceAlreadyExistsException</tt> &#24322;&#24120;&#65292;&#36825;&#19981;&#20250;&#24433;&#21709;&#21040;&#21407;&#26377;&#30340; <tt class="classname">MBean</tt>&#23454;&#20363;&#12290;
                </p></td></tr><tr><td align="left"><p><tt class="literal">REGISTRATION_IGNORE_EXISTING</tt></p></td><td><p>
                &#22914;&#26524;&#19968;&#20010; <tt class="classname">MBean</tt> &#23454;&#20363;&#24050;&#32463;&#29992;&#21516;&#26679;&#30340; <tt class="classname">ObjectName</tt> &#27880;&#20876;&#20102;&#65292;&#27491;&#22312;&#27880;&#20876;&#30340; <tt class="classname">MBean</tt> &#23454;&#20363;&#23558;&#19981;&#20250;&#34987;&#27880;&#20876;&#12290;&#36825;&#31181;&#24773;&#20917;&#19979;&#65292;&#21407;&#26377;&#30340; <tt class="classname">MBean</tt> &#23454;&#20363;&#19981;&#20250;&#21463;&#21040;&#24433;&#21709;&#65292;&#20063;&#19981;&#20250;&#25243;&#20986;&#24322;&#24120;&#12290;
                </p></td></tr><tr><td align="left"><p><tt class="literal">REGISTRATION_REPLACE_EXISTING</tt></p></td><td><p>&#22914;&#26524;&#19968;&#20010; <tt class="classname">MBean</tt> &#23454;&#20363;&#24050;&#32463;&#29992;&#21516;&#26679;&#30340; <tt class="classname">ObjectName</tt> &#27880;&#20876;&#20102;&#65292;&#21407;&#26377; <tt class="classname">MBean</tt> &#30340;&#27880;&#20876;&#20851;&#31995;&#23558;&#20250;&#34987;&#35299;&#38500;&#65292;&#26032;&#30340; <tt class="classname">MBean</tt> &#20250;&#20197;&#21516;&#26679;&#30340; <tt class="classname">ObjectName</tt> &#27880;&#20876;&#65288;&#26032;&#30340; <tt class="classname">MBean</tt> &#23454;&#38469;&#19978;&#21462;&#20195;&#20102;&#21407;&#22987;&#30340;&#23454;&#20363;&#65289;&#12290;
                </p></td></tr></tbody></table></div><p>
      <tt class="classname">MBeanRegistrationSupport</tt> &#31867;&#20197;&#24120;&#37327;&#30340;&#26041;&#24335;&#23450;&#20041;&#20102;&#19978;&#36848;&#36825;&#20123;&#20540;&#65288;<tt class="classname">MBeanExporter</tt> &#32487;&#25215;&#20102;&#36825;&#20010;&#29238;&#31867;&#65289;&#12290;&#22914;&#26524;&#20320;&#21521;&#25913;&#21464;&#32570;&#30465;&#30340;&#27880;&#20876;&#34892;&#20026;&#65292;&#20320;&#21482;&#38656;&#35201;&#23558; <tt class="classname">MBeanExporter</tt> &#30340;&#23646;&#24615; <tt class="literal">registrationBehaviorName</tt> &#30340;&#20540;&#35774;&#32622;&#20026;&#19978;&#36848;&#36825;&#20123;&#20540;&#20043;&#19968;&#12290;
      </p><p>
      &#20197;&#19979;&#20363;&#23376;&#38416;&#26126;&#20102;&#22914;&#20309;&#23558;&#32570;&#30465;&#27880;&#20876;&#34892;&#20026;&#25913;&#21464;&#20026; <tt class="literal">REGISTRATION_REPLACE_EXISTING</tt>&#12290;
      </p><pre class="programlisting">&lt;beans&gt;

    &lt;bean id="exporter" class="org.springframework.jmx.export.MBeanExporter"&gt;
        &lt;property name="beans"&gt;
            &lt;map&gt;
                &lt;entry key="bean:name=testBean1" value-ref="testBean"/&gt;
            &lt;/map&gt;
        &lt;/property&gt;
        &lt;property name="registrationBehaviorName" value="REGISTRATION_REPLACE_EXISTING"/&gt;
    &lt;/bean&gt;

    &lt;bean id="testBean" class="org.springframework.jmx.JmxTestBean"&gt;
        &lt;property name="name" value="TEST"/&gt;
        &lt;property name="age" value="100"/&gt;
    &lt;/bean&gt;

&lt;/beans&gt;</pre></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="jmx-interface"></a>20.3.&nbsp;&#25511;&#21046;Bean&#30340;&#31649;&#29702;&#25509;&#21475;</h2></div></div><div></div></div><p>
    &#22312;&#21069;&#38754;&#30340;&#20363;&#23376;&#37324;&#65292;&#23545;&#20110;&#20320;&#30340;Bean&#65292;&#20320;&#20960;&#20046;&#27809;&#26377;&#20160;&#20040;&#25511;&#21046;&#26435;&#12290;&#27599;&#20010;&#36755;&#20986;Bean&#30340;&#25152;&#26377;&#30340; <span class="emphasis"><em>public</em></span> &#23646;&#24615;&#21644;&#26041;&#27861;&#37117;&#34987;&#26292;&#38706;&#25104;&#20102;&#30456;&#24212;&#30340;JMX&#30340;&#23646;&#24615;&#21644;&#25805;&#20316;&#12290;&#35201;&#23545;Bean&#30340;&#30830;&#20999;&#21738;&#20010;&#23646;&#24615;&#21644;&#26041;&#27861;&#26292;&#38706;&#25104;JMX&#30340;&#23646;&#24615;&#21644;&#25805;&#20316;&#23454;&#26045;&#32454;&#31890;&#24230;&#30340;&#25511;&#21046;&#65292;Spring JMX&#25552;&#20379;&#20102;&#19968;&#22871;&#20840;&#38754;&#30340;&#20197;&#21450;&#21487;&#25193;&#23637;&#30340;&#26426;&#21046;&#26469;&#25511;&#21046;bean&#30340;&#31649;&#29702;&#25509;&#21475;&#12290;
    </p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="jmx-interface-assembler"></a>20.3.1.&nbsp;<tt class="interfacename">MBeanInfoAssembler</tt>&#25509;&#21475;</h3></div></div><div></div></div><p>
      <tt class="classname">MBeanExporter</tt> &#22312;&#21518;&#21488;&#22996;&#25176;&#32473;&#20102;&#36127;&#36131;&#23450;&#20041;bean&#31649;&#29702;&#25509;&#21475;&#30340;
      <tt class="classname">org.springframework.jmx.export.assembler.MBeanInfoAssembler</tt>
      &#30340;&#19968;&#20010;&#23454;&#29616;&#26469;&#31649;&#29702;&#26292;&#38706;Bean&#30340;&#20449;&#24687;&#12290;&#32570;&#30465;&#23454;&#29616;&#26159; <tt class="classname">org.springframework.jmx.export.assembler.SimpleReflectiveMBeanInfoAssembler</tt>&#65292;&#23427;&#20165;&#23450;&#20041;&#20102;&#19968;&#20010;&#26292;&#38706;&#25152;&#26377;public&#23646;&#24615;&#65292;public&#26041;&#27861;&#30340;&#31649;&#29702;&#25509;&#21475;&#65288;&#20687;&#20320;&#22312;&#21069;&#38754;&#20363;&#23376;&#30475;&#21040;&#30340;&#37027;&#26679;&#65289;&#12290;
      Spring&#36824;&#25552;&#20379;&#20102;&#20004;&#20010; <tt class="interfacename">MBeanInfoAssembler</tt> &#25509;&#21475;&#30340;&#23454;&#29616;&#65292;
      &#20351;&#20320;&#21487;&#20197;&#20351;&#29992;&#28304;&#30721;&#32423;&#20803;&#25968;&#25454;&#25110;&#32773;&#20854;&#20182;&#20219;&#24847;&#25509;&#21475;&#26469;&#25511;&#21046;&#31649;&#29702;&#25509;&#21475;&#30340;&#20135;&#29983;&#12290;
      </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="jmx-interface-metadata"></a>20.3.2.&nbsp;&#20351;&#29992;&#28304;&#30721;&#32423;&#20803;&#25968;&#25454;</h3></div></div><div></div></div><p>
      &#20351;&#29992; <tt class="classname">MetadataMBeanInfoAssembler</tt>&#65292;&#20320;&#33021;&#22815;&#29992;&#28304;&#30721;&#32423;&#20803;&#25968;&#25454;&#32473;&#20320;&#30340;Bean&#23450;&#20041;&#31649;&#29702;&#25509;&#21475;&#12290;
      <tt class="classname">org.springframework.jmx.export.metadata.JmxAttributeSource</tt> &#23553;&#35013;&#20102;&#20803;&#25968;&#25454;&#30340;&#35835;&#21462;&#12290;
      Sprin&#30340;JMX&#25903;&#25345;&#25552;&#20379;&#20102;&#36825;&#20010;&#25509;&#21475;&#30340;&#20004;&#20010;&#29616;&#25104;&#30340;&#23454;&#29616;&#12290;&#23545;&#24212;Commons Attributes&#26159; <tt class="classname">org.springframework.jmx.export.metadata.AttributesJmxAttributeSource</tt>&#65292;
      &#32780;&#23545;&#24212;&#20110;JDK 5.0&#27880;&#35299;&#30340;&#26159; <tt class="classname">org.springframework.jmx.export.annotation.AnnotationJmxAttributeSource</tt>&#12290;
      &#20026;&#20102;&#20351; <tt class="classname">MetadataMBeanInfoAssembler</tt> &#27491;&#30830;&#36816;&#20316;&#65292;&#65288;&#30001;&#20110;&#27809;&#26377;&#32570;&#30465;&#30340;&#37197;&#32622;&#23454;&#20363;&#65289;&#12290;
      &#25105;&#20204;&#24517;&#39035;&#32473;&#23427;&#37197;&#32622;&#19968;&#20010; <tt class="classname">JmxAttributeSource</tt> &#25509;&#21475;&#30340;&#23454;&#20363;&#12290;&#19979;&#38754;&#20363;&#23376;&#20013;&#65292;&#25105;&#20204;&#23558;&#37319;&#21462;Commons Attributes&#30340;&#26041;&#27861;&#12290;
      </p><p>
      &#35201;&#26631;&#35782;&#19968;&#20010;Bean&#36755;&#20986;&#21040;JMX&#65292;&#20320;&#24212;&#35813;&#29992; <tt class="classname">ManagedResource</tt> &#23646;&#24615;&#27880;&#35299;&#37027;&#20010;Bean&#30340;&#31867;&#12290;
      &#20351;&#29992;Commons Attributes&#20803;&#25968;&#25454;&#30340;&#36825;&#31181;&#26041;&#27861;&#30340;&#24773;&#20917;&#19979;&#65292;&#25105;&#20204;&#21487;&#20197;&#22312; <tt class="literal">org.springframework.jmx.metadata</tt> &#21253;&#37324;&#25214;&#21040;&#23427;&#12290;
      &#27599;&#20010;&#20320;&#24819;&#35201;&#26292;&#38706;&#20026;&#25805;&#20316;&#30340;&#26041;&#27861;&#65292;&#27599;&#20010;&#20320;&#24819;&#35201;&#26292;&#38706;&#30340;&#23646;&#24615;&#65292;&#20320;&#37117;&#35201;&#23558;&#29992; <tt class="classname">ManagedOperation</tt> &#23646;&#24615;&#26631;&#35782;&#23427;&#12290;
      &#24403;&#26631;&#35782;&#23646;&#24615;&#30340;&#26102;&#65292;&#20026;&#20102;&#20135;&#29983;&#21482;&#20889;&#25110;&#32773;&#21482;&#35835;&#30340;&#23646;&#24615;&#65292;&#20320;&#21487;&#20197;&#24573;&#30053;&#27880;&#35299;&#23545;&#24212;&#30340;getter&#25110;&#32773;setter&#26041;&#27861;&#12290;
      </p><p>
      &#19979;&#38754;&#20363;&#23376;&#20013;&#65292;&#25105;&#20204;&#29992;Commons Attributes&#20803;&#25968;&#25454;&#26631;&#35782;&#20102;&#22312;&#21069;&#38754;&#20363;&#23376;&#30475;&#21040;&#30340; <tt class="classname">JmxTestBean</tt> &#31867;&#12290;
      </p><pre class="programlisting">package org.springframework.jmx;

/**
 * @@org.springframework.jmx.export.metadata.ManagedResource
 *  (description="My Managed Bean", objectName="spring:bean=test",
 *  log=true, logFile="jmx.log", currencyTimeLimit=15, persistPolicy="OnUpdate",
 *  persistPeriod=200, persistLocation="foo", persistName="bar")
 */
public class JmxTestBean implements IJmxTestBean {

  private String name;

  private int age;


  /**
   * @@org.springframework.jmx.export.metadata.ManagedAttribute
   *   (description="The Age Attribute", currencyTimeLimit=15)
   */
  public int getAge() {
    return age;
  }

  public void setAge(int age) {
    this.age = age;
  }

  /**
   * @@org.springframework.jmx.export.metadata.ManagedAttribute
   *  (description="The Name Attribute",  currencyTimeLimit=20,
   *   defaultValue="bar", persistPolicy="OnUpdate")
   */
  public void setName(String name) {
    this.name = name;
  }

  /**
   * @@org.springframework.jmx.export.metadata.ManagedAttribute
   *   (defaultValue="foo", persistPeriod=300)
   */
  public String getName() {
    return name;
  }

  /**
   * @@org.springframework.jmx.export.metadata.ManagedOperation
   *  (description="Add Two Numbers Together")
   */
  public int add(int x, int y) {
    return x + y;
  }

  public void dontExposeMe() {
    throw new RuntimeException();
  }
}</pre><p>
      &#20320;&#30475;&#21040; <tt class="classname">JmxTestBean</tt> &#34987; <tt class="classname">ManagedResource</tt> &#23646;&#24615;&#26631;&#35782;&#20102;&#65292;&#19988; <tt class="classname">ManagedResource</tt> &#21448;&#37197;&#32622;&#20102;&#19968;&#22534;&#30340;&#23646;&#24615;&#12290;
      &#36825;&#20123;&#23646;&#24615;&#29992;&#26469;&#37197;&#32622;&#30001; <tt class="classname">MBeanExporter</tt> &#26159;&#20135;&#29983;&#30340;MBean&#30340;&#26041;&#26041;&#38754;&#38754;&#12290;
      <a href="jmx.html#jmx-interface-metadata-types" title="20.3.4.&nbsp;&#28304;&#20195;&#30721;&#32423;&#30340;&#20803;&#25968;&#25454;&#31867;&#22411;">Section&nbsp;20.3.4, &#8220;&#28304;&#20195;&#30721;&#32423;&#30340;&#20803;&#25968;&#25454;&#31867;&#22411;&#8221;</a> &#31456;&#33410;&#20013;&#23558;&#20250;&#23545;&#36825;&#20123;&#23646;&#24615;&#35814;&#32454;&#35762;&#35299;&#12290;
      
      </p><p>
      &#20320;&#26159;&#19981;&#26159;&#20063;&#21457;&#29616;&#20102; <tt class="literal">age</tt> &#21644; <tt class="literal">name</tt> &#23646;&#24615;&#37117;&#34987; <tt class="classname">ManagedAttribute</tt> &#27880;&#35299;&#20102;&#21602;&#65292;&#20294;&#26159;&#23545;&#20110; <tt class="literal">age</tt> &#23646;&#24615;&#65292;&#20165;&#20165;getter&#32473;&#26631;&#35782;&#20102;&#12290;&#36825;&#20351;&#24471;&#31649;&#29702;&#25509;&#21475;&#20063;&#23558;&#36825;&#20123;&#23646;&#24615;&#21253;&#21547;&#36827;&#21435;&#65292;&#21482;&#26159; <tt class="literal">age</tt> &#23646;&#24615;&#23558;&#26159;&#21482;&#35835;&#30340;&#12290;
      
      </p><p>
      &#26368;&#21518;&#65292;&#20320;&#20063;&#27880;&#24847;&#21040; <tt class="literal">add(int, int)</tt> &#34987; <tt class="classname">ManagedOperation</tt> &#26631;&#35782;&#20102;&#65292;<tt class="literal">dontExposeMe()</tt> &#21364;&#27809;&#26377;&#12290;
      &#36825;&#20351;&#24471;&#20351;&#29992; <tt class="classname">MetadataMBeanInfoAssembler</tt> &#26102;&#65292;&#31649;&#29702;&#25509;&#21475;&#20165;&#21253;&#21547;<tt class="literal">add(int, int)</tt> &#26041;&#27861;&#12290;
      
      </p><p>
      &#19979;&#38754;&#20195;&#30721;&#26174;&#31034;&#20102;&#22914;&#20309;&#20351;&#29992; <tt class="classname">MetadataMBeanInfoAssembler</tt> &#26469;&#37197;&#32622; <tt class="classname">MBeanExporter</tt>&#12290;
      </p><pre class="programlisting">&lt;beans&gt;

  &lt;bean id="exporter" class="org.springframework.jmx.export.MBeanExporter"&gt;
    &lt;property name="beans"&gt;
      &lt;map&gt;
        &lt;entry key="bean:name=testBean1" value-ref="testBean"/&gt;
      &lt;/map&gt;
    &lt;/property&gt;
    &lt;property name="assembler" ref="assembler"/&gt;
  &lt;/bean&gt;

  &lt;bean id="testBean" class="org.springframework.jmx.JmxTestBean"&gt;
    &lt;property name="name" value="TEST"/&gt;
    &lt;property name="age" value="100"/&gt;
  &lt;/bean&gt;

  &lt;bean id="attributeSource"
        class="org.springframework.jmx.export.metadata.AttributesJmxAttributeSource"&gt;
    &lt;property name="attributes"&gt;
      &lt;bean class="org.springframework.metadata.commons.CommonsAttributes"/&gt;
    &lt;/property&gt;
  &lt;/bean&gt;

  &lt;bean id="assembler" class="org.springframework.jmx.export.assembler.MetadataMBeanInfoAssembler"&gt;
    &lt;property name="attributeSource" ref="attributeSource"/&gt;
  &lt;/bean&gt;

&lt;/beans&gt;</pre><p>
      &#36825;&#37324;&#20320;&#30475;&#21040;&#20102; <tt class="classname">MetadataMBeanInfoAssembler</tt> Bean&#34987;&#37197;&#32622;&#20102;&#19968;&#20010; <tt class="classname">AttributesJmxAttributeSource</tt> &#31867;&#30340;&#23454;&#20363;&#65292;&#24182;&#19988;&#36890;&#36807;assembler&#23646;&#24615;&#23558;&#20043;&#27880;&#20837;&#21040; <tt class="classname">MBeanExporter</tt> &#24403;&#20013;&#12290;&#20026;&#36890;&#36807;Spring&#26292;&#38706;&#30340;MBean&#24471;&#21040;&#20803;&#25968;&#25454;&#39537;&#21160;&#30340;&#31649;&#29702;&#25509;&#21475;&#30340;&#22909;&#22788;&#65292;&#35201;&#20570;&#30340;&#20107;&#24773;&#23601;&#26159;&#36825;&#20040;&#22810;&#20102;&#12290;
      </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="jmx-interface-annotations"></a>20.3.3.&nbsp;&#20351;&#29992;JDK 5.0&#30340;&#27880;&#35299;</h3></div></div><div></div></div><p>
      &#20026;&#20102;&#28608;&#27963;JDK 5.0&#30340;&#27880;&#35299;&#65292;&#29992;&#23427;&#26469;&#31649;&#29702;&#25509;&#21475;&#23450;&#20041;&#65292;Spring&#25552;&#20379;&#20102;&#19968;&#22871;&#30456;&#24403;&#20110;Commons Attribute&#27880;&#35299;&#21644;&#19968;&#20010;&#31574;&#30053;&#25509;&#21475; <tt class="interfacename">JmxAttributeSource</tt> &#30340;&#23454;&#29616;&#31867; <tt class="classname">AnnotationsJmxAttributeSource</tt>&#65292;&#36825;&#20010;&#31867;&#21487;&#20197;&#35753; <tt class="interfacename">MBeanInfoAssembler</tt> &#35835;&#21462;&#36825;&#20123;&#27880;&#35299;&#12290; 
      </p><p>
      &#19979;&#20363;&#29992;JDK 5.0&#27880;&#35299;&#31867;&#22411;&#23450;&#20041;&#20102;&#19968;&#20010;&#31649;&#29702;&#25509;&#21475;Bean&#65306;
      </p><pre class="programlisting">package org.springframework.jmx;

import org.springframework.jmx.export.annotation.ManagedResource;
import org.springframework.jmx.export.annotation.ManagedOperation;
import org.springframework.jmx.export.annotation.ManagedAttribute;

@ManagedResource(objectName="bean:name=testBean4", description="My Managed Bean", log=true,
    logFile="jmx.log", currencyTimeLimit=15, persistPolicy="OnUpdate", persistPeriod=200,
    persistLocation="foo", persistName="bar")
public class AnnotationTestBean implements IJmxTestBean {

  private String name;
  private int age;

  @ManagedAttribute(description="The Age Attribute", currencyTimeLimit=15)
  public int getAge() {
    return age;
  }

  public void setAge(int age) {
    this.age = age;
  }

  @ManagedAttribute(description="The Name Attribute",
      currencyTimeLimit=20,
      defaultValue="bar",
      persistPolicy="OnUpdate")
  public void setName(String name) {
    this.name = name;
  }

  @ManagedAttribute(defaultValue="foo", persistPeriod=300)
  public String getName() {
    return name;
  }

  @ManagedOperation(description="Add two numbers")
  @ManagedOperationParameters({
    @ManagedOperationParameter(name = "x", description = "The first number"),
    @ManagedOperationParameter(name = "y", description = "The second number")})
  public int add(int x, int y) {
    return x + y;
  }

  public void dontExposeMe() {
    throw new RuntimeException();
  }
}</pre><p>
      &#30475;&#21040;&#20102;&#21543;&#65292;&#38500;&#20102;&#20803;&#25968;&#25454;&#23450;&#20041;&#30340;&#22522;&#26412;&#35821;&#27861;&#22806;&#65292;&#25913;&#21160;&#24456;&#23567;&#12290;&#36825;&#31181;&#26041;&#27861;&#22312;&#21551;&#21160;&#26102;&#30456;&#23545;&#24930;&#20123;&#65292;
      &#22240;&#20026;JDK 5.0&#30340;&#27880;&#35299;&#35201;&#36716;&#25442;&#20026;Commons Attributes&#20351;&#29992;&#30340;&#31867;&#12290;&#23613;&#31649;&#22914;&#27492;&#65292;&#36825;&#20063;&#21482;&#26159;
      &#19968;&#27425;&#24615;&#30340;&#24320;&#38144;&#65292;JDK 5.0&#27880;&#35299;&#32473;&#20102;&#32534;&#35793;&#26102;&#26816;&#26597;&#30340;&#39069;&#22806;&#22909;&#22788;&#12290;
      </p><pre class="programlisting">&lt;beans&gt;
    &lt;bean id="exporter" class="org.springframework.jmx.export.MBeanExporter"&gt;
        &lt;property name="assembler" ref="assembler"/&gt;
        &lt;property name="namingStrategy" ref="namingStrategy"/&gt;
        &lt;property name="autodetect" value="true"/&gt;
    &lt;/bean&gt;

    &lt;bean id="jmxAttributeSource"
          class="org.springframework.jmx.export.annotation.AnnotationJmxAttributeSource"/&gt;

    <i class="lineannotation"><span class="lineannotation">
    &lt;!-- &#36825;&#20250;&#20351;&#29992;&#27880;&#35299;&#20803;&#25968;&#25454;&#21019;&#24314;&#31649;&#29702;&#25509;&#21475; --&gt;</span></i>
    &lt;bean id="assembler"
          class="org.springframework.jmx.export.assembler.MetadataMBeanInfoAssembler"&gt;
        &lt;property name="attributeSource" ref="jmxAttributeSource"/&gt;
    &lt;/bean&gt;

    <i class="lineannotation"><span class="lineannotation">
    
    &lt;!-- &#20174;&#27880;&#35299;&#20013;&#24471;&#21040;<tt class="classname">ObjectName</tt>  --&gt;</span></i>
    &lt;bean id="namingStrategy"
          class="org.springframework.jmx.export.naming.MetadataNamingStrategy"&gt;
        &lt;property name="attributeSource" ref="jmxAttributeSource"/&gt;
    &lt;/bean&gt;

    &lt;bean id="testBean" class="org.springframework.jmx.AnnotationTestBean"&gt;
        &lt;property name="name" value="TEST"/&gt;
        &lt;property name="age" value="100"/&gt;
    &lt;/bean&gt;
&lt;/beans&gt;</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="jmx-interface-metadata-types"></a>20.3.4.&nbsp;&#28304;&#20195;&#30721;&#32423;&#30340;&#20803;&#25968;&#25454;&#31867;&#22411;</h3></div></div><div></div></div><p>Spring JMX&#20013;&#65292;&#21487;&#29992;&#20351;&#29992;&#20197;&#19979;&#28304;&#20195;&#30721;&#32423;&#30340;&#20803;&#25968;&#25454;&#31867;&#22411;&#65306;</p><div class="table"><a name="jmx-metadata-types"></a><p class="title"><b>Table&nbsp;20.2.&nbsp;&#28304;&#20195;&#30721;&#32423;&#30340;&#20803;&#25968;&#25454;&#31867;&#22411;</b></p><table summary="&#28304;&#20195;&#30721;&#32423;&#30340;&#20803;&#25968;&#25454;&#31867;&#22411;" border="1"><colgroup><col align="left"><col><col><col></colgroup><thead><tr><th align="center">&#29992;&#36884;</th><th align="center">Commons Attributes&#23646;&#24615;</th><th align="center">JDK 5.0&#27880;&#35299;</th><th align="center">&#23646;&#24615;/&#27880;&#35299;&#31867;&#22411;</th></tr></thead><tbody><tr><td align="left">&#23558;&#31867;&#30340;&#25152;&#26377;&#23454;&#20363;&#26631;&#35782;&#20026;JMX&#21463;&#25511;&#36164;&#28304;</td><td><tt class="classname">ManagedResource</tt></td><td><tt class="literal">@ManagedResource</tt></td><td>Class &#31867;</td></tr><tr><td align="left">&#23558;&#26041;&#27861;&#26631;&#35782;&#20026;JMX&#25805;&#20316;</td><td><tt class="classname">ManagedOperation</tt></td><td><tt class="literal">@ManagedOperation</tt></td><td>Method&#26041;&#27861;</td></tr><tr><td align="left">&#23558;getter&#25110;&#32773;setter&#26631;&#35782;&#20026;&#37096;&#20998;JMX&#23646;&#24615;</td><td><tt class="classname">ManagedAttribute</tt></td><td><tt class="classname">@ManagedAttribute</tt></td><td>Method (only getters and setters) &#26041;&#27861;&#65288;&#20165;getters&#21644;setters&#65289;</td></tr><tr><td align="left">&#23450;&#20041;&#25805;&#20316;&#21442;&#25968;&#35828;&#26126;</td><td><tt class="classname">ManagedOperationParameter</tt></td><td><tt class="classname">@ManagedOperationParameter</tt> &#21644; <tt class="classname">@ManagedOperationParameters</tt></td><td>Method &#26041;&#27861;</td></tr></tbody></table></div><p>&#28304;&#20195;&#30721;&#32423;&#30340;&#20803;&#25968;&#25454;&#31867;&#22411;&#21487;&#20197;&#20351;&#29992;&#20197;&#19979;&#37197;&#32622;&#21442;&#25968;&#65306;</p><div class="table"><a name="jmx-metadata-parameters"></a><p class="title"><b>Table&nbsp;20.3.&nbsp;&#28304;&#20195;&#30721;&#32423;&#30340;&#20803;&#25968;&#25454;&#21442;&#25968;</b></p><table summary="&#28304;&#20195;&#30721;&#32423;&#30340;&#20803;&#25968;&#25454;&#21442;&#25968;" border="1"><colgroup><col align="left"><col><col></colgroup><thead><tr><th align="center">&#21442;&#25968;</th><th align="center">&#25551;&#36848;</th><th align="center">&#24212;&#29992;&#20110;</th></tr></thead><tbody><tr><td align="left"><tt class="classname">ObjectName</tt></td><td><tt class="classname">MetadataNamingStrategy</tt> &#29992;&#20854;&#26469;&#20915;&#23450;&#19968;&#20010;&#21463;&#25511;&#36164;&#28304;&#30340; <tt class="classname">ObjectName</tt></td><td><tt class="classname">ManagedResource</tt></td></tr><tr><td align="left"><tt class="literal">&#35828;&#26126;</tt></td><td>&#35774;&#32622;&#36164;&#28304;&#65292;&#23646;&#24615;&#65292;&#25805;&#20316;&#30340;&#35828;&#26126;</td><td><tt class="classname">ManagedResource</tt>&#12289;
                <tt class="classname">ManagedAttribute</tt>&#12289;
                <tt class="classname">ManagedOperation</tt>&#12289;
                <tt class="classname">ManagedOperationParameter</tt></td></tr><tr><td align="left"><tt class="literal">currencyTimeLimit</tt></td><td>&#35774;&#32622; <tt class="literal">currencyTimeLimit</tt> &#25551;&#36848;&#31526;&#23383;&#27573;&#30340;&#20540; <tt class="literal">currencyTimeLimit</tt></td><td><tt class="classname">ManagedResource</tt>&#12289;<tt class="classname">ManagedAttribute</tt></td></tr><tr><td align="left"><tt class="literal">defaultValue</tt></td><td>&#35774;&#32622; <tt class="literal">defaultValue</tt> &#25551;&#36848;&#31526;&#23383;&#27573;&#30340;&#20540;</td><td><tt class="classname">ManagedAttribute</tt></td></tr><tr><td align="left"><tt class="literal">log</tt></td><td>&#35774;&#32622; <tt class="literal">log</tt> &#25551;&#36848;&#31526;&#23383;&#27573;&#30340;&#20540;</td><td><tt class="classname">ManagedResource</tt></td></tr><tr><td align="left"><tt class="literal">logFile</tt></td><td>&#35774;&#32622; <tt class="literal">logFile</tt> &#25551;&#36848;&#31526;&#23383;&#27573;&#30340;&#20540;</td><td><tt class="classname">ManagedResource</tt></td></tr><tr><td align="left"><tt class="literal">persistPolicy</tt></td><td>&#35774;&#32622; <tt class="literal">persistPolicy</tt> &#25551;&#36848;&#31526;&#23383;&#27573;&#30340;&#20540;</td><td><tt class="classname">ManagedResource</tt></td></tr><tr><td align="left"><tt class="literal">persistPeriod</tt></td><td>&#35774;&#32622; <tt class="literal">persistPeriod</tt> &#25551;&#36848;&#31526;&#23383;&#27573;&#30340;&#20540;</td><td><tt class="classname">ManagedResource</tt></td></tr><tr><td align="left"><tt class="literal">persistLocation</tt></td><td>&#35774;&#32622; <tt class="literal">persistLocation</tt> &#25551;&#36848;&#31526;&#23383;&#27573;&#30340;&#20540;</td><td><tt class="classname">ManagedResource</tt></td></tr><tr><td align="left"><tt class="literal">persistName</tt></td><td>&#35774;&#32622; <tt class="literal">persistName</tt> &#25551;&#36848;&#31526;&#23383;&#27573;&#30340;&#20540;</td><td><tt class="classname">ManagedResource</tt></td></tr><tr><td align="left"><tt class="literal">name</tt></td><td>&#35774;&#32622;&#25805;&#20316;&#21442;&#25968;&#30340;&#26174;&#31034;&#21517;&#31216;</td><td><tt class="literal">ManagedOperationParameter</tt></td></tr><tr><td align="left"><tt class="literal">index</tt></td><td>&#35774;&#32622;&#25805;&#20316;&#21442;&#25968;&#30340;&#32034;&#24341;</td><td><tt class="literal">ManagedOperationParameter</tt></td></tr></tbody></table></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="jmx-interface-autodetect"></a>20.3.5.&nbsp;<tt class="classname">AutodetectCapableMBeanInfoAssembler</tt>&#25509;&#21475;</h3></div></div><div></div></div><p>
      &#20026;&#20102;&#36827;&#19968;&#27493;&#31616;&#21270;&#37197;&#32622;&#65292;Spring&#24341;&#20837;&#20102; <tt class="classname">AutodetectCapableMBeanInfoAssembler</tt> &#25509;&#21475;&#65292;
      &#23427;&#25193;&#23637;&#20102; <tt class="interfacename">MBeanInfoAssembler</tt> &#25509;&#21475;&#65292;&#22686;&#21152;&#20102;&#33258;&#21160;&#25506;&#27979;MBean&#36164;&#28304;&#30340;&#25903;&#25345;&#12290;
      &#22914;&#26524;&#20320;&#29992;&#19968;&#20010; <tt class="classname">AutodetectCapableMBeanInfoAssembler</tt> &#23454;&#20363;&#37197;&#32622;&#20102; <tt class="classname">MBeanExporter</tt>&#65292;&#37027;&#20040;&#23427;&#23601;&#21487;&#20197;&#23545;&#35201;&#26292;&#38706;&#32473;JMX&#30340;&#25152;&#26377;Bean&#30340;&#36827;&#34892;&#34920;&#20915;&#12290;
      </p><p>
      <tt class="classname">AutodetectCapableMBeanInfo</tt> &#29616;&#25104;&#30340;&#21807;&#19968;&#23454;&#29616;&#26159; <tt class="classname">MetadataMBeanInfoAssembler</tt>&#65292;&#23427;&#8220;&#34920;&#20915;&#8221;&#23558;&#25152;&#26377;&#26631;&#35782;&#20102; <tt class="classname">ManagedResource</tt> &#23646;&#24615;&#30340;Bean&#21253;&#21547;&#22312;&#20869;&#12290;
      &#36825;&#31181;&#24773;&#20917;&#30340;&#32570;&#30465;&#26041;&#27861;&#26159;&#29992;bean&#30340;&#21517;&#31216;&#20316;&#20026; <tt class="classname">ObjectName</tt>&#65292;&#36825;&#26679;&#65292;&#25105;&#20204;&#23601;&#24471;&#21040;&#20102;&#36825;&#26679;&#19968;&#20221;&#37197;&#32622;&#65306;
      </p><pre class="programlisting">&lt;beans&gt;

  &lt;bean id="exporter" class="org.springframework.jmx.export.MBeanExporter"&gt;
    
    
    <i class="lineannotation"><span class="lineannotation">&lt;!-- &#36825;&#37324;&#65292;&#27880;&#24847;&#24590;&#26679;&#25165;&#19981;&#26174;&#31034;&#37197;&#32622; <tt class="literal">'beans'</tt> --&gt;</span></i>
    &lt;property name="autodetect" value="true"/&gt;
    &lt;property name="assembler" ref="assembler"/&gt;
  &lt;/bean&gt;

  &lt;bean id="testBean" class="org.springframework.jmx.JmxTestBean"&gt;
    &lt;property name="name" value="TEST"/&gt;
    &lt;property name="age" value="100"/&gt;
  &lt;/bean&gt;

  <i class="lineannotation"><span class="lineannotation">&lt;!-- &#65288;&#23545;&#20110;Commons Attributes-based metadata&#65289; --&gt;</span></i>
  &lt;bean id="attributeSource"
        class="org.springframework.jmx.export.metadata.AttributesJmxAttributeSource"&gt;
    &lt;property name="attributes"&gt;
      &lt;bean class="org.springframework.metadata.commons.CommonsAttributes"/&gt;
    &lt;/property&gt;
  &lt;/bean&gt;
  
  <i class="lineannotation"><span class="lineannotation">&lt;!-- &#65288;&#23545;&#20110;&#22522;&#20110;&#27880;&#35299;&#30340;JDK5+&#20803;&#25968;&#25454;&#65289; --&gt;</span></i><span class="emphasis"><em>
  &lt;!--
  &lt;bean id="attributeSource"
        class="org.springframework.jmx.export.annotation.AnnotationJmxAttributeSource"/&gt;
  --&gt;</em></span>

  &lt;bean id="assembler" class="org.springframework.jmx.export.assembler.MetadataMBeanInfoAssembler"&gt;
    &lt;property name="attributeSource" ref="attributeSource"/&gt;
  &lt;/bean&gt;

&lt;/beans&gt;</pre><p>
      &#27880;&#24847;&#65292;&#22312;&#36825;&#20221;&#37197;&#32622;&#20013;&#65292;<tt class="classname">MBeanExporter</tt> &#27809;&#26377;&#37197;&#32622;&#20219;&#20309;Bean&#65292;
      &#28982;&#32780;&#65292;&#30001;&#20110; <tt class="classname">JmxTestBean</tt> &#29992; <tt class="classname">ManagedResource</tt> &#23646;&#24615;&#20570;&#20102;&#26631;&#35782;&#65292;
      <tt class="classname">MetadataMBeanInfoAssembler</tt> &#25506;&#27979;&#21040;&#19988;&#34920;&#20915;&#23558;&#35201;&#21253;&#21547;&#23427;&#65292;&#22240;&#27492;&#23427;&#20173;&#20250;&#34987;&#27880;&#20876;&#12290;
      &#36825;&#31181;&#26041;&#27861;&#30340;&#21807;&#19968;&#38382;&#39064;&#26159;&#65292;&#29616;&#22312;&#30340; <tt class="classname">JmxTestBean</tt> &#26377;&#20102;&#19994;&#21153;&#21547;&#20041;&#12290;
      &#36825;&#20010;&#38382;&#39064;&#21487;&#20197;&#36890;&#36807; <a href="jmx.html#jmx-naming" title="20.4.&nbsp;&#25511;&#21046;Bean&#30340;ObjectName">Section&nbsp;20.4, &#8220;&#25511;&#21046;Bean&#30340;ObjectName&#8221;</a> &#23450;&#20041;&#37027;&#26679;&#25913;&#21464; <tt class="classname">ObjectName</tt> &#21019;&#24314;&#30340;&#40664;&#35748;&#34892;&#20026;&#26469;&#35299;&#20915;&#12290;
      </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="jmx-interface-java"></a>20.3.6.&nbsp;&#29992;Java&#25509;&#21475;&#23450;&#20041;&#31649;&#29702;&#25509;&#21475;</h3></div></div><div></div></div><p>
      &#38500;&#20102; <tt class="classname">MetadataMBeanInfoAssembler</tt>&#65292;Spring&#36824;&#21253;&#21547;&#20102; <tt class="classname">InterfaceBasedMBeanInfoAssembler</tt>&#65292;&#23427;&#21487;&#20197;&#26681;&#25454;&#19968;&#32452;&#25509;&#21475;&#23450;&#20041;&#30340;&#26041;&#27861;&#38480;&#23450;&#35201;&#26292;&#38706;&#30340;&#26041;&#27861;&#21644;&#23646;&#24615;&#12290;
      </p><p>
      &#34429;&#28982;&#20351;&#29992;&#25509;&#21475;&#21644;&#31616;&#21333;&#30340;&#21629;&#21517;&#35268;&#21017;&#26159;&#26292;&#38706;MBean&#30340;&#26631;&#20934;&#26041;&#24335;&#65292;&#20294;&#26159; <tt class="classname">InterfaceBasedMBeanInfoAssembler</tt> &#25193;&#23637;&#36825;&#20010;&#21151;&#33021;&#65292;&#21435;&#38500;&#20102;&#21629;&#21517;&#32422;&#23450;&#65292;&#20351;&#24471;&#20320;&#19981;&#20294;&#21487;&#20197;&#20351;&#29992;&#22810;&#20010;&#25509;&#21475;&#65292;&#36824;&#21487;&#20197;&#30465;&#21435;&#23454;&#29616;MBean&#25509;&#21475;&#30340;&#38656;&#27714;&#12290;
      </p><p>
      &#35797;&#24819;&#19968;&#19979;&#36825;&#20010;&#25509;&#21475;&#65292;&#29992;&#23427;&#23450;&#20041;&#20102;&#20043;&#21069;&#30475;&#21040;&#30340; <tt class="classname">JmxTestBean</tt> &#30340;&#31649;&#29702;&#25509;&#21475;&#12290;
      </p><pre class="programlisting">public interface IJmxTestBean {

  public int add(int x, int y);

  public long myOperation();

  public int getAge();

  public void setAge(int age);

  public void setName(String name);

  public String getName();
}</pre><p>
      &#36825;&#20010;&#25509;&#21475;&#23450;&#20041;&#20102;&#19968;&#20123;&#26041;&#27861;&#21644;&#23646;&#24615;&#65292;&#23427;&#20204;&#23558;&#34987;&#26292;&#38706;&#25104;JMX MBean&#25805;&#20316;&#21644;&#23646;&#24615;&#12290;&#19979;&#38754;&#20195;&#30721;&#26174;&#31034;&#20102;&#22914;&#20309;&#37197;&#32622;Spring JMX&#26469;&#20351;&#29992;&#36825;&#20010;&#25509;&#21475;&#20316;&#20026;&#31649;&#29702;&#25509;&#21475;&#30340;&#23450;&#20041;&#12290;
      </p><pre class="programlisting">&lt;beans&gt;

  &lt;bean id="exporter" class="org.springframework.jmx.export.MBeanExporter"&gt;
    &lt;property name="beans"&gt;
      &lt;map&gt;
        &lt;entry key="bean:name=testBean5" value-ref="testBean"/&gt;
      &lt;/map&gt;
    &lt;/property&gt;
    &lt;property name="assembler"&gt;
      &lt;bean class="org.springframework.jmx.export.assembler.InterfaceBasedMBeanInfoAssembler"&gt;
        &lt;property name="managedInterfaces"&gt;
          &lt;value&gt;org.springframework.jmx.IJmxTestBean&lt;/value&gt;
        &lt;/property&gt;
      &lt;/bean&gt;
    &lt;/property&gt;
  &lt;/bean&gt;

  &lt;bean id="testBean" class="org.springframework.jmx.JmxTestBean"&gt;
    &lt;property name="name" value="TEST"/&gt;
    &lt;property name="age" value="100"/&gt;
  &lt;/bean&gt;

&lt;/beans&gt;</pre><p>
      &#20320;&#21487;&#20197;&#30475;&#21040;&#65292;&#24403;&#20026;&#20219;&#24847;Bean&#26500;&#24314;&#31649;&#29702;&#25509;&#21475;&#26102;&#65292;<tt class="classname">InterfaceBasedMBeanInfoAssembler</tt> &#37197;&#32622;&#20102;&#20351;&#29992; <tt class="interfacename">IJmxTestBean</tt> &#25509;&#21475;&#12290;
      &#30001; <tt class="classname">InterfaceBasedMBeanInfoAssembler</tt> &#22788;&#29702;&#30340;bean&#19981;&#38656;&#35201;&#23454;&#29616;&#29992;&#26469;&#20135;&#29983;JMX&#31649;&#29702;&#25509;&#21475;&#30340;&#25509;&#21475;&#65292;&#26126;&#30333;&#36825;&#19968;&#28857;&#24456;&#24456;&#37325;&#35201;&#12290;
      </p><p>
      &#22312;&#19978;&#38754;&#20363;&#23376;&#20013;&#65292;<tt class="interfacename">IJmxTestBean</tt> &#34987;&#29992;&#26469;&#26500;&#24314;&#25152;&#26377;bean&#30340;&#31649;&#29702;&#25509;&#21475;&#12290;
      &#24456;&#22810;&#24773;&#20917;&#19979;&#65292;&#22312;&#20320;&#24819;&#23545;&#19981;&#21516;&#30340;Bean&#20351;&#29992;&#19981;&#21516;&#25509;&#21475;&#26102;&#23601;&#19981;&#24819;&#36825;&#26679;&#20102;&#12290;
      &#36825;&#26102;&#65292;&#20320;&#21487;&#20197;&#32473; <tt class="classname">InterfaceBasedMBeanInfoAssembler</tt> &#36890;&#36807; <tt class="literal">interfaceMappings</tt> &#23646;&#24615;&#20256;&#36882;&#19968;&#20010; <tt class="classname">Properties</tt>&#23454;&#20363;&#12290;&#27599;&#20010;&#26465;&#30446;&#30340;&#38190;&#20540;&#26159;Bean&#30340;&#21517;&#23383;&#65292;&#26465;&#30446;&#30340;&#20540;&#19968;&#20010;&#20197;&#36887;&#21495;(;)&#38548;&#24320;&#65292;&#20351;&#29992;&#20110;&#35813;Bean&#30340;&#30340;&#25509;&#21475;&#21517;&#31216;&#21015;&#34920;&#12290;
      </p><p>
      &#22914;&#26524;&#27809;&#26377;&#36890;&#36807; <tt class="literal">managedInterfaces</tt> &#21644; <tt class="literal">interfaceMappings</tt> &#23646;&#24615;&#25351;&#23450;&#31649;&#29702;&#25509;&#21475;&#65292;<tt class="classname">InterfaceBasedMBeanInfoAssembler</tt> &#23558;&#36890;&#36807;&#21453;&#23556;&#65292;&#20351;&#29992;&#35813;Bean&#23454;&#29616;&#30340;&#25152;&#26377;&#25509;&#21475;&#26469;&#20135;&#29983;&#31649;&#29702;&#25509;&#21475;&#12290;
      </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="jmx-interface-methodnames"></a>20.3.7.&nbsp;&#20351;&#29992;<tt class="classname">MethodNameBasedMBeanInfoAssembler</tt></h3></div></div><div></div></div><p>
      <tt class="classname">MethodNameBasedMBeanInfoAssembler</tt> &#20801;&#35768;&#20320;&#25351;&#23450;&#35201;&#26292;&#38706;&#25104;JMX&#23646;&#24615;&#21644;&#25805;&#20316;&#30340;&#26041;&#27861;&#21517;&#31216;&#21015;&#34920;&#12290;&#20197;&#19979;&#20195;&#30721;&#26174;&#31034;&#20102;&#19968;&#27573;&#37197;&#32622;&#26679;&#20363;&#65306;
      </p><pre class="programlisting">&lt;bean id="exporter" class="org.springframework.jmx.export.MBeanExporter"&gt;
    &lt;property name="beans"&gt;
      &lt;map&gt;
        &lt;entry key="bean:name=testBean5" value-ref="testBean"/&gt;
      &lt;/map&gt;
    &lt;/property&gt;
    &lt;property name="assembler"&gt;
      &lt;bean class="org.springframework.jmx.export.assembler.MethodNameBasedMBeanInfoAssembler"&gt;
        &lt;property name="managedMethods"&gt;
          &lt;value&gt;add,myOperation,getName,setName,getAge&lt;/value&gt;
        &lt;/property&gt;
      &lt;/bean&gt;
    &lt;/property&gt;
&lt;/bean&gt;</pre><p>
      &#20320;&#21487;&#20197;&#30475;&#21040; <tt class="literal">add</tt> &#21644; <tt class="literal">myOperation</tt> &#26041;&#27861;&#23558;&#34987;&#26292;&#38706;&#25104;JMX&#25805;&#20316;&#65292;<tt class="literal">getName()</tt>&#65292;<tt class="literal">setName(String)</tt> &#21644; <tt class="literal">getAge()</tt> &#23558;&#34987;&#26292;&#38706;&#25104;&#23545;&#24212;&#30340;JMX&#23646;&#24615;&#12290;&#20197;&#19978;&#20195;&#30721;&#20351;&#29992;&#19982;&#37027;&#20123;&#26292;&#38706;&#21040;JMX&#30340;Bean&#12290;
      &#35201;&#25511;&#21046;&#22522;&#20110;&#19968;&#20010;&#19968;&#20010;Bean&#30340;&#26041;&#27861;&#26292;&#38706;&#65292;&#23601;&#35201;&#20351;&#29992; <tt class="classname">MethodNameMBeanInfoAssembler</tt> &#30340; <tt class="literal">methodMappings</tt> &#23646;&#24615;&#26469;&#23558;Bean&#21517;&#23383;&#26144;&#23556;&#21040;&#26041;&#27861;&#21517;&#31216;&#21015;&#34920;&#19978;&#20102;&#12290;
      </p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="jmx-naming"></a>20.4.&nbsp;&#25511;&#21046;Bean&#30340;<tt class="classname">ObjectName</tt></h2></div></div><div></div></div><p>
    &#23545;&#20110;&#27599;&#20010;Bean&#30340;&#27880;&#20876;&#65292;<tt class="classname">MBeanExporter</tt> &#22312;&#21518;&#21488;&#22996;&#27966;&#32473;&#20102; <tt class="classname">ObjectNamingStrategy</tt> &#30340;&#19968;&#20010;&#23454;&#29616;&#26469;&#33719;&#21462; <tt class="classname">ObjectName</tt>&#12290;
    &#32570;&#30465;&#23454;&#29616;&#26159; <tt class="classname">KeyNamingStrategy</tt>&#65292;&#23427;&#23558;&#40664;&#35748;&#20351;&#29992; <tt class="literal">beans</tt> &#19978; <tt class="interfacename">Map</tt> &#30340;&#38190;&#20540;&#20316;&#20026; <tt class="classname">ObjectName</tt>&#12290;
    &#27492;&#22806;&#65292;<tt class="classname">KeyNamingStrategy</tt> &#21487;&#20197;&#23558;&#35813;&#38190;&#20540;&#19982; <tt class="classname">Properties</tt> &#25991;&#20214;&#20013;&#30340;&#19968;&#20010;&#26465;&#30446;&#23545;&#24212;&#65292;&#20197;&#27492;&#35299;&#26512; <tt class="classname">ObjectName</tt>&#12290;
    &#38500;&#20102; <tt class="classname">KeyNamingStrategy</tt> &#20043;&#22806;&#65292;Spring&#36824;&#25552;&#20379;&#20102;&#21478;&#22806;&#20004;&#20010; <tt class="classname">ObjectNamingStrategy</tt> &#30340;&#23454;&#29616;&#65306;
    &#22522;&#20110;bean&#30340;JVM&#26631;&#35782;&#26500;&#24314; <tt class="classname">ObjectName</tt> &#30340; <tt class="classname">IdentityNamingStrategy</tt>&#65307;
    &#21033;&#29992;&#28304;&#20195;&#30721;&#32423;&#20803;&#25968;&#25454;&#33719;&#21462; <tt class="classname">ObjectName</tt> &#30340; <tt class="classname">MetadataNamingStrategy</tt>&#12290;
    </p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="jmx-naming-properties"></a>20.4.1.&nbsp;&#20174;<tt class="classname">Properties</tt>&#35835;&#21462;<tt class="classname">Properties</tt></h3></div></div><div></div></div><p>
      &#20320;&#21487;&#20197;&#37197;&#32622;&#20320;&#33258;&#24049;&#30340; <tt class="classname">KeyNamingStrategy</tt> &#23454;&#20363;&#65292;&#37197;&#32622;&#23427;&#20174;&#19968;&#20010; <tt class="classname">Properties</tt> &#23454;&#20363;&#35835;&#21462; <tt class="classname">ObjectName</tt>&#65292;&#32780;&#19981;&#26159;&#29992;Bean&#30340;&#38190;&#20540;&#12290;
      <tt class="classname">KeyNamingStrategy</tt> &#39318;&#20808;&#20250;&#29992;bean&#30340;&#38190;&#20540;&#35797;&#22270;&#20174; <tt class="classname">Properties</tt> &#20013;&#23450;&#20301;&#19968;&#20010;&#26465;&#30446;&#12290;
      &#20551;&#33509;&#27809;&#26377;&#25214;&#19981;&#21040;&#23545;&#24212;&#30340;&#26465;&#30446;&#65292;&#25110;&#32773; <tt class="classname">Properties</tt> &#23454;&#20363;&#20026; <tt class="literal">null</tt>&#65292;&#26368;&#21518;&#25165;&#20351;&#29992;Bean&#30340;&#38190;&#20540;&#20316;&#20026; <tt class="classname">ObjectName</tt>&#12290;
      </p><p>
      &#20197;&#19979;&#20195;&#30721;&#26174;&#31034;&#20102;&#20851;&#20110;<tt class="classname">KeyNamingStrategy</tt>&#30340;&#19968;&#20221;&#37197;&#32622;&#26679;&#20363;&#65306;
      </p><pre class="programlisting">&lt;beans&gt;

  &lt;bean id="exporter" class="org.springframework.jmx.export.MBeanExporter"&gt;
    &lt;property name="beans"&gt;
      &lt;map&gt;
        &lt;entry key="testBean" value-ref="testBean"/&gt;
      &lt;/map&gt;
    &lt;/property&gt;
    &lt;property name="namingStrategy" ref="namingStrategy"/&gt;
  &lt;/bean&gt;

  &lt;bean id="testBean" class="org.springframework.jmx.JmxTestBean"&gt;
    &lt;property name="name" value="TEST"/&gt;
    &lt;property name="age" value="100"/&gt;
  &lt;/bean&gt;

  &lt;bean id="namingStrategy" class="org.springframework.jmx.export.naming.KeyNamingStrategy"&gt;
    &lt;property name="mappings"&gt;
      &lt;props&gt;
        &lt;prop key="testBean"&gt;bean:name=testBean1&lt;/prop&gt;
      &lt;/props&gt;
    &lt;/property&gt;
    &lt;property name="mappingLocations"&gt;
      &lt;value&gt;names1.properties,names2.properties&lt;/value&gt;
    &lt;/property&gt;
  &lt;/bean

&lt;/beans&gt;</pre><p>
      &#36825;&#20010; <tt class="classname">KeyNamingStrategy</tt> &#23454;&#20363;&#37197;&#32622;&#20102;&#19968;&#20010; <tt class="classname">Properties</tt> &#23454;&#20363;&#65292;&#32780;&#36825;&#20010; <tt class="classname">Properties</tt> &#23454;&#20363;&#30001;mapping&#23646;&#24615;&#21644;mappingLocations&#23646;&#24615;&#25152;&#25351;&#23450;&#30340;&#36335;&#24452;&#23450;&#20301;&#21040;&#30340; <tt class="classname">Properties</tt> &#25991;&#20214;&#21512;&#25104;&#12290;
      &#22312;&#36825;&#20010;&#37197;&#32622;&#37324;&#65292;&#30001;&#20110; <tt class="classname">Properties</tt> &#23454;&#20363;&#26377;&#20010;&#38190;&#20540;&#23545;&#24212;&#35813;Bean&#30340;&#38190;&#20540;&#65292;&#22240;&#27492; <tt class="literal">testBean</tt> &#30340; <tt class="classname">ObjectName</tt> &#23558;&#34987;&#25351;&#23450;&#20026; <tt class="literal">bean:name=testBean1</tt>&#12290;
      </p><p>
      &#20551;&#33509;&#27809;&#26377;&#20219;&#20309;&#26465;&#30446;&#21487;&#20197;&#20174; <tt class="classname">Properties</tt> &#23454;&#20363;&#25214;&#21040;&#65292;Bean&#30340;&#38190;&#20540;&#23558;&#20250;&#20316;&#20026; <tt class="classname">ObjectName</tt>&#12290;
      </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="jmx-naming-metadata"></a>20.4.2.&nbsp;&#20351;&#29992;<tt class="classname">MetadataNamingStrategy</tt></h3></div></div><div></div></div><p>
      <tt class="classname">MetadataNamingStrategy</tt> &#29992;&#27599;&#20010;Bean&#19978; <tt class="classname">ManagedResource</tt> &#23646;&#24615;&#30340; <tt class="literal">objectName</tt> &#23646;&#24615;&#26469;&#26500;&#24314; <tt class="literal">objectName</tt>&#12290;
      &#20197;&#19979;&#20195;&#30721;&#23637;&#31034;&#20102;&#23545;&#20110; <tt class="classname">MetadataNamingStrategy</tt> &#30340;&#37197;&#32622;&#65306;
      </p><pre class="programlisting">&lt;beans&gt;

  &lt;bean id="exporter" class="org.springframework.jmx.export.MBeanExporter"&gt;
    &lt;property name="beans"&gt;
      &lt;map&gt;
        &lt;entry key="testBean" value-ref="testBean"/&gt;
      &lt;/map&gt;
    &lt;/property&gt;
    &lt;property name="namingStrategy" ref="namingStrategy"/&gt;
  &lt;/bean&gt;

  &lt;bean id="testBean" class="org.springframework.jmx.JmxTestBean"&gt;
    &lt;property name="name" value="TEST"/&gt;
    &lt;property name="age" value="100"/&gt;
  &lt;/bean&gt;

  &lt;bean id="namingStrategy" class="org.springframework.jmx.export.naming.MetadataNamingStrategy"&gt;
    &lt;property name="attributeSource" ref="attributeSource"/&gt;
  &lt;/bean&gt;

  &lt;bean id="attributeSource"
      class="org.springframework.jmx.export.metadata.AttributesJmxAttributeSource"/&gt;

&lt;/beans&gt;</pre><p>
      &#20551;&#33509;&#27809;&#26377; <tt class="literal">objectName</tt> &#22312; <tt class="classname">ManagedResource</tt>&#37324;&#25552;&#20379;&#65292;&#37027;&#20040;&#19968;&#20010; <tt class="classname">ObjectName</tt> &#23558;&#20197;&#20197;&#19979;&#26684;&#24335;&#21019;&#24314;&#65306; 
      <span class="emphasis"><em>[fully-qualified-package-name]:type=[short-classname],name=[bean-name]</em></span>&#12290;
      &#20363;&#22914;&#65292;&#23545;&#20110;&#20197;&#19979;&#30340;Bean&#65292;&#20135;&#29983;&#30340; <tt class="classname">ObjectName</tt> &#23558;&#26159; <span class="emphasis"><em>com.foo:type=MyClass,name=myBean</em></span>&#12290;
      </p><pre class="programlisting">&lt;bean id="myBean" class="com.foo.MyClass"/&gt;</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="jmx-context-mbeanexport"></a>20.4.3.&nbsp;<tt class="literal">&lt;context:mbean-export/&gt;</tt>&#20803;&#32032;</h3></div></div><div></div></div><p>
      &#22914;&#26524;&#20320;&#33267;&#23569;&#22312;&#20351;&#29992;Java 5&#65292;&#37027;&#20040;&#23601;&#21487;&#20197;&#20351;&#29992;&#19968;&#20010;&#26041;&#20415;&#30340; <tt class="classname">MBeanExporter</tt> &#23376;&#31867;&#65292; <tt class="classname">AnnotationMBeanExporter</tt>&#12290;
      &#24403;&#23450;&#20041;&#19968;&#20010;&#36825;&#20010;&#23376;&#31867;&#30340;&#23454;&#20363;&#26102;&#65292;&#30001;&#20110;&#20182;&#23558;&#22987;&#32456;&#20351;&#29992;&#22522;&#20110;&#27880;&#35299;&#30340;&#26631;&#20934;Java&#20803;&#25968;&#25454;&#65288;&#33258;&#21160;&#25506;&#27979;&#20063;&#23558;&#22987;&#32456;&#34987;&#28608;&#27963;&#65289;&#65292;<tt class="literal">namingStrategy</tt> &#21644; <tt class="literal">attributeSource</tt> &#30340;&#37197;&#32622;&#20063;&#19981;&#20877;&#38656;&#35201;&#20102;&#12290;
      </p><pre class="programlisting">&lt;context:mbean-export/&gt;</pre><p>
      &#24517;&#35201;&#26102;&#65292;&#20320;&#21487;&#20197;&#25552;&#20379;&#26576;&#20010;MBean&#26381;&#21153;&#22120;&#30340;&#24341;&#29992;&#65292;&#21516;&#26102; <tt class="literal">defaultDomain</tt> &#23646;&#24615;
      &#65288;<tt class="classname">AnnotationMBeanExporter</tt>&#30340;&#19968;&#20010;&#23646;&#24615;&#65289;&#25509;&#21463;&#20135;&#29983;&#30340;MBean
      <tt class="classname">ObjectNames</tt>&#22495;&#21517;&#30340;&#26367;&#20195;&#20540;&#12290;
      &#36825;&#34987;&#29992;&#20110;&#26367;&#20195;&#21069;&#38754;&#31456;&#33410; <a href="jmx.html#jmx-naming-metadata" title="20.4.2.&nbsp;&#20351;&#29992;MetadataNamingStrategy"><tt class="classname">MetadataNamingStrategy</tt></a> &#25552;&#21450;&#30340;&#23436;&#25972;&#38480;&#23450;&#21253;&#21517;&#12290;
      </p><pre class="programlisting">&lt;context:mbean-export server="myMBeanServer" default-domain="myDomain"/&gt;</pre>.

    </div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="jmx-jsr160"></a>20.5.&nbsp;JSR-160&#36830;&#25509;&#22120;</h2></div></div><div></div></div><p>
    &#23545;&#20110;&#36828;&#31243;&#35775;&#38382;&#65292;Spring JMX&#27169;&#22359;&#22312; <tt class="literal">org.springframework.jmx.support</tt> &#21253;&#20869;&#25552;&#20379;&#20102;&#20004;&#20010; <tt class="classname">FactoryBean</tt> &#23454;&#29616;&#65292;&#29992;&#26469;&#26500;&#24314;&#26381;&#21153;&#22120;&#31471;&#21644;&#23458;&#25143;&#31471;&#30340;&#36830;&#25509;&#22120;&#12290;    
    </p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="jmx-jsr160-server"></a>20.5.1.&nbsp;&#26381;&#21153;&#22120;&#31471;&#36830;&#25509;&#22120;</h3></div></div><div></div></div><p>
      &#20351;Spring JMX&#26500;&#24314;&#65292;&#21551;&#21160;&#21644;&#26292;&#38706;&#19968;&#20010;JSR-160 <tt class="classname">JMXConnectorServer</tt>&#65292;&#35201;&#20351;&#29992;&#20197;&#19979;&#37197;&#32622;&#65306;
      </p><pre class="programlisting">&lt;bean id="serverConnector" class="org.springframework.jmx.support.ConnectorServerFactoryBean"/&gt;</pre><p>
      <tt class="literal">ConnectorServerFactoryBean</tt> &#40664;&#35748;&#21019;&#24314;&#19968;&#20010; <tt class="classname">JMXConnectorServer</tt>&#65292;
      &#24182;&#23558;&#20854;&#32465;&#23450;&#21040; <tt class="literal">"service:jmx:jmxmp://localhost:9875"</tt>&#12290;
      &#22240;&#27492;&#35813; <tt class="literal">serverConnector</tt> Bean&#22312;&#26412;&#26426;9875&#31471;&#21475;&#36890;&#36807;JMXMP&#21327;&#35758;&#23558;&#26412;&#22320; <tt class="interfacename">MBeanServer</tt> &#26292;&#38706;&#32473;&#23458;&#25143;&#12290;
      &#35201;&#30041;&#24847;JSR160&#35268;&#33539;&#24050;&#23558;JMXMP&#21327;&#35758;&#26631;&#35760;&#20026;&#21487;&#36873;&#30340;&#65292;&#22914;&#20170;&#65292;&#20027;&#27969;&#30340;&#24320;&#28304;JMX&#23454;&#29616;MX4J&#21644;J2SE 5.0&#25552;&#20379;&#30340;&#23454;&#29616;&#37117;&#24050;&#19981;&#25903;&#25345;JMXMP&#20102;&#12290;
      </p><p>
      &#35201;&#25351;&#23450;&#20854;&#20182;URL&#21644;&#35201;&#29992; <tt class="interfacename">MBeanServer</tt> &#27880;&#20876; <tt class="classname">JMXConnectorServer</tt>&#65292;
      &#35201;&#20351;&#29992;&#30456;&#24212;&#30340; <tt class="literal">serviceUrl</tt> &#21644; <tt class="classname">ObjectName</tt> &#23646;&#24615;&#65306;
      </p><pre class="programlisting">&lt;bean id="serverConnector"
      class="org.springframework.jmx.support.ConnectorServerFactoryBean"&gt;
  &lt;property name="objectName" value="connector:name=rmi"/&gt;
  &lt;property name="serviceUrl" 
            value="service:jmx:rmi://localhost/jndi/rmi://localhost:1099/myconnector"/&gt;
&lt;/bean&gt;</pre><p>
      &#22914;&#26524;&#35774;&#32622;&#20102; <tt class="classname">ObjectName</tt>&#65292;Spring&#23558;&#33258;&#21160;&#25226;&#36830;&#25509;&#22120;&#29992;&#35813; <tt class="classname">ObjectName</tt> &#27880;&#20876;&#21040; <tt class="interfacename">MBeanServer</tt> &#19978;&#12290;
      &#20197;&#19979;&#20363;&#23376;&#23637;&#31034;&#20102;&#24403;&#21019;&#24314;&#19968;&#20010;JMX&#36830;&#25509;&#22120;&#26102;&#65292;&#20320;&#21487;&#20197;&#20256;&#32473; <tt class="classname">ConnectorServerFactoryBean</tt> &#30340;&#25152;&#26377;&#21442;&#25968;&#65306;
      </p><pre class="programlisting">&lt;bean id="serverConnector"
      class="org.springframework.jmx.support.ConnectorServerFactoryBean"&gt;
  &lt;property name="objectName" value="connector:name=iiop"/&gt;
  &lt;property name="serviceUrl" 
               value="service:jmx:iiop://localhost/jndi/iiop://localhost:900/myconnector"/&gt;
  &lt;property name="threaded" value="true"/&gt;
  &lt;property name="daemon" value="true"/&gt;
  &lt;property name="environment"&gt;
    &lt;map&gt;
      &lt;entry key="someKey" value="someValue"/&gt;
    &lt;/map&gt;
  &lt;/property&gt;
&lt;/bean&gt;</pre><p>
      &#35201;&#27880;&#24847;&#30340;&#26159;&#65292;&#24403;&#20351;&#29992;&#19968;&#20010;&#22522;&#20110;RMI&#30340;&#36830;&#25509;&#22120;&#65292;&#20320;&#35201;&#20808;&#21551;&#21160;&#26597;&#25214;&#26381;&#21153;&#65288;tnameserv&#25110;&#32773;rmiregistry&#65289;&#65292;&#20197;&#20415;&#23436;&#25104;&#21629;&#21517;&#27880;&#20876;&#12290;
      &#22914;&#26524;&#20320;&#22312;&#20351;&#29992;Spring&#23558;&#36828;&#31243;&#26381;&#21153;&#36890;&#36807;RMI&#36755;&#20986;&#65292;&#37027;&#20040;Spring&#24050;&#32463;&#26500;&#24314;&#20102;&#19968;&#20010;RMI&#27880;&#20876;&#26381;&#21153;&#12290;&#22914;&#26524;&#27809;&#26377;&#20351;&#29992;Spring&#65292;&#36890;&#36807;&#20351;&#29992;&#20197;&#19979;&#37197;&#32622;&#29255;&#27573;&#65292;&#20320;&#20063;&#21487;&#20197;&#24456;&#23481;&#26131;&#22320;&#21551;&#21160;&#19968;&#20010;&#27880;&#20876;&#26381;&#21153;&#12290;
      </p><pre class="programlisting">&lt;bean id="registry" class="org.springframework.remoting.rmi.RmiRegistryFactoryBean"&gt;
  &lt;property name="port" value="1099"/&gt;
&lt;/bean&gt;</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="jmx-jsr160-client"></a>20.5.2.&nbsp;&#23458;&#25143;&#31471;&#36830;&#25509;&#22120;</h3></div></div><div></div></div><p>
      &#35201;&#26500;&#24314;&#19968;&#20010; <tt class="classname">MBeanServerConnection</tt> &#21040;&#19968;&#20010;&#36828;&#31243;&#30340;JSR-160 <tt class="interfacename">MBeanServer</tt>&#65292;
      &#20351;&#29992;&#20197;&#19979;&#25152;&#31034;&#30340; <tt class="classname">MBeanServerConnectionFactoryBean</tt>&#12290;
      </p><pre class="programlisting">&lt;bean id="clientConnector" class="org.springframework.jmx.support.MBeanServerConnectionFactoryBean"&gt;
  &lt;property name="serviceUrl" value="service:jmx:rmi://localhost:9875"/&gt;
&lt;/bean&gt;</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="jmx-jsr160-protocols"></a>20.5.3.&nbsp;&#22522;&#20110;Burlap/Hessian/SOAP&#30340;JMX</h3></div></div><div></div></div><p>
      JSR-160&#36816;&#34892;&#25193;&#23637;&#23458;&#25143;&#31471;&#19982;&#26381;&#21153;&#22120;&#31471;&#20132;&#27969;&#30340;&#26041;&#24335;&#12290;&#19978;&#38754;&#30340;&#20363;&#23376;&#37117;&#20351;&#29992;&#20102;&#24378;&#21046;&#30340;&#22522;&#20110;RMI&#30340;&#23454;&#29616;&#65292;&#36825;&#26159;JSR-160&#35268;&#33539;&#65288;IIOP&#21644;JRMP&#65289;&#21644;&#65288;&#21487;&#36873;&#30340;JMXMP&#65289;&#35201;&#27714;&#30340;&#12290;
      &#36890;&#36807;&#20351;&#29992;&#20854;&#20182;&#25552;&#20379;&#21830;&#30340;&#25110;&#32773;&#20854;&#20182;&#30340;JMX&#23454;&#29616;&#65288;&#20363;&#22914; <a href="http://mx4j.sourceforge.net" target="_top">MX4J</a>&#65289;&#65292;&#20320;&#23601;&#21487;&#20197;&#20139;&#21463;&#20854;&#20182;&#21327;&#35758;&#65292;
      &#22914;SOAP&#65292;Hessian&#65292;&#22522;&#20110;HTTP&#25110;SSL&#30340;Burlap&#65292;&#25110;&#32773;&#20854;&#20182;&#21327;&#35758;&#65306;
      </p><pre class="programlisting">&lt;bean id="serverConnector" class="org.springframework.jmx.support.ConnectorServerFactoryBean"&gt;
  &lt;property name="objectName" value="connector:name=burlap"/&gt;
  &lt;property name="serviceUrl" value="service:jmx:burlap://localhost:9874"/&gt;
&lt;/bean&gt;</pre><p>
      &#19978;&#36848;&#20363;&#23376;&#20013;&#65292;&#20351;&#29992;&#20102;MX4J 3.0.0&#65292;&#26356;&#22810;&#30340;&#20449;&#24687;&#35831;&#26597;&#30475;MX4J&#23448;&#26041;&#25991;&#26723;&#12290;
      </p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="jmx-proxy"></a>20.6.&nbsp;&#36890;&#36807;&#20195;&#29702;&#35775;&#38382;MBean</h2></div></div><div></div></div><p>
    Spring JMX&#20801;&#35768;&#20320;&#21019;&#24314;&#20195;&#29702;&#65292;&#23558;&#35843;&#29992;&#37325;&#26032;&#36335;&#30001;&#21040;&#26412;&#22320;&#25110;&#32773;&#36828;&#31243; <tt class="interfacename">MBeanServer</tt> &#19978;&#27880;&#20876;&#30340;MBean&#12290;
    &#36825;&#20123;&#20195;&#29702;&#25552;&#20379;&#20102;&#19968;&#20010;&#26631;&#20934;Java&#25509;&#21475;&#65292;&#20320;&#21487;&#20197;&#36890;&#36807;&#23427;&#19982;MBean&#20132;&#20114;&#12290;&#20197;&#19979;&#20195;&#30721;&#23637;&#31034;&#20102;&#22914;&#20309;&#20026;&#26412;&#22320; <tt class="interfacename">MBeanServer</tt> &#37197;&#32622;&#19968;&#20010;MBean&#20195;&#29702;&#65306;
    </p><pre class="programlisting">&lt;bean id="proxy" class="org.springframework.jmx.access.MBeanProxyFactoryBean"&gt;
    &lt;property name="objectName" value="bean:name=testBean"/&gt;
    &lt;property name="proxyInterface" value="org.springframework.jmx.IJmxTestBean"/&gt;
&lt;/bean&gt;</pre><p>
    &#20320;&#21487;&#20197;&#30475;&#21040;&#24050;&#32463;&#20026;&#20197; <tt class="classname">ObjectName</tt>:<tt class="literal">bean:name=testBean</tt> &#27880;&#20876;&#30340;MBean&#21019;&#24314;&#20102;&#19968;&#20010;&#20195;&#29702;&#65292;
    &#35813;&#20195;&#29702;&#23454;&#29616;&#30340;&#25152;&#26377;&#25509;&#21475;&#37117;&#30001; <tt class="literal">proxyInterfaces</tt> &#21644;&#26144;&#23556;&#35268;&#21017;&#25484;&#25511;&#12290;
    &#20063;&#23601;&#26159;&#23558;&#36825;&#20123;&#25509;&#21475;&#19978;&#26041;&#27861;&#65292;&#23646;&#24615;&#26144;&#23556;&#20026;MBean&#19978;&#25805;&#20316;&#19982;&#23646;&#24615;&#30340;&#35268;&#21017;&#65292;&#23427;&#20204;&#19982; <tt class="classname">InterfaceBasedMBeanInfoAssembler</tt> &#20351;&#29992;&#30340;&#26159;&#21516;&#19968;&#22871;&#35268;&#21017;&#12290;
    </p><p>
    <tt class="classname">MBeanProxyFactoryBean</tt> &#33021;&#21019;&#24314;&#19968;&#20010;&#20219;&#20309;MBean&#30340;&#20195;&#29702;&#65292;&#21487;&#20197;&#36890;&#36807; <tt class="classname">MBeanServerConnection</tt> &#26469;&#35775;&#38382;&#12290;
    &#40664;&#35748;&#23558;&#23450;&#20301;&#65292;&#20351;&#29992;&#26412;&#22320;&#30340; <tt class="interfacename">MBeanServer</tt>&#12290;&#20294;&#26159;&#65292;&#20026;&#20102;&#36866;&#24212;&#25351;&#21521;&#36828;&#31243;MBean&#30340;&#20195;&#29702;&#65292;&#20320;&#21487;&#20197;&#37325;&#36733;&#36825;&#31181;&#34892;&#20026;&#65292;&#25552;&#20379;&#19968;&#20010;&#25351;&#21521;&#36828;&#31243; <tt class="interfacename">MBeanServer</tt> &#30340; <tt class="classname">MBeanServerConnection</tt>&#12290;
    </p><pre class="programlisting">&lt;bean id="clientConnector"
      class="org.springframework.jmx.support.MBeanServerConnectionFactoryBean"&gt;
  &lt;property name="serviceUrl" value="service:jmx:rmi://remotehost:9875"/&gt;
&lt;/bean&gt;

&lt;bean id="proxy" class="org.springframework.jmx.access.MBeanProxyFactoryBean"&gt;
  &lt;property name="objectName" value="bean:name=testBean"/&gt;
  &lt;property name="proxyInterface" value="org.springframework.jmx.IJmxTestBean"/&gt;
  &lt;property name="server" ref="clientConnector"/&gt;
&lt;/bean&gt;</pre><p>
    &#20320;&#21487;&#20197;&#30475;&#21040;&#25105;&#20204;&#29992; <tt class="classname">MBeanServerConnectionFactoryBean</tt> &#26500;&#24314;&#20102;&#19968;&#20010; <tt class="classname">MBeanServerConnection</tt> &#25351;&#21521;&#19968;&#20010;&#36828;&#31243;&#20027;&#26426;&#12290;
    &#36825;&#20010; <tt class="classname">MBeanServerConnection</tt> &#20043;&#21518;&#36890;&#36807; <tt class="literal">server</tt> &#23646;&#24615;&#20256;&#32473;&#20102; <tt class="classname">MBeanProxyFactoryBean</tt>&#12290;
    &#21019;&#24314;&#30340;&#36825;&#20010;&#20195;&#29702;&#23558;&#36890;&#36807; <tt class="classname">MBeanServerConnection</tt> &#25226;&#25152;&#26377;&#35843;&#29992;&#36716;&#21457;&#32473; <tt class="interfacename">MBeanServer</tt>&#12290;
    </p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="jmx-notifications"></a>20.7.&nbsp;&#36890;&#30693;</h2></div></div><div></div></div><p>
    Spring&#25552;&#20379;&#30340;JMX&#23545;JMX&#36890;&#30693;&#21253;&#21547;&#20102;&#20840;&#38754;&#30340;&#25903;&#25345;&#12290;
    </p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="jmx-notifications-listeners"></a>20.7.1.&nbsp;&#20026;&#36890;&#30693;&#27880;&#20876;&#30417;&#21548;&#22120;</h3></div></div><div></div></div><p>
      Spring&#30340;JMX&#25903;&#25345;&#20351;&#24471;&#29992;&#20219;&#24847;&#25968;&#37327;MBean&#27880;&#20876;&#20219;&#24847;&#25968;&#37327;&#30340; <tt class="classname">NotificationListeners</tt> &#30417;&#21548;&#22120;&#65288;&#21253;&#25324;&#30001;Spring&#30340; <tt class="classname">MBeanExporter</tt> &#36755;&#20986;&#21644;&#20854;&#20182;&#26426;&#21046;&#27880;&#20876;&#30340;MBean&#65289;&#37117;&#38750;&#24120;&#23481;&#26131;&#12290;
	  &#36890;&#36807;&#20363;&#23376;&#65292;&#32771;&#34385;&#24403;&#30446;&#26631;MBean&#21457;&#29983;&#20102;&#21464;&#21270;&#37117;&#24819;&#24471;&#21040;&#36890;&#30693;&#65288;&#36890;&#36807; <tt class="classname">Notification</tt>&#65289;&#30340;&#22330;&#26223;&#12290;
	  </p><pre class="programlisting">package com.example;

import javax.management.AttributeChangeNotification;
import javax.management.Notification;
import javax.management.NotificationFilter;
import javax.management.NotificationListener;

public class ConsoleLoggingNotificationListener
               implements NotificationListener, NotificationFilter {

    public void handleNotification(Notification notification, Object handback) {
        System.out.println(notification);
        System.out.println(handback);
    }

    public boolean isNotificationEnabled(Notification notification) {
        return AttributeChangeNotification.class.isAssignableFrom(notification.getClass());
    }
}</pre><pre class="programlisting">&lt;beans&gt;

  &lt;bean id="exporter" class="org.springframework.jmx.export.MBeanExporter"&gt;
    &lt;property name="beans"&gt;
      &lt;map&gt;
        &lt;entry key="bean:name=testBean1" value-ref="testBean"/&gt;
      &lt;/map&gt;
    &lt;/property&gt;
    &lt;property name="notificationListenerMappings"&gt;
      &lt;map&gt;
        &lt;entry key="bean:name=testBean1"&gt;
          &lt;bean class="com.example.ConsoleLoggingNotificationListener"/&gt;
        &lt;/entry&gt;
      &lt;/map&gt;
    &lt;/property&gt;
  &lt;/bean&gt;

  &lt;bean id="testBean" class="org.springframework.jmx.JmxTestBean"&gt;
    &lt;property name="name" value="TEST"/&gt;
    &lt;property name="age" value="100"/&gt;
  &lt;/bean&gt;

&lt;/beans&gt;</pre><p>
		&#19978;&#36848;&#37197;&#32622;&#23601;&#32490;&#21518;&#65292;&#27599;&#24403;&#30446;&#26631;MBean&#65288;<tt class="literal">bean:name=testBean1</tt>&#65289;&#24191;&#25773;&#19968;&#20010;JMX <tt class="classname">Notification</tt> &#26102;&#65292;
		&#36890;&#36807; <tt class="literal">notificationListenerMappings</tt> &#23646;&#24615;&#27880;&#20876;&#30340; <tt class="classname">ConsoleLoggingNotificationListener</tt> &#37117;&#33021;&#24471;&#21040;&#36890;&#30693;&#12290;
		<tt class="classname">ConsoleLoggingNotificationListener</tt> &#23601;&#21487;&#20197;&#37319;&#21462;&#20219;&#20309;&#23427;&#35748;&#20026;&#21512;&#36866;&#30340;&#34892;&#20026;&#26469;&#21709;&#24212; <tt class="classname">Notification</tt>&#12290;
		</p><p>
		&#20320;&#20063;&#21487;&#20197;&#30452;&#25509;&#20351;&#29992;Bean&#21517;&#20316;&#20026;&#36755;&#20986;&#30340;Bean&#21644;&#30417;&#21548;&#22120;&#30452;&#25509;&#30340;&#38142;&#25509;&#12290;
		</p><pre class="programlisting">&lt;beans&gt;

  &lt;bean id="exporter" class="org.springframework.jmx.export.MBeanExporter"&gt;
    &lt;property name="beans"&gt;
      &lt;map&gt;
        &lt;entry key="bean:name=testBean1" value-ref="testBean"/&gt;
      &lt;/map&gt;
    &lt;/property&gt;
    &lt;property name="notificationListenerMappings"&gt;
      &lt;map&gt;
        &lt;entry key="<span class="bold"><b>testBean</b></span>"&gt;
          &lt;bean class="com.example.ConsoleLoggingNotificationListener"/&gt;
        &lt;/entry&gt;
      &lt;/map&gt;
    &lt;/property&gt;
  &lt;/bean&gt;

  &lt;bean id="<span class="bold"><b>testBean</b></span>" class="org.springframework.jmx.JmxTestBean"&gt;
    &lt;property name="name" value="TEST"/&gt;
    &lt;property name="age" value="100"/&gt;
  &lt;/bean&gt;

&lt;/beans&gt;</pre><p>
		&#22914;&#26524;&#26377;&#20154;&#24819;&#20026;&#25152;&#26377;&#36890;&#36807; <tt class="classname">MBeanExporter</tt> &#36755;&#20986;&#30340;Bean&#27880;&#20876;&#21333;&#20010; <tt class="classname">NotificationListener</tt>&#23454;&#20363;&#65292;&#21487;&#20197;&#20351;&#29992;&#36890;&#37197;&#31526;'*'&#65288;&#27809;&#26377;&#24341;&#21495;&#65289;&#20316;&#20026; <tt class="literal">notificationListenerMappings</tt> &#23646;&#24615;&#26144;&#23556;&#20013;&#19968;&#20010;&#23454;&#20307;&#30340;&#38190;&#20540;&#65307;&#22914;&#19979;&#65306;
		
		</p><pre class="programlisting">&lt;property name="notificationListenerMappings"&gt;
  &lt;map&gt;
    &lt;entry key="*"&gt;
      &lt;bean class="com.example.ConsoleLoggingNotificationListener"/&gt;
    &lt;/entry&gt;
  &lt;/map&gt;
&lt;/property&gt;</pre><p>
      &#22914;&#26524;&#24819;&#20570;&#30456;&#21453;&#30340;&#20107;&#24773;&#65288;&#20063;&#23601;&#26159;&#65292;&#20026;&#19968;&#20010;MBean&#27880;&#20876;&#22810;&#20010;&#19981;&#21516;&#30340;&#30417;&#21548;&#22120;&#65289;&#65292;&#37027;&#20040;&#20182;&#23601;&#35201;&#20351;&#29992; <tt class="literal">notificationListeners</tt> &#21015;&#34920;&#23646;&#24615;&#26469;&#26367;&#20195;&#65288;&#20248;&#20808;&#20110; <tt class="literal">notificationListenerMappings</tt> &#23646;&#24615;&#65289;&#12290;
      &#36825;&#26102;&#23601;&#35201;&#37197;&#32622;&#22810;&#20010; <tt class="classname">NotificationListenerBean</tt> &#23454;&#20363;&#65292;&#32780;&#19981;&#20165;&#20165;&#26159;&#19968;&#20010;&#20102;&#8230;&#8230;
      &#19968;&#20010; <tt class="classname">NotificationListenerBean</tt> &#19981;&#20294;&#23553;&#35013;&#20102;&#19968;&#20010;&#25110;&#32773;&#22810;&#20010; <tt class="classname">NotificationListener</tt> &#21644;&#24050;&#27880;&#20876;&#21040;&#19968;&#20010; <tt class="interfacename">MBeanServer</tt> &#30340; <tt class="classname">ObjectName</tt>&#65292;&#23427;&#20063;&#23553;&#35013;&#20102;&#35768;&#22810;&#20854;&#20182;&#23646;&#24615;&#65292;&#20363;&#22914;&#19968;&#20010; <tt class="classname">NotificationFilter</tt> &#21644;&#19968;&#20010;&#21487;&#20197;&#29992;&#20110;JMX&#39640;&#32423;&#36890;&#30693;&#22330;&#26223;&#30340;&#22238;&#20256;&#23545;&#35937;&#12290;
      </p><p>
      &#24403;&#20351;&#29992;&#22810;&#20010; <tt class="classname">NotificationListenerBean</tt> &#23454;&#20363;&#26102;&#65292;&#36825;&#20010;&#37197;&#32622;&#19982;&#21069;&#38754;&#23637;&#31034;&#30340;&#24182;&#27809;&#26377;&#22826;&#22823;&#30340;&#19981;&#21516;&#12290;
      </p><pre class="programlisting">&lt;beans&gt;

  &lt;bean id="exporter" class="org.springframework.jmx.export.MBeanExporter"&gt;
    &lt;property name="beans"&gt;
      &lt;map&gt;
        &lt;entry key="bean:name=testBean1" value-ref="testBean"/&gt;
      &lt;/map&gt;
    &lt;/property&gt;
    &lt;property name="notificationListeners"&gt;
        &lt;list&gt;
            &lt;bean class="org.springframework.jmx.export.NotificationListenerBean"&gt;
                &lt;constructor-arg&gt;
                    &lt;bean class="com.example.ConsoleLoggingNotificationListener"/&gt;
                &lt;/constructor-arg&gt;
                &lt;property name="mappedObjectNames"&gt;
                    &lt;list&gt;
                        &lt;value&gt;bean:name=testBean1&lt;/value&gt;
                    &lt;/list&gt;
                &lt;/property&gt;
            &lt;/bean&gt;
        &lt;/list&gt;
    &lt;/property&gt;
  &lt;/bean&gt;

  &lt;bean id="testBean" class="org.springframework.jmx.JmxTestBean"&gt;
    &lt;property name="name" value="TEST"/&gt;
    &lt;property name="age" value="100"/&gt;
  &lt;/bean&gt;

&lt;/beans&gt;</pre><p>
      &#19978;&#38754;&#20363;&#23376;&#31561;&#21516;&#19982;&#31532;&#19968;&#20010;&#36890;&#30693;&#31034;&#20363;&#12290;&#20551;&#35774;&#27599;&#27425; <tt class="classname">Notification</tt> &#21457;&#29983;&#26102;&#65292;&#25105;&#20204;&#24819;&#24471;&#21040;&#19968;&#20010;&#22238;&#20256;&#23545;&#35937;&#65292;
      &#19988;&#24819;&#36890;&#36807;&#25552;&#20379;&#19968;&#20010; <tt class="classname">NotificationFilter</tt> &#36807;&#28388;&#20986;&#26080;&#20851;&#30340; <tt class="classname">Notifications</tt>&#12290;
      &#33267;&#20110;&#20160;&#20040;&#26159;&#19968;&#20010;&#22238;&#20256;&#23545;&#35937;&#65292;<tt class="classname">NotificationFilter</tt> &#21040;&#24213;&#21448;&#26159;&#20160;&#20040;&#30340;&#20840;&#38754;&#30340;&#25506;&#35752;&#65292;&#35831;&#21442;&#32771;JMX&#35268;&#33539;&#65288;1.2&#65289;<tt class="literal">'The JMX Notification Model'</tt> &#31456;&#33410;&#12290;
      </p><pre class="programlisting">&lt;beans&gt;

  &lt;bean id="exporter" class="org.springframework.jmx.export.MBeanExporter"&gt;
    &lt;property name="beans"&gt;
      &lt;map&gt;
        &lt;entry key="bean:name=testBean1" value-ref="testBean1"/&gt;
        &lt;entry key="bean:name=testBean2" value-ref="testBean2"/&gt;
      &lt;/map&gt;
    &lt;/property&gt;
    &lt;property name="notificationListeners"&gt;
        &lt;list&gt;
            &lt;bean class="org.springframework.jmx.export.NotificationListenerBean"&gt;
                &lt;constructor-arg ref="customerNotificationListener"/&gt;
                &lt;property name="mappedObjectNames"&gt;
                    &lt;list&gt;
                        <i class="lineannotation"><span class="lineannotation">&lt;!-- handles notifications from two distinct MBeans --&gt;</span></i>
                        &lt;value&gt;bean:name=testBean1&lt;/value&gt;
                        &lt;value&gt;bean:name=testBean2&lt;/value&gt;
                    &lt;/list&gt;
                &lt;/property&gt;
                &lt;property name="handback"&gt;
                    &lt;bean class="java.lang.String"&gt;
                        &lt;constructor-arg value="This could be anything..."/&gt;
                    &lt;/bean&gt;
                &lt;/property&gt;
                &lt;property name="notificationFilter" ref="customerNotificationListener"/&gt;
            &lt;/bean&gt;
        &lt;/list&gt;
    &lt;/property&gt;
  &lt;/bean&gt;
  
  <i class="lineannotation"><span class="lineannotation">
  &lt;!-- &#23454;&#29616;&#20102;<tt class="interfacename">NotificationListener</tt> &#21644; <tt class="interfacename">NotificationFilter</tt>&#25509;&#21475; --&gt;
  </span></i>
  &lt;bean id="customerNotificationListener" class="com.example.ConsoleLoggingNotificationListener"/&gt;

  &lt;bean id="testBean1" class="org.springframework.jmx.JmxTestBean"&gt;
    &lt;property name="name" value="TEST"/&gt;
    &lt;property name="age" value="100"/&gt;
  &lt;/bean&gt;

  &lt;bean id="testBean2" class="org.springframework.jmx.JmxTestBean"&gt;
    &lt;property name="name" value="ANOTHER TEST"/&gt;
    &lt;property name="age" value="200"/&gt;
  &lt;/bean&gt;

&lt;/beans&gt;</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="jmx-notifications-publishing"></a>20.7.2.&nbsp;&#21457;&#24067;&#36890;&#30693;</h3></div></div><div></div></div><p>
      Spring&#19981;&#20294;&#25552;&#20379;&#20102;&#27880;&#20876;&#25509;&#25910;&#36890;&#30693;&#30340;&#25903;&#25345;&#65292;&#20063;&#25552;&#20379;&#20102;&#23545;&#21457;&#24067;&#36890;&#30693;&#30340;&#25903;&#25345;&#12290;
      </p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="../images/admons/note.png"></td><th align="left">Note</th></tr><tr><td colspan="2" align="left" valign="top"><p>
        &#35201;&#27880;&#24847;&#30340;&#26159;&#65292;&#26412;&#31456;&#33410;&#20165;&#20165;&#19982;&#36890;&#36807; <tt class="classname">MBeanExporter</tt> &#26292;&#38706;&#30340;&#65292;&#34987;Spring&#31649;&#29702;&#30340;Bean&#30456;&#20851;&#12290;
        &#20219;&#20309;&#29616;&#23384;&#30340;&#65292;&#29992;&#25143;&#23450;&#20041;&#30340;MBean&#24212;&#24403;&#20351;&#29992;&#26631;&#20934;JMX API&#26469;&#20570;&#36890;&#30693;&#21457;&#24067;&#12290;
        </p></td></tr></table></div><p>
      Spring&#30340;JMX&#36890;&#30693;&#21457;&#24067;&#25903;&#25345;&#20013;&#30340;&#20851;&#38190;&#25509;&#21475;&#26159; <tt class="classname">NotificationPublisher</tt>&#65288;&#23450;&#20041;&#20110; <tt class="literal">org.springframework.jmx.export.notification</tt> &#21253;&#20013;&#65289;&#12290;
      &#20219;&#24847;&#35201;&#36890;&#36807; <tt class="classname">MBeanExporter</tt> &#23454;&#20363;&#36755;&#20986;&#20026;MBean&#30340;Bean&#37117;&#21487;&#20197;&#23454;&#29616;
      <tt class="classname">NotificationPublisherAware</tt> &#25509;&#21475;&#26469;&#33719;&#24471;&#23545; <tt class="classname">NotificationPublisher</tt> &#23454;&#20363;&#30340;&#35775;&#38382;&#12290;
      <tt class="classname">NotificationPublisherAware</tt> &#20165;&#20165;&#25552;&#20379;&#36890;&#36807;&#19968;&#20010;&#31616;&#21333;&#30340;setter&#26041;&#27861;&#32473;&#23454;&#29616;&#20102;&#36825;&#20010;&#25509;&#21475;&#30340;Bean&#27880;&#20837;&#19968;&#20010;
      <tt class="classname">NotificationPublisher</tt> &#23454;&#20363;&#65292;&#37027;&#20123;Bean&#23601;&#22240;&#27492;&#21487;&#20197;&#21457;&#24067; <tt class="classname">Notification</tt> &#20102;&#12290;
      </p><p>
      &#23601;&#22914; <tt class="classname">NotificationPublisher</tt> &#31867;&#30340;Javadoc&#25551;&#36848;&#30340;&#19968;&#26679;&#65292;&#36890;&#36807; <tt class="classname">NotificationPublisher</tt> &#26426;&#21046;&#21457;&#24067;&#20107;&#20214;&#30340;&#21463;&#25511;Bean&#26159; <span class="emphasis"><em>&#19981;</em></span> &#38656;&#35201;&#23545;&#20219;&#20309;&#36890;&#30693;&#30340;&#30417;&#21548;&#22120;&#25110;&#32773;&#20854;&#20182;&#35832;&#22914;&#27492;&#31867;&#30340;&#30417;&#21548;&#22120;&#30340;&#29366;&#24577;&#31649;&#29702;&#36127;&#36131;&#30340;&#12290;Spring&#30340;JMX&#25903;&#25345;&#23558;&#22788;&#29702;&#19982;JMX&#26550;&#26500;&#30456;&#20851;&#30340;&#25152;&#26377;&#38382;&#39064;&#12290;
      &#20316;&#20026;&#19968;&#20010;&#24212;&#29992;&#31243;&#24207;&#24320;&#21457;&#32773;&#65292;&#20182;&#25152;&#38656;&#35201;&#20570;&#30340;&#21482;&#26159;&#23454;&#29616; <tt class="classname">NotificationPublisherAware</tt> &#25509;&#21475;&#65292;&#28982;&#21518;&#21033;&#29992;&#27880;&#20837;&#30340; <tt class="classname">NotificationPublisher</tt> &#23454;&#20363;&#21457;&#24067;&#20107;&#20214;&#12290;&#35201;&#27880;&#24847;&#65292;&#21463;&#25511;Bean&#27880;&#20876;&#21040;&#19968;&#20010; <tt class="interfacename">MBeanServer</tt> &#21518;&#65292;<tt class="classname">NotificationPublisher</tt> &#25165;&#34987;&#35774;&#32622;&#12290;
      </p><p>
      &#20351;&#29992; <tt class="classname">NotificationPublisher</tt> &#23454;&#20363;&#30340;&#26041;&#27861;&#24456;&#30452;&#35266;&#65292;&#20154;&#20204;&#21482;&#35201;&#26500;&#24314;&#19968;&#20010; <tt class="classname">Notification</tt> &#23454;&#20363;&#65288;&#25110;&#32773;&#19968;&#20010;&#21512;&#36866;&#30340; <tt class="classname">Notification</tt> &#23376;&#31867;&#30340;&#23454;&#20363;&#65289;&#65292;&#25509;&#30528;&#22635;&#20805;&#19982;&#23558;&#35201;&#21457;&#24067;&#30340;&#20107;&#20214;&#30456;&#20851;&#30340;&#25968;&#25454;&#21040;&#36890;&#30693;&#37324;&#65292;&#28982;&#21518;&#20256;&#20837; <tt class="classname">Notification</tt>&#65292;&#35843;&#29992;<tt class="classname">NotificationPublisher</tt>&#23454;&#20363;&#30340;&#26041;&#27861; <tt class="methodname">sendNotification(Notification)</tt> &#23601;&#21487;&#20197;&#20102;&#12290;
      </p><p>
      &#35753;&#25105;&#20204;&#26469;&#30475;&#19968;&#20010;&#31616;&#21333;&#30340;&#20363;&#23376;&#65292;&#22312;&#36825;&#20010;&#22330;&#26223;&#37324;&#65292;&#36755;&#20986; <tt class="classname">JmxTestBean</tt> &#23454;&#20363;&#22312;&#27599;&#27425; <tt class="literal">add(int, int)</tt> &#25805;&#20316;&#35843;&#29992;&#26102;&#37117;&#20250;&#21457;&#24067; <tt class="classname">NotificationEvent</tt>&#12290;
      </p><pre class="programlisting">package org.springframework.jmx;
			
import org.springframework.jmx.export.notification.NotificationPublisherAware;
import org.springframework.jmx.export.notification.NotificationPublisher;
import javax.management.Notification;

public class JmxTestBean implements IJmxTestBean, NotificationPublisherAware {

    private String name;
    private int age;
    private boolean isSuperman;
    private NotificationPublisher publisher;

    <i class="lineannotation"><span class="lineannotation">// &#28165;&#26224;&#36215;&#35265;&#65292;&#24573;&#30053;&#20102;&#20854;&#20182;getter&#21644;setter</span></i>

    public int add(int x, int y) {
        int answer = x + y;
        this.publisher.sendNotification(new Notification("add", this, 0));
        return answer;
    }

    public void dontExposeMe() {
        throw new RuntimeException();
    }
    
    public void setNotificationPublisher(NotificationPublisher notificationPublisher) {
        this.publisher = notificationPublisher;
    }
}</pre><p><tt class="classname">NotificationPublisher</tt> &#25509;&#21475;&#21644;&#19968;&#22871;&#20351;&#20043;&#36816;&#20316;&#30340;&#26426;&#21046;&#26159;Spring JMX&#25903;&#25345;&#30340;&#20248;&#33391;&#29305;&#24615;&#20043;&#19968;&#12290;
	  &#23427;&#24102;&#26469;&#30340;&#20195;&#20215;&#30830;&#23454;&#26159;&#20351;&#20320;&#30340;&#31867;&#19982;Spring&#65292;JMX&#32039;&#32806;&#21512;&#20102;&#65307;&#19982;&#20197;&#24448;&#19968;&#26679;&#65292;&#25105;&#20204;&#30340;&#24314;&#35758;&#20063;&#26159;&#24456;&#23454;&#38469;&#30340;&#8230;&#8230;&#22914;&#26524;&#20320;&#38656;&#35201; <tt class="classname">NotificationPublisher</tt> &#25552;&#20379;&#30340;&#21151;&#33021;&#65292;&#24182;&#19988;&#25509;&#21463;&#19982;Spring&#65292;JMX&#30340;&#32039;&#32806;&#21512;&#65292;&#37027;&#20040;&#23601;&#34892;&#21160;&#21543;&#12290;
	  </p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="jmx-resources"></a>20.8.&nbsp;&#26356;&#22810;&#36164;&#28304;</h2></div></div><div></div></div><p>&#26412;&#31456;&#33410;&#21253;&#21547;&#20102;&#26356;&#22810;&#20851;&#20110;JMX&#30340;&#36164;&#28304;&#30340;&#38142;&#25509;&#12290;</p><div class="itemizedlist"><ul type="disc"><li><p>
        Sun&#30340;<a href="http://java.sun.com/products/JavaManagement/" target="_top">JMX&#20027;&#39029;</a>
        </p></li><li><p>
        <a href="http://jcp.org/aboutJava/communityprocess/final/jsr003/index3.html" target="_top">JMX&#35268;&#33539;</a>&#65288;JSR-000003&#65289;
        </p></li><li><p>
        <a href="http://jcp.org/aboutJava/communityprocess/final/jsr160/index.html" target="_top">JMX&#36828;&#31243;&#25509;&#21475;&#35268;&#33539;</a>&#65288;JSR-000160&#65289;
        </p></li><li><p>
        <a href="http://mx4j.sourceforge.net/" target="_top">MX4J &#20027;&#39029;</a>&#65288;&#19968;&#20010;JMX&#35268;&#33539;&#30340;&#24320;&#28304;&#23454;&#29616;&#65289;
        </p></li><li><p><a href="http://java.sun.com/developer/technicalArticles/J2SE/jmx.html" target="_top">Getting Started with JMX</a> - Sun&#30340;&#19968;&#31687;&#20837;&#38376;&#25991;&#31456;.</p></li></ul></div></div></div><div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="jms.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="cci.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Chapter&nbsp;19.&nbsp;JMS (Java Message Service)&nbsp;</td><td width="20%" align="center"><span style="color:white;font-size:90%;"><a href="http://www.springsource.com/" title="SpringSource">Sponsored by SpringSource</a></span></td><td width="40%" align="right" valign="top">&nbsp;Chapter&nbsp;21.&nbsp;JCA CCI</td></tr></table></div></body></html>