<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Chapter&nbsp;17.&nbsp;&#20351;&#29992;Spring&#36827;&#34892;&#36828;&#31243;&#35775;&#38382;&#19982;Web&#26381;&#21153;</title><link rel="stylesheet" href="html.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.60.1"><link rel="home" href="index.html" title="Spring Framework &#24320;&#21457;&#21442;&#32771;&#25163;&#20876;"><link rel="up" href="spring-integration.html" title="Part&nbsp;IV.&nbsp;&#25972;&#21512;"><link rel="previous" href="spring-integration.html" title="Part&nbsp;IV.&nbsp;&#25972;&#21512;"><link rel="next" href="ejb.html" title="Chapter&nbsp;18.&nbsp;Enterprise Java Beans (EJB) &#38598;&#25104;"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div xmlns="http://www.w3.org/TR/xhtml1/transitional" style="background-color:white;border:none;height:73px;border:1px solid black;"><a style="border:none;" href="http://www.springframework.org/" title="The Spring Framework"><img style="border:none;" src="images/xdev-spring_logo.jpg"></a><a style="border:none;" href="http://www.springsource.com/" title="SpringSource"><img style="border:none;position:absolute;padding-top:5px;right:42px;" src="images/springsource-banner-rhs.png"></a></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="remoting"></a>Chapter&nbsp;17.&nbsp;&#20351;&#29992;Spring&#36827;&#34892;&#36828;&#31243;&#35775;&#38382;&#19982;Web&#26381;&#21153;</h2></div></div><div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="remoting-introduction"></a>17.1.&nbsp;&#31616;&#20171;</h2></div></div><div></div></div><p>Spring&#20026;&#21508;&#31181;&#36828;&#31243;&#35775;&#38382;&#25216;&#26415;&#30340;&#38598;&#25104;&#25552;&#20379;&#20102;&#25972;&#21512;&#31867;&#12290;Spring&#20351;&#24471;&#24320;&#21457;&#20855;&#26377;&#36828;&#31243;&#35775;&#38382;&#21151;&#33021;&#30340;&#26381;&#21153;&#21464;&#24471;&#30456;&#24403;&#23481;&#26131;&#65292;&#32780;&#36825;&#20123;&#36828;&#31243;&#35775;&#38382;&#26381;&#21153;&#30001;&#26222;&#36890;Spring POJO&#23454;&#29616;&#12290;&#30446;&#21069;&#65292;Spring&#25903;&#25345;&#22235;&#31181;&#36828;&#31243;&#25216;&#26415;&#65306;</p><div class="itemizedlist"><ul type="disc"><li><p><span class="emphasis"><em>&#36828;&#31243;&#26041;&#27861;&#35843;&#29992;&#65288;RMI&#65289;</em></span>&#12290;&#36890;&#36807;&#20351;&#29992; <tt class="classname">RmiProxyFactoryBean</tt> &#21644; <tt class="classname">RmiServiceExporter</tt>&#65292;Spring&#21516;&#26102;&#25903;&#25345;&#20256;&#32479;&#30340;RMI&#65288;&#20351;&#29992;<tt class="interfacename">java.rmi.Remote</tt>&#25509;&#21475;&#21644;<tt class="exceptionname">java.rmi.RemoteException</tt>&#65289;&#21644;&#36890;&#36807;RMI&#35843;&#29992;&#22120;&#23454;&#29616;&#30340;&#36879;&#26126;&#36828;&#31243;&#35843;&#29992;&#65288;&#25903;&#25345;&#20219;&#20309;Java&#25509;&#21475;&#65289;&#12290;</p></li><li><p>
						<span class="emphasis"><em>Spring&#30340;HTTP&#35843;&#29992;&#22120;</em></span>&#12290;Spring&#25552;&#20379;&#20102;&#19968;&#31181;&#20801;&#35768;&#36890;&#36807;HTTP&#36827;&#34892;Java&#20018;&#34892;&#21270;&#30340;&#29305;&#27530;&#36828;&#31243;&#35843;&#29992;&#31574;&#30053;&#65292;&#23427;&#25903;&#25345;&#20219;&#24847;Java&#25509;&#21475;&#65288;&#23601;&#20687;RMI&#35843;&#29992;&#22120;&#65289;&#12290;&#30456;&#23545;&#24212;&#30340;&#25903;&#25345;&#31867;&#26159; <tt class="classname">HttpInvokerProxyFactoryBean</tt> &#21644; <tt class="classname">HttpInvokerServiceExporter</tt>&#12290;
					</p></li><li><p>
						<span class="emphasis"><em>Hessian</em></span>&#12290;&#36890;&#36807; <tt class="classname">HessianProxyFactoryBean</tt> &#21644; <tt class="classname">HessianServiceExporter</tt>&#65292;&#21487;&#20197;&#20351;&#29992;Caucho&#25552;&#20379;&#30340;&#22522;&#20110;HTTP&#30340;&#36731;&#37327;&#32423;&#20108;&#36827;&#21046;&#21327;&#35758;&#26469;&#36879;&#26126;&#22320;&#26292;&#38706;&#26381;&#21153;&#12290;
					</p></li><li><p>
						<span class="emphasis"><em>Burlap</em></span>&#12290; Burlap&#26159;Caucho&#22522;&#20110;XML&#29992;&#26469;&#26367;&#20195;Hessian&#30340;&#39033;&#30446;&#12290;Spring&#25552;&#20379;&#20102;&#35832;&#22914; <tt class="classname">BurlapProxyFactoryBean</tt> &#21644; <tt class="classname">BurlapServiceExporter</tt> &#30340;&#25903;&#25345;&#31867;&#12290;
					</p></li><li><p>
						<span class="emphasis"><em>JAX RPC</em></span>&#12290;Spring&#36890;&#36807;JAX-RPC&#65288;J2EE 1.4's wweb service API&#65289;&#20026;Web services&#25552;&#20379;&#36828;&#31243;&#26381;&#21153;&#25903;&#25345;&#12290;
					</p></li><li><p><span class="emphasis"><em>JAX-WS</em></span>. Spring&#36890;&#36807;(&#22312;Java EE 5&#21644;Java 6&#20013;&#24341;&#20837;&#30340;JAX-RPC&#32487;&#25215;)&#20026;&#36828;&#31243;Web Services&#25552;&#20379;&#25903;&#25345;&#12290;</p></li><li><p><span class="emphasis"><em>JMS</em></span>. &#36890;&#36807;<tt class="classname">JmsInvokerServiceExporter</tt>&#21644;<tt class="classname">JmsInvokerProxyFactoryBean</tt>&#20351;&#29992;JMS&#20570;&#20026;&#24213;&#23618;&#21327;&#35758;&#25552;&#20379;&#36828;&#31243;&#26381;&#21153;.</p></li></ul></div><p>&#22312;&#35752;&#35770;Spring&#23545;&#36828;&#31243;&#35775;&#38382;&#30340;&#25903;&#25345;&#26102;&#65292;&#25105;&#20204;&#23558;&#20351;&#29992;&#19979;&#38754;&#30340;&#22495;&#27169;&#22411;&#21644;&#23545;&#24212;&#30340;&#26381;&#21153;&#65306;</p><pre class="programlisting">public class Account implements Serializable{

    private String name;

    public String getName();

    public void setName(String name) {
      this.name = name;
    }
}</pre><pre class="programlisting">public interface AccountService {

    public void insertAccount(Account account);

    public List getAccounts(String name);
}</pre><pre class="programlisting">public interface RemoteAccountService extends Remote {

    public void insertAccount(Account account) throws RemoteException;

    public List getAccounts(String name) throws RemoteException;
}</pre><pre class="programlisting"><i class="lineannotation"><span class="lineannotation">// &#35813;&#23454;&#29616;&#30446;&#21069;&#20160;&#20040;&#20107;&#24773;&#20063;&#19981;&#20570;</span></i>
public class AccountServiceImpl implements AccountService {

    public void insertAccount(Account acc) {
        <i class="lineannotation"><span class="lineannotation">//  &#20570;&#19968;&#20123;&#20107;&#24773;&#8230;&#8230;</span></i>
    }
  
    public List getAccounts(String name) {
        <i class="lineannotation"><span class="lineannotation">// &#20570;&#19968;&#20123;&#20107;&#24773;&#8230;&#8230;</span></i>
    }
}</pre><p>&#25105;&#20204;&#23558;&#20174;&#20351;&#29992;RMI&#25226;&#26381;&#21153;&#26292;&#38706;&#32473;&#36828;&#31243;&#23458;&#25143;&#31471;&#24320;&#22987;&#65292;&#21516;&#26102;&#25506;&#35752;RMI&#30340;&#19968;&#20123;&#32570;&#28857;&#12290;&#28982;&#21518;&#25105;&#20204;&#23558;&#28436;&#31034;&#19968;&#20010;&#20351;&#29992;Hessian&#30340;&#20363;&#23376;&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="remoting-rmi"></a>17.2.&nbsp;&#20351;&#29992;RMI&#26292;&#38706;&#26381;&#21153;</h2></div></div><div></div></div><p>&#20351;&#29992;Spring&#30340;RMI&#25903;&#25345;&#65292;&#20320;&#21487;&#20197;&#36890;&#36807;RMI&#22522;&#30784;&#35774;&#26045;&#36879;&#26126;&#30340;&#26292;&#38706;&#20320;&#30340;&#26381;&#21153;&#12290;&#35774;&#32622;&#22909;Spring&#30340;RMI&#25903;&#25345;&#21518;&#65292;&#20320;&#20250;&#30475;&#21040;&#19968;&#20010;&#21644;&#36828;&#31243;EJB&#25509;&#21475;&#31867;&#20284;&#30340;&#37197;&#32622;&#65292;&#21482;&#26159;&#27809;&#26377;&#23545;&#23433;&#20840;&#19978;&#19979;&#25991;&#20256;&#36882;&#21644;&#36828;&#31243;&#20107;&#21153;&#20256;&#36882;&#30340;&#26631;&#20934;&#25903;&#25345;&#12290;&#24403;&#20351;&#29992;RMI&#35843;&#29992;&#22120;&#26102;&#65292;Spring&#23545;&#36825;&#20123;&#39069;&#22806;&#30340;&#35843;&#29992;&#19978;&#19979;&#25991;&#25552;&#20379;&#20102;&#38057;&#23376;&#65292;&#20320;&#21487;&#20197;&#22312;&#27492;&#25554;&#20837;&#23433;&#20840;&#26694;&#26550;&#25110;&#32773;&#23450;&#21046;&#30340;&#23433;&#20840;&#35777;&#20070;&#12290;</p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="remoting-rmi-server"></a>17.2.1.&nbsp;&#20351;&#29992;<tt class="classname">RmiServiceExporter</tt>&#26292;&#38706;&#26381;&#21153;</h3></div></div><div></div></div><p>&#20351;&#29992;<tt class="classname">RmiServiceExporter</tt>&#65292;&#25105;&#20204;&#21487;&#20197;&#25226;AccountService&#23545;&#35937;&#30340;&#25509;&#21475;&#26292;&#38706;&#25104;RMI&#23545;&#35937;&#12290;&#21487;&#20197;&#20351;&#29992; <tt class="classname">RmiProxyFactoryBean</tt> &#25110;&#32773;&#22312;&#20256;&#32479;RMI&#26381;&#21153;&#20013;&#20351;&#29992;&#26222;&#36890;RMI&#26469;&#35775;&#38382;&#35813;&#25509;&#21475;&#12290;<tt class="classname">RmiServiceExporter</tt> &#26174;&#24335;&#22320;&#25903;&#25345;&#20351;&#29992;RMI&#35843;&#29992;&#22120;&#26292;&#38706;&#20219;&#20309;&#38750;RMI&#30340;&#26381;&#21153;&#12290;</p><p>&#24403;&#28982;&#65292;&#25105;&#20204;&#39318;&#20808;&#38656;&#35201;&#22312;Spring&#23481;&#22120;&#20013;&#35774;&#32622;&#25105;&#20204;&#30340;&#26381;&#21153;&#65306;</p><pre class="programlisting">&lt;bean id="accountService" class="example.AccountServiceImpl"&gt;
    <i class="lineannotation"><span class="lineannotation">
	&lt;!--&#20854;&#20182;&#23646;&#24615;&#65292;&#25110;&#32773;&#19968;&#20010;DAO&#23545;&#35937;&#65311;--&gt;
</span></i>
&lt;/bean&gt;</pre><p>&#28982;&#21518;&#25105;&#20204;&#35201;&#20351;&#29992;<tt class="classname">RmiServiceExporter</tt>&#26469;&#26292;&#38706;&#25105;&#20204;&#30340;&#26381;&#21153;&#65306;</p><pre class="programlisting">&lt;bean class="org.springframework.remoting.rmi.RmiServiceExporter"&gt;
    <i class="lineannotation"><span class="lineannotation">&lt;!-- &#19981;&#19968;&#23450;&#35201;&#19982;&#35201;&#36755;&#20986;&#30340;bean&#21516;&#21517;--&gt;</span></i>
    &lt;property name="serviceName" value="AccountService"/&gt;
    &lt;property name="service" ref="accountService"/&gt;
    &lt;property name="serviceInterface" value="example.AccountService"/&gt;
    <i class="lineannotation"><span class="lineannotation">&lt;!--  &#40664;&#35748;&#20026;1199--&gt;</span></i>
    &lt;property name="registryPort" value="1199"/&gt;
&lt;/bean&gt;</pre><p>&#27491;&#22914;&#20320;&#25152;&#35265;&#65292;&#25105;&#20204;&#35206;&#30422;&#20102;RMI&#27880;&#20876;&#30340;&#31471;&#21475;&#21495;&#12290;&#36890;&#24120;&#20320;&#30340;&#24212;&#29992;&#26381;&#21153;&#22120;&#20063;&#20250;&#32500;&#25252;RMI&#27880;&#20876;&#65292;&#26368;&#22909;&#19981;&#35201;&#21644;&#23427;&#20914;&#31361;&#12290;&#26356;&#36827;&#19968;&#27493;&#26469;&#35828;&#65292;&#26381;&#21153;&#21517;&#26159;&#29992;&#26469;&#32465;&#23450;&#26381;&#21153;&#30340;&#12290;&#25152;&#20197;&#26412;&#20363;&#20013;&#65292;&#26381;&#21153;&#32465;&#23450;&#22312; <tt class="literal">rmi://HOST:1199/AccountService</tt>&#12290;&#22312;&#23458;&#25143;&#31471;&#25105;&#20204;&#23558;&#20351;&#29992;&#36825;&#20010;URL&#26469;&#38142;&#25509;&#21040;&#26381;&#21153;&#12290;
			</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="../images/admons/note.png"></td><th align="left">Note</th></tr><tr><td colspan="2" align="left" valign="top"><p><tt class="literal">servicePort</tt> &#23646;&#24615;&#34987;&#30465;&#30053;&#20102;(&#23427;&#30340;&#40664;&#35748;&#20540;&#20026;0).&#36825;&#34920;&#31034;&#22312;&#19982;&#26381;&#21153;&#36890;&#20449;&#26102;&#23558;&#20351;&#29992;&#21311;&#21517;&#31471;&#21475;.</p></td></tr></table></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="remoting-rmi-client"></a>17.2.2.&nbsp;&#22312;&#23458;&#25143;&#31471;&#38142;&#25509;&#26381;&#21153;</h3></div></div><div></div></div><p>&#25105;&#20204;&#30340;&#23458;&#25143;&#31471;&#26159;&#19968;&#20010;&#20351;&#29992;<tt class="interfacename">AccountService</tt>&#26469;&#31649;&#29702;account&#30340;&#31616;&#21333;&#23545;&#35937;&#65306;</p><pre class="programlisting">public class SimpleObject {

    private AccountService accountService;

    public void setAccountService(AccountService accountService) {
        this.accountService = accountService;
    }
}</pre><p>&#20026;&#20102;&#25226;&#26381;&#21153;&#36830;&#25509;&#21040;&#23458;&#25143;&#31471;&#19978;&#65292;&#25105;&#20204;&#23558;&#21019;&#24314;&#19968;&#20010;&#21333;&#29420;&#30340;Spring&#23481;&#22120;&#65292;&#21253;&#21547;&#36825;&#20010;&#31616;&#21333;&#23545;&#35937;&#21644;&#38142;&#25509;&#37197;&#32622;&#20301;&#30340;&#26381;&#21153;&#65306;</p><pre class="programlisting">&lt;bean class="example.SimpleObject"&gt;
    &lt;property name="accountService" ref="accountService"/&gt;
&lt;/bean&gt;

&lt;bean id="accountService" class="org.springframework.remoting.rmi.RmiProxyFactoryBean"&gt;
    &lt;property name="serviceUrl" value="rmi://HOST:1199/AccountService"/&gt;
    &lt;property name="serviceInterface" value="example.AccountService"/&gt;
&lt;/bean&gt;</pre><p>&#36825;&#23601;&#26159;&#25105;&#20204;&#22312;&#23458;&#25143;&#31471;&#20026;&#25903;&#25345;&#36828;&#31243;account&#26381;&#21153;&#25152;&#38656;&#35201;&#20570;&#30340;&#12290;Spring&#23558;&#36879;&#26126;&#30340;&#21019;&#24314;&#19968;&#20010;&#35843;&#29992;&#22120;&#24182;&#19988;&#36890;&#36807;<tt class="classname">RmiServiceExporter</tt>&#20351;&#24471;account&#26381;&#21153;&#25903;&#25345;&#36828;&#31243;&#26381;&#21153;&#12290;&#22312;&#23458;&#25143;&#31471;&#65292;&#25105;&#20204;&#29992;<tt class="classname">RmiProxyFactoryBean</tt>&#36830;&#25509;&#23427;&#12290;</p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="remoting-caucho-protocols"></a>17.3.&nbsp;&#20351;&#29992;Hessian&#25110;&#32773;Burlap&#36890;&#36807;HTTP&#36828;&#31243;&#35843;&#29992;&#26381;&#21153;</h2></div></div><div></div></div><p>Hessian&#25552;&#20379;&#19968;&#31181;&#22522;&#20110;HTTP&#30340;&#20108;&#36827;&#21046;&#36828;&#31243;&#21327;&#35758;&#12290;&#23427;&#26159;&#30001;Caucho&#24320;&#21457;&#30340;&#65292;&#21487;&#20197;&#22312; <a href="http://www.caucho.com" target="_top">http://www.caucho.com</a> &#25214;&#21040;&#26356;&#22810;&#26377;&#20851;Hessian&#30340;&#20449;&#24687;&#12290;</p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="remoting-caucho-protocols-hessian"></a>17.3.1.&nbsp;&#20026;Hessian&#21644;co.&#37197;&#32622;<tt class="classname">DispatcherServlet</tt></h3></div></div><div></div></div><p>Hessian&#20351;&#29992;&#19968;&#20010;&#29305;&#23450;&#30340;Servlet&#36890;&#36807;HTTP&#36827;&#34892;&#36890;&#35759;&#12290;&#20351;&#29992;Spring&#22312;Web MVC&#20013;&#23601;&#24120;&#29992;&#30340; <tt class="classname">DispatcherServlet</tt>&#21407;&#29702;&#65292;&#21487;&#20197;&#24456;&#23481;&#26131;&#30340;&#37197;&#32622;&#36825;&#26679;&#19968;&#20010;Servlet&#26469;&#26292;&#38706;&#20320;&#30340;&#26381;&#21153;&#12290;&#39318;&#20808;&#25105;&#20204;&#35201;&#22312;&#20320;&#30340;&#24212;&#29992;&#37324;&#21019;&#24314;&#19968;&#20010;&#26032;&#30340;Servlet&#65288;&#19979;&#38754;&#26469;&#33258;<tt class="literal">web.xml</tt>&#25991;&#20214;&#65289;&#65306;</p><pre class="programlisting">&lt;servlet&gt;
    &lt;servlet-name&gt;remoting&lt;/servlet-name&gt;
    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;
    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
&lt;/servlet&gt;

&lt;servlet-mapping&gt;
    &lt;servlet-name&gt;remoting&lt;/servlet-name&gt;
    &lt;url-pattern&gt;/remoting/*&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;</pre><p>&#20320;&#21487;&#33021;&#23545;Spring&#30340;<tt class="classname">DispatcherServlet</tt>&#24456;&#29087;&#24713;&#65292;&#36825;&#26679;&#20320;&#23558;&#38656;&#35201;&#22312;<tt class="filename">'WEB-INF'</tt>&#30446;&#24405;&#20013;&#21019;&#24314;&#19968;&#20010;&#21517;&#20026;<tt class="filename">'remoting-servlet.xml'</tt> (&#22312;&#20320;&#30340;servlet&#21517;&#31216;&#21518;) &#30340;Spring&#23481;&#22120;&#37197;&#32622;&#19978;&#19979;&#25991;&#12290;&#36825;&#20010;&#24212;&#29992;&#19978;&#19979;&#25991;&#23558;&#22312;&#19979;&#19968;&#33410;&#20013;&#37324;&#20351;&#29992;&#12290;</p><p>&#21478;&#22806;&#65292;&#21487;&#20197;&#32771;&#34385;&#20351;&#29992;Spring&#20013;&#31616;&#21333;&#30340;<tt class="classname">HttpRequestHandlerServlet</tt>&#12290;&#36825;&#20801;&#35768;&#20320;&#22312;&#26681;&#24212;&#29992;&#19978;&#19979;&#25991;&#65288;&#40664;&#35748;&#26159;<tt class="filename">'WEB-INF/applicationContext.xml'</tt>&#65289;&#20013;&#25554;&#20837;&#36828;&#31243;exporter&#23450;&#20041;&#12290;&#27599;&#20010;servlet&#23450;&#20041;&#25351;&#21521;&#29305;&#23450;&#30340;exporter bean&#12290;&#22312;&#36825;&#31181;&#24773;&#20917;&#19979;&#65292;&#27599;&#20010;servlet&#30340;&#21517;&#31216;&#38656;&#35201;&#21644;&#30446;&#26631;exporter bean&#30340;&#21517;&#31216;&#30456;&#21305;&#37197;&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="remoting-caucho-protocols-hessian-server"></a>17.3.2.&nbsp;&#20351;&#29992;<tt class="classname">HessianServiceExporter</tt>&#26292;&#38706;&#20320;&#30340;bean</h3></div></div><div></div></div><p>&#22312;&#26032;&#21019;&#24314;&#30340; <tt class="literal">remoting-servlet.xml</tt> &#24212;&#29992;&#19978;&#19979;&#25991;&#37324;&#65292;&#25105;&#20204;&#23558;&#21019;&#24314;&#19968;&#20010;<tt class="classname">HessianServiceExporter</tt>&#26469;&#26292;&#38706;&#20320;&#30340;&#26381;&#21153;&#65306;</p><pre class="programlisting">&lt;bean id="accountService" class="example.AccountServiceImpl"&gt;
    <i class="lineannotation"><span class="lineannotation">&lt;!-- any additional properties, maybe a DAO? --&gt;</span></i>
&lt;/bean&gt;

&lt;bean name="/AccountService" class="org.springframework.remoting.caucho.HessianServiceExporter"&gt;
    &lt;property name="service" ref="accountService"/&gt;
    &lt;property name="serviceInterface" value="example.AccountService"/&gt;
&lt;/bean&gt;</pre><p>&#29616;&#22312;&#65292;&#25105;&#20204;&#20934;&#22791;&#22909;&#22312;&#23458;&#25143;&#31471;&#36830;&#25509;&#26381;&#21153;&#20102;&#12290;&#19981;&#24517;&#26174;&#31034;&#25351;&#23450;&#22788;&#29702;&#22120;&#30340;&#26144;&#23556;&#65292;&#21482;&#35201;&#20351;&#29992;<tt class="classname">BeanNameUrlHandlerMapping</tt>&#25226;URL&#35831;&#27714;&#26144;&#23556;&#21040;&#26381;&#21153;&#19978;&#65306;&#25152;&#20197;&#65292;&#36825;&#20010;&#26381;&#21153;&#23558;&#22312;&#30001;bean&#21517;&#31216;&#25351;&#26126;&#30340;URL <tt class="literal">http://HOST:8080/remoting/AccountService</tt> &#20301;&#32622;&#36827;&#34892;&#26292;&#38706;&#12290;</p><p>&#21478;&#22806;&#19968;&#31181;&#36873;&#25321;, &#22312;&#20320;&#30340;&#26681;&#24212;&#29992;&#19978;&#19979;&#25991;&#20013;&#21019;&#24314;&#19968;&#20010; <tt class="classname">HessianServiceExporter</tt> (&#27604;&#22914;&#22312;<tt class="filename">'WEB-INF/applicationContext.xml'</tt>&#20013;):</p><pre class="programlisting">&lt;bean name="accountExporter" class="org.springframework.remoting.caucho.HessianServiceExporter"&gt;
    &lt;property name="service" ref="accountService"/&gt;
    &lt;property name="serviceInterface" value="example.AccountService"/&gt;
&lt;/bean&gt;</pre><p>&#22312;&#21518;&#19968;&#24773;&#20917;&#19979;, &#22312;<tt class="filename">'web.xml'</tt>&#20013;&#20026;exporter&#23450;&#20041;&#19968;&#20010;&#30456;&#24212;&#30340;servlet&#65292;&#20063;&#33021;&#24471;&#21040;&#21516;&#26679;&#30340;&#32467;&#26524;&#65306;&#36825;&#20010;exporter&#26144;&#23556;&#21040;request&#36335;&#24452;<tt class="literal">/remoting/AccountService</tt>&#12290;&#27880;&#24847;&#36825;&#20010;servlet&#21517;&#31216;&#38656;&#35201;&#19982;&#30446;&#26631;exporter bean&#30340;&#21517;&#31216;&#30456;&#21305;&#37197;&#12290;</p><pre class="programlisting">&lt;servlet&gt;
    &lt;servlet-name&gt;accountExporter&lt;/servlet-name&gt;
    &lt;servlet-class&gt;org.springframework.web.context.support.HttpRequestHandlerServlet&lt;/servlet-class&gt;
&lt;/servlet&gt;

&lt;servlet-mapping&gt;
    &lt;servlet-name&gt;accountExporter&lt;/servlet-name&gt;
    &lt;url-pattern&gt;/remoting/AccountService&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="remoting-caucho-protocols-hessian-client"></a>17.3.3.&nbsp;&#22312;&#23458;&#25143;&#31471;&#36830;&#25509;&#26381;&#21153;</h3></div></div><div></div></div><p>&#20351;&#29992;<tt class="classname">HessianProxyFactoryBean</tt>&#65292;&#25105;&#20204;&#21487;&#20197;&#22312;&#23458;&#25143;&#31471;&#36830;&#25509;&#26381;&#21153;&#12290;&#21516;&#26679;&#30340;&#26041;&#24335;&#23545;RMI&#31034;&#20363;&#20063;&#36866;&#29992;&#12290;&#25105;&#20204;&#23558;&#21019;&#24314;&#19968;&#20010;&#21333;&#29420;&#30340;bean&#24037;&#21378;&#25110;&#32773;&#24212;&#29992;&#19978;&#19979;&#25991;&#65292;&#32780;&#21518;&#31616;&#21333;&#22320;&#25351;&#26126;&#19979;&#38754;&#30340;bean <tt class="classname">SimpleObject</tt>&#23558;&#20351;&#29992;<tt class="interfacename">AccountService</tt>&#26469;&#31649;&#29702;accounts&#65306;</p><pre class="programlisting">&lt;bean class="example.SimpleObject"&gt;
    &lt;property name="accountService" ref="accountService"/&gt;
&lt;/bean&gt;

&lt;bean id="accountService" class="org.springframework.remoting.caucho.HessianProxyFactoryBean"&gt;
    &lt;property name="serviceUrl" value="http://remotehost:8080/remoting/AccountService"/&gt;
    &lt;property name="serviceInterface" value="example.AccountService"/&gt;
&lt;/bean&gt;</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="remoting-caucho-protocols-burlap"></a>17.3.4.&nbsp;&#20351;&#29992;Burlap</h3></div></div><div></div></div><p>&#25105;&#20204;&#23558;&#19981;&#20250;&#35814;&#32454;&#35752;&#35770;Burlap&#65292;&#23427;&#26159;&#19968;&#20010;&#22522;&#20110;XML&#30340;Hessian&#26367;&#20195;&#26041;&#26696;&#12290;&#23427;&#30340;&#37197;&#32622;&#21644;&#26500;&#24314;&#26041;&#27861;&#21644;&#19978;&#36848;Hessian&#30340;&#19968;&#26679;&#12290;&#21482;&#35201;&#25226; <tt class="literal">Hessian</tt> &#25442;&#25104; <tt class="literal">Burlap</tt> &#23601;&#34892;&#20102;&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="remoting-caucho-protocols-security"></a>17.3.5.&nbsp;&#23545;&#36890;&#36807;Hessian&#25110;Burlap&#26292;&#38706;&#30340;&#26381;&#21153;&#20351;&#29992;HTTP Basic&#35748;&#35777;</h3></div></div><div></div></div><p>Hessian&#21644;Burlap&#30340;&#19968;&#20010;&#20248;&#21183;&#26159;&#25105;&#20204;&#21487;&#20197;&#23481;&#26131;&#30340;&#20351;&#29992;HTTP Basic&#35748;&#35777;&#65292;&#22240;&#20026;&#20108;&#32773;&#37117;&#26159;&#22522;&#20110;HTTP&#30340;&#12290;&#20363;&#22914;&#65292;&#26222;&#36890;HTTP Server&#23433;&#20840;&#26426;&#21046;&#21487;&#20197;&#36890;&#36807;&#20351;&#29992; <tt class="literal">web.xml</tt> &#23433;&#20840;&#29305;&#24615;&#26469;&#24212;&#29992;&#12290;&#36890;&#24120;&#65292;&#20320;&#19981;&#20250;&#20026;&#27599;&#20010;&#29992;&#25143;&#37117;&#24314;&#31435;&#19981;&#21516;&#30340;&#23433;&#20840;&#35777;&#20070;&#65292;&#32780;&#26159;&#22312;<tt class="literal">Hessian/BurlapProxyFactoryBean</tt>&#32423;&#21035;&#20849;&#20139;&#23433;&#20840;&#35777;&#20070;&#65288;&#31867;&#20284;&#19968;&#20010;JDBC <tt class="interfacename">DataSource</tt>&#65289;&#12290;</p><pre class="programlisting">&lt;bean class="org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping"&gt;
    &lt;property name="interceptors" ref="authorizationInterceptor"/&gt;
&lt;/bean&gt;

&lt;bean id="authorizationInterceptor" 
      class="org.springframework.web.servlet.handler.UserRoleAuthorizationInterceptor"&gt;
    &lt;property name="authorizedRoles" value="administrator,operator"/&gt;
&lt;/bean&gt;</pre><p>&#36825;&#20010;&#20363;&#23376;&#37324;&#25105;&#20204;&#26174;&#24335;&#20351;&#29992;&#20102;<tt class="classname">BeanNameUrlHandlerMapping</tt>&#65292;&#24182;&#35774;&#32622;&#20102;&#19968;&#20010;&#25318;&#25130;&#22120;&#65292;&#21482;&#20801;&#35768;&#31649;&#29702;&#21592;&#21644;&#25805;&#20316;&#21592;&#35843;&#29992;&#36825;&#20010;&#24212;&#29992;&#19978;&#19979;&#25991;&#20013;&#25552;&#21450;&#30340;bean&#12290;</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="../images/admons/note.png"></td><th align="left">Note</th></tr><tr><td colspan="2" align="left" valign="top"><p>&#24403;&#28982;&#65292;&#36825;&#20010;&#20363;&#23376;&#27809;&#26377;&#28436;&#31034;&#28789;&#27963;&#30340;&#23433;&#20840;&#35774;&#26045;&#12290;&#32771;&#34385;&#26356;&#22810;&#26377;&#20851;&#23433;&#20840;&#30340;&#38382;&#39064;&#26102;&#65292;&#35831;&#21442;&#38405; <a href="http://acegisecurity.sourceforge.net" target="_top">http://acegisecurity.sourceforge.net</a> Acegi Security System for Spring</p> &#12290;
      </td></tr></table></div></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="remoting-httpinvoker"></a>17.4.&nbsp;&#20351;&#29992;HTTP&#35843;&#29992;&#22120;&#26292;&#38706;&#26381;&#21153;</h2></div></div><div></div></div><p>&#19982;&#20351;&#29992;&#33258;&#36523;&#24207;&#21015;&#21270;&#26426;&#21046;&#30340;&#36731;&#37327;&#32423;&#21327;&#35758;Burlap&#21644;Hessian&#30456;&#21453;&#65292;Spring HTTP&#35843;&#29992;&#22120;&#20351;&#29992;&#26631;&#20934;Java&#24207;&#21015;&#21270;&#26426;&#21046;&#26469;&#36890;&#36807;HTTP&#26292;&#38706;&#19994;&#21153;&#12290;&#22914;&#26524;&#20320;&#30340;&#21442;&#25968;&#25110;&#36820;&#22238;&#20540;&#26159;&#22797;&#26434;&#31867;&#22411;&#65292;&#24182;&#19988;&#19981;&#33021;&#36890;&#36807;Hessian&#21644;Burlap&#30340;&#24207;&#21015;&#21270;&#26426;&#21046;&#36827;&#34892;&#24207;&#21015;&#21270;&#65292;HTTP&#35843;&#29992;&#22120;&#23601;&#24456;&#26377;&#20248;&#21183;&#65288;&#21442;&#38405;&#19979;&#19968;&#33410;&#65292;&#36873;&#25321;&#36828;&#31243;&#25216;&#26415;&#26102;&#30340;&#32771;&#34385;&#65289;&#12290;</p><p>&#23454;&#38469;&#19978;&#65292;Spring&#21487;&#20197;&#20351;&#29992;J2SE&#25552;&#20379;&#30340;&#26631;&#20934;&#21151;&#33021;&#25110;Commons&#30340;HttpClient&#26469;&#23454;&#29616;HTTP&#35843;&#29992;&#12290;&#22914;&#26524;&#20320;&#38656;&#35201;&#26356;&#20808;&#36827;&#65292;&#26356;&#23481;&#26131;&#20351;&#29992;&#30340;&#21151;&#33021;&#65292;&#23601;&#20351;&#29992;&#21518;&#32773;&#12290;&#20320;&#21487;&#20197;&#21442;&#32771; <a href="http://jakarta.apache.org/commons/httpclient" target="_top">jakarta.apache.org/commons/httpclient</a>&#12290;</p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="remoting-httpinvoker-server"></a>17.4.1.&nbsp;Exposing the service object</h3></div><div><h3 class="title"><a name="remoting-httpinvoker-server"></a>17.4.1.&nbsp;Exposing the service object</h3></div></div><div></div></div><p>&#20026;&#26381;&#21153;&#23545;&#35937;&#35774;&#32622;HTTP&#35843;&#29992;&#22120;&#21644;&#20320;&#22312;Hessian&#25110;Burlap&#20013;&#20351;&#29992;&#30340;&#26041;&#24335;&#31867;&#20284;&#12290;&#23601;&#35937;&#20026;Hessian&#25903;&#25345;&#25552;&#20379;&#30340; <tt class="classname">HessianServiceExporter</tt>&#65292;Spring&#30340;HTTP&#35843;&#29992;&#22120;&#25552;&#20379;&#20102; <tt class="classname">org.springframework.remoting.httpinvoker.HttpInvokerServiceExporter</tt>&#12290;
      </p><p>&#20026;&#20102;&#22312;Spring Web MVC <tt class="classname">DispatcherServlet</tt>&#20013;&#26292;&#38706;<tt class="literal">AccountService</tt> (&#22914;&#19978;&#25152;&#36848;)&#65292; &#38656;&#35201;&#22312;dispatcher&#30340;&#24212;&#29992;&#19978;&#19979;&#25991;&#20013;&#20351;&#29992;&#20197;&#19979;&#37197;&#32622;&#65306;</p><pre class="programlisting">&lt;bean name="/AccountService" class="org.springframework.remoting.httpinvoker.HttpInvokerServiceExporter"&gt;
    &lt;property name="service" ref="accountService"/&gt;
    &lt;property name="serviceInterface" value="example.AccountService"/&gt;
&lt;/bean&gt;
</pre><p>&#21644;&#22312;Hessian&#31456;&#33410;&#35762;&#30340;&#19968;&#26679;&#65292;&#36825;&#20010;exporter&#23450;&#20041;&#23558;&#36890;&#36807; <tt class="classname">DispatcherServlet</tt>&#26631;&#20934;&#30340;&#26144;&#23556;&#24037;&#20855;&#26292;&#38706;&#20986;&#26469;&#12290;</p><p>&#20570;&#20026;&#21487;&#36873;&#39033;, &#22312;&#20320;&#30340;&#26681;&#24212;&#29992;&#19978;&#19979;&#25991;&#20013;(&#27604;&#22914;<tt class="filename">'WEB-INF/applicationContext.xml'</tt>)&#21019;&#24314;&#19968;&#20010;<tt class="classname">HttpInvokerServiceExporter</tt> :</p><pre class="programlisting">&lt;bean name="accountExporter" class="org.springframework.remoting.httpinvoker.HttpInvokerServiceExporter"&gt;
    &lt;property name="service" ref="accountService"/&gt;
    &lt;property name="serviceInterface" value="example.AccountService"/&gt;
&lt;/bean&gt;</pre><p>&#21478;&#22806;,&#22312;<tt class="filename">'web.xml'</tt>&#20013;&#20026;&#36825;&#20010;exporter&#23450;&#20041;&#19968;&#20010;&#30456;&#24212;&#30340;servlet&#65292;&#20854;&#21517;&#31216;&#19982;&#30446;&#26631;exporter bean&#30340;&#21517;&#31216;&#30456;&#21305;&#37197;:</p><pre class="programlisting">&lt;servlet&gt;
    &lt;servlet-name&gt;accountExporter&lt;/servlet-name&gt;
    &lt;servlet-class&gt;org.springframework.web.context.support.HttpRequestHandlerServlet&lt;/servlet-class&gt;
&lt;/servlet&gt;

&lt;servlet-mapping&gt;
    &lt;servlet-name&gt;accountExporter&lt;/servlet-name&gt;
    &lt;url-pattern&gt;/remoting/AccountService&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="remoting-httpinvoker-client"></a>17.4.2.&nbsp;&#22312;&#23458;&#25143;&#31471;&#36830;&#25509;&#26381;&#21153;</h3></div></div><div></div></div><p>
				&#21516;&#26679;&#65292;&#20174;&#23458;&#25143;&#31471;&#36830;&#25509;&#19994;&#21153;&#19982;&#20320;&#20351;&#29992;Hessian&#25110;Burlap&#26102;&#25152;&#20570;&#30340;&#24456;&#30456;&#20284;&#12290;&#20351;&#29992;&#20195;&#29702;&#65292;Spring&#21487;&#20197;&#23558;&#20320;&#35843;&#29992;&#30340;HTTP POST&#35831;&#27714;&#36716;&#25442;&#25104;&#34987;&#26292;&#38706;&#26381;&#21153;&#30340;URL&#12290;
		 </p><pre class="programlisting">&lt;bean id="httpInvokerProxy" class="org.springframework.remoting.httpinvoker.HttpInvokerProxyFactoryBean"&gt;
    &lt;property name="serviceUrl" value="http://remotehost:8080/remoting/AccountService"/&gt;
    &lt;property name="serviceInterface" value="example.AccountService"/&gt;
&lt;/bean&gt;
</pre><p>&#23601;&#35937;&#19978;&#38754;&#35828;&#30340;&#19968;&#26679;&#65292;&#20320;&#21487;&#20197;&#36873;&#25321;&#20351;&#29992;&#20320;&#24819;&#20351;&#29992;&#30340;HTTP&#23458;&#25143;&#31471;&#12290;&#32570;&#30465;&#24773;&#20917;&#19979;&#65292;<tt class="classname">HttpInvokerProxy</tt>&#20351;&#29992;J2SE&#30340;HTTP&#21151;&#33021;&#65292;&#20294;&#26159;&#20320;&#20063;&#21487;&#20197;&#36890;&#36807;&#35774;&#32622;<tt class="literal">httpInvokerRequestExecutor</tt>&#23646;&#24615;&#36873;&#25321;&#20351;&#29992;Commons <tt class="classname">HttpClient</tt>&#65306;</p><pre class="programlisting">&lt;property name="httpInvokerRequestExecutor"&gt;
    &lt;bean class="org.springframework.remoting.httpinvoker.CommonsHttpInvokerRequestExecutor"/&gt;
&lt;/property&gt;
</pre></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="remoting-web-services"></a>17.5.&nbsp;Web Services</h2></div></div><div></div></div><p>Spring&#20026;&#26631;&#20934;Java web&#26381;&#21153;API&#25552;&#20379;&#20102;&#20840;&#38754;&#30340;&#25903;&#25345;:</p><div class="itemizedlist"><ul type="disc"><li><p>&#20351;&#29992;JAX-RPC&#26292;&#38706;web&#26381;&#21153;</p></li><li><p>&#20351;&#29992;JAX-RPC&#35775;&#38382;web&#26381;&#21153;</p></li><li><p>&#20351;&#29992;JAX-WS&#26292;&#38706;web&#26381;&#21153;</p></li><li><p>&#20351;&#29992;JAX-WS&#35775;&#38382;web&#26381;&#21153;</p></li></ul></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="../images/admons/note.png"></td><th align="left">Note</th></tr><tr><td colspan="2" align="left" valign="top"><p>&#20026;&#20160;&#20040;&#26377;2&#20010;&#26631;&#20934;&#30340;Java web&#26381;&#21153;APIs?</p><p>JAX-RPC 1.1 &#22312;J2EE 1.4 &#20013;&#26159;&#26631;&#20934;&#30340;web&#26381;&#21153;API&#12290;&#27491;&#20687;&#20854;&#21517;&#31216;&#25152;&#31034;&#65292;&#23427;&#20851;&#27880;&#20110;RPC&#32465;&#23450;&#32780;&#19988;&#22312;&#26368;&#36817;&#20960;&#24180;&#36234;&#26469;&#36234;&#19981;&#27969;&#34892;&#12290;&#26368;&#32456;&#34987;Java EE 5&#20013;&#30340;JAX-WS 2.0&#25152;&#21462;&#20195;&#65292;JAX-WS 2.0&#19981;&#20294;&#22312;&#32465;&#23450;&#26041;&#38754;&#26356;&#28789;&#27963;&#65292;&#32780;&#19988;&#20063;&#26159;&#23436;&#20840;&#22522;&#20110;annotation&#30340;&#12290;JAX-WS 2.1&#20063;&#34987;&#21253;&#21547;&#22312;Java 6&#20013;(&#26356;&#35814;&#32454;&#30340;&#35828;&#26159;&#22312;Sun JDK 1.6.0_04&#21644;&#26356;&#39640;&#29256;&#26412;&#20013;&#65292;&#20302;&#29256;&#26412;&#30340;Sun JDK 1.6.0&#21253;&#21547;JAX-WS 2.0)&#65292;&#23427;&#19982;JDK&#20869;&#32622;&#30340;HTTP&#26381;&#21153;&#22120;&#38598;&#25104;&#12290;</p><p>Spring &#21516;&#26102;&#25903;&#25345;&#20004;&#20010;&#26631;&#20934;Java web&#26381;&#21153;API&#12290;&#36873;&#25321;&#35841;&#20027;&#35201;&#30475;&#36816;&#34892;&#24179;&#21488;&#65306;&#22312;JDK 1.4 / J2EE 1.4&#19978;&#65292;&#21807;&#19968;&#30340;&#36873;&#25321;&#26159;JAX-RPC&#12290;&#22312;Java EE 5 / Java 6&#19978;&#26174;&#28982;&#24212;&#35813;&#36873;JAX-WS&#12290;&#36816;&#34892;Java 5&#30340;J2EE 1.4&#29615;&#22659;&#19978;&#65292;&#20320;&#21487;&#20197;&#36873;&#25321;&#25554;&#20837;&#19968;&#20010;JAX-WS provider&#65307;&#35831;&#26597;&#30475;&#20320;&#30340;J2EE&#26381;&#21153;&#22120;&#25991;&#26723;&#12290;</p></td></tr></table></div><p>&#38500;&#20102;&#22312;Spring Core&#20013;&#25903;&#25345;JAX-RPC and JAX-WS&#65292;Spring portfolio&#20063;&#25552;&#20379;&#20102;&#19968;&#31181;&#29305;&#24615;<a href="http://www.springframework.org/spring-ws" target="_top">Spring Web Services</a>&#65292;&#19968;&#20010;&#20026;&#20248;&#20808;&#25480;&#26435;&#21644;&#25991;&#26723;&#39537;&#21160;&#30340;web&#26381;&#21153;&#25152;&#25552;&#20379;&#30340;&#26041;&#26696; - &#38750;&#24120;&#24314;&#35758;&#29992;&#26469;&#21019;&#24314;&#39640;&#32423;&#24182;&#20855;&#26377;&#21069;&#30651;&#24615;&#30340;web&#26381;&#21153;&#12290;<a href="http://xfire.codehaus.org" target="_top">XFire</a>&#26159;&#26368;&#21518;&#20294;&#19981;&#26159;&#21807;&#19968;&#30340;Spring&#20869;&#32622;&#25903;&#25345;&#21487;&#20197;&#35753;&#20320;&#23558;Spring&#31649;&#29702;&#30340;bean&#26292;&#38706;&#20026;web&#26381;&#21153;&#30340;&#26041;&#24335;&#12290;</p><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="remoting-web-services-jaxrpc-export"></a>17.5.1.&nbsp;&#20351;&#29992;JAX-RPC&#26292;&#38706;&#22522;&#20110;servlet&#30340;web&#26381;&#21153;</h3></div></div><div></div></div><p>Spring&#20026;JAX-RPC servlet&#30340;&#31471;&#28857;&#23454;&#29616;&#25552;&#20379;&#20102;&#19968;&#20010;&#26041;&#20415;&#30340;&#22522;&#31867; - <tt class="classname">ServletEndpointSupport</tt>. &#26410;&#26469;&#26292;&#38706;&#25105;&#20204;&#30340; <tt class="interfacename">AccountService</tt>&#25105;&#20204;&#25193;&#23637;Spring&#30340;<tt class="classname">ServletEndpointSupport</tt>&#31867;&#24182;&#22312;&#36825;&#37324;&#23454;&#29616;&#20102;&#25105;&#20204;&#30340;&#19994;&#21153;&#36923;&#36753;&#65292;&#36890;&#24120;&#23558;&#35843;&#29992;&#20132;&#32473;&#19994;&#21153;&#23618;&#12290;</p><pre class="programlisting"><i class="lineannotation"><span class="lineannotation">/**
 * JAX-RPC compliant RemoteAccountService implementation that simply delegates
 * to the AccountService implementation in the root web application context.
 *
 * This wrapper class is necessary because JAX-RPC requires working with dedicated
 * endpoint classes. If an existing service needs to be exported, a wrapper that
 * extends ServletEndpointSupport for simple application context access is
 * the simplest JAX-RPC compliant way.
 *
 * This is the class registered with the server-side JAX-RPC implementation.
 * In the case of Axis, this happens in "server-config.wsdd" respectively via
 * deployment calls. The web service engine manages the lifecycle of instances
 * of this class: A Spring application context can just be accessed here.
 */</span></i>import org.springframework.remoting.jaxrpc.ServletEndpointSupport;

public class AccountServiceEndpoint extends ServletEndpointSupport implements RemoteAccountService {
    
    private AccountService biz;
	
    protected void onInit() {
        this.biz = (AccountService) getWebApplicationContext().getBean("accountService");
    }

    public void insertAccount(Account acc) throws RemoteException {
        biz.insertAccount(acc);
    }
  
    public Account[] getAccounts(String name) throws RemoteException {
        return biz.getAccounts(name);
    }
}</pre><p>AccountServletEndpoint&#38656;&#35201;&#22312;Spring&#20013;&#21516;&#19968;&#20010;&#19978;&#19979;&#25991;&#30340;web&#24212;&#29992;&#37324;&#36816;&#34892;&#65292;&#20197;&#33719;&#24471;&#23545;Spring&#30340;&#35775;&#38382;&#33021;&#21147;&#12290;&#22914;&#26524;&#20351;&#29992;Axis&#65292;&#25226;<tt class="classname">AxisServlet</tt>&#23450;&#20041;&#22797;&#21046;&#21040;&#20320;&#30340;<tt class="filename">'web.xml'</tt>&#20013;&#65292;&#24182;&#19988;&#22312;<tt class="filename">'server-config.wsdd'</tt>&#20013;&#35774;&#32622;&#31471;&#28857;&#65288;&#25110;&#20351;&#29992;&#21457;&#24067;&#24037;&#20855;&#65289;&#12290;&#21442;&#30475;JPetStore&#36825;&#20010;&#20363;&#23376;&#20013;<tt class="interfacename">OrderService</tt>&#26159;&#22914;&#20309;&#29992;Axis&#21457;&#24067;&#25104;&#19968;&#20010;Web&#26381;&#21153;&#30340;&#12290;
			</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="remoting-web-services-jaxrpc-access"></a>17.5.2.&nbsp;&#20351;&#29992;JAX-RPC&#35775;&#38382;web&#26381;&#21153;</h3></div></div><div></div></div><p>Spring&#25552;&#20379;&#20102;&#20004;&#20010;&#24037;&#21378;bean&#29992;&#26469;&#21019;&#24314;Web&#26381;&#21153;&#20195;&#29702;&#65292;<tt class="classname">LocalJaxRpcServiceFactoryBean</tt> &#21644; <tt class="classname">JaxRpcPortProxyFactoryBean</tt>&#12290;&#21069;&#32773;&#21482;&#36820;&#22238;&#19968;&#20010;JAX-RPC&#26381;&#21153;&#31867;&#20379;&#25105;&#20204;&#20351;&#29992;&#12290;&#21518;&#32773;&#26159;&#19968;&#20010;&#20840;&#21151;&#33021;&#30340;&#29256;&#26412;&#65292;&#21487;&#20197;&#36820;&#22238;&#19968;&#20010;&#23454;&#29616;&#25105;&#20204;&#19994;&#21153;&#26381;&#21153;&#25509;&#21475;&#30340;&#20195;&#29702;&#12290;&#26412;&#20363;&#20013;&#65292;&#25105;&#20204;&#20351;&#29992;&#21518;&#32773;&#26469;&#20026;&#21069;&#38754;&#27573;&#33853;&#20013;&#26292;&#38706;&#30340;<tt class="interfacename">AccountService</tt>&#31471;&#28857;&#21019;&#24314;&#19968;&#20010;&#20195;&#29702;&#12290;&#20320;&#23558;&#30475;&#21040;Spring&#23545;Web&#26381;&#21153;&#25552;&#20379;&#20102;&#26497;&#22909;&#30340;&#25903;&#25345;&#65292;&#21482;&#38656;&#35201;&#24456;&#23569;&#30340;&#20195;&#30721; - &#22823;&#22810;&#25968;&#37117;&#26159;&#36890;&#36807;&#31867;&#20284;&#19979;&#38754;&#30340;Spring&#37197;&#32622;&#25991;&#20214;&#65306;
			</p><pre class="programlisting">&lt;bean id="accountWebService" class="org.springframework.remoting.jaxrpc.JaxRpcPortProxyFactoryBean"&gt;
    &lt;property name="serviceInterface" value="example.RemoteAccountService"/&gt;
    &lt;property name="wsdlDocumentUrl" value="http://localhost:8080/account/services/accountService?WSDL"/&gt;
    &lt;property name="namespaceUri" value="http://localhost:8080/account/services/accountService"/&gt;
    &lt;property name="serviceName" value="AccountService"/&gt;
    &lt;property name="portName" value="AccountPort"/&gt;
&lt;/bean&gt;</pre><p><tt class="literal">serviceInterface</tt>&#26159;&#25105;&#20204;&#23458;&#25143;&#31471;&#23558;&#20351;&#29992;&#30340;&#36828;&#31243;&#19994;&#21153;&#25509;&#21475;&#12290;
      <tt class="literal">wsdlDocumentUrl</tt>&#26159;WSDL&#25991;&#20214;&#30340;URL. Spring&#38656;&#35201;&#29992;&#23427;&#20316;&#20026;&#21551;&#21160;&#28857;&#26469;&#21019;&#24314;JAX-RPC&#26381;&#21153;&#12290;
      <tt class="literal">namespaceUri</tt>&#23545;&#24212;.wsdl&#25991;&#20214;&#20013;&#30340;targetNamespace&#12290;
      <tt class="literal">serviceName</tt> &#23545;&#24212;.wsdl&#25991;&#20214;&#20013;&#30340;&#26381;&#21153;&#21517;&#12290;
      <tt class="literal">portName</tt> &#23545;&#24212;.wsdl&#25991;&#20214;&#20013;&#30340;&#31471;&#21475;&#21495;&#12290;
      </p><p>&#29616;&#22312;&#25105;&#20204;&#21487;&#20197;&#24456;&#26041;&#20415;&#30340;&#35775;&#38382;web&#26381;&#21153;&#65292;&#22240;&#20026;&#25105;&#20204;&#26377;&#19968;&#20010;&#21487;&#20197;&#23558;&#23427;&#26292;&#38706;&#20026;<tt class="literal">RemoteAccountService</tt>&#25509;&#21475;&#30340;bean&#24037;&#21378;&#12290;&#25105;&#20204;&#21487;&#20197;&#22312;Spring&#20013;&#36825;&#26679;&#20351;&#29992;&#65306;</p><pre class="programlisting">&lt;bean id="client" class="example.AccountClientImpl"&gt;
    ...
    &lt;property name="service" ref="accountWebService"/&gt;
&lt;/bean&gt;</pre><p>&#20174;&#23458;&#25143;&#31471;&#20195;&#30721;&#19978;&#30475;&#65292;&#38500;&#20102;&#23427;&#25243;&#20986;<tt class="exceptionname">RemoteException</tt>&#65292;&#25105;&#20204;&#21487;&#20197;&#25226;&#36825;&#20010;web&#26381;&#21153;&#24403;&#25104;&#19968;&#20010;&#26222;&#36890;&#30340;&#31867;&#36827;&#34892;&#35775;&#65292;&#12290;</p><pre class="programlisting">public class AccountClientImpl {

    private RemoteAccountService service;
    
    public void setService(RemoteAccountService service) {
        this.service = service;
    }
    
    public void foo() {
        try {
            service.insertAccount(...);
        }
        catch (RemoteException ex) {
            <i class="lineannotation"><span class="lineannotation">// ouch</span></i>
        }
    }
}
</pre><p>&#25105;&#20204;&#21487;&#20197;&#19981;&#26816;&#26597;&#21463;&#25511;&#24322;&#24120;<tt class="exceptionname">RemoteException</tt>&#65292;&#22240;&#20026;Spring&#23558;&#23427;&#33258;&#21160;&#36716;&#25442;&#25104;&#30456;&#24212;&#30340;&#38750;&#21463;&#25511;&#24322;&#24120;<tt class="exceptionname">RemoteException</tt>&#12290;&#36825;&#20063;&#38656;&#35201;&#25105;&#20204;&#25552;&#20379;&#19968;&#20010;&#38750;RMI&#30340;&#25509;&#21475;&#12290;&#29616;&#22312;&#37197;&#32622;&#25991;&#20214;&#22914;&#19979;&#65306;</p><pre class="programlisting">&lt;bean id="accountWebService" class="org.springframework.remoting.jaxrpc.JaxRpcPortProxyFactoryBean"&gt;
    &lt;property name="serviceInterface" value="example.AccountService"/&gt;
    &lt;property name="portInterface" value="example.RemoteAccountService"/&gt;
&lt;/bean&gt;</pre><p>&#25105;&#20204;&#30340;<tt class="literal">serviceInterface</tt>&#21464;&#25104;&#20102;&#38750;RMI&#25509;&#21475;&#12290;&#25105;&#20204;&#30340;RMI&#25509;&#21475;&#29616;&#22312;&#20351;&#29992;<tt class="literal">portInterface</tt>&#23646;&#24615;&#26469;&#23450;&#20041;&#12290;&#25105;&#20204;&#30340;&#23458;&#25143;&#31471;&#20195;&#30721;&#21487;&#20197;&#36991;&#20813;&#22788;&#29702;&#24322;&#24120;<tt class="exceptionname">java.rmi.RemoteException</tt>:</p><pre class="programlisting">public class AccountClientImpl {

    private AccountService service;
    
    public void setService(AccountService service) {
        this.service = service;
    }
    
    public void foo() {
        service.insertAccount(...);
    }
}</pre><p>&#35831;&#27880;&#24847;&#20320;&#20063;&#21487;&#20197;&#21435;&#25481;"portInterface"&#37096;&#20998;&#24182;&#25351;&#23450;&#19968;&#20010;&#26222;&#36890;&#19994;&#21153;&#25509;&#21475;&#20316;&#20026;"serviceInterface"&#12290;&#36825;&#26679;<tt class="classname">JaxRpcPortProxyFactoryBean</tt>&#23558;&#33258;&#21160;&#20999;&#25442;&#21040;JAX-RPC "&#21160;&#24577;&#35843;&#29992;&#25509;&#21475;", &#19981;&#20351;&#29992;&#22266;&#23450;&#31471;&#21475;&#23384;&#26681;&#26469;&#36827;&#34892;&#21160;&#24577;&#35843;&#29992;&#12290;&#36825;&#26679;&#20570;&#30340;&#22909;&#22788;&#26159;&#20320;&#29978;&#33267;&#19981;&#38656;&#35201;&#20351;&#29992;&#19968;&#20010;RMI&#30456;&#20851;&#30340;Java&#25509;&#21475;&#65288;&#27604;&#22914;&#22312;&#38750;Java&#30340;&#30446;&#26631;web&#26381;&#21153;&#20013;&#65289;&#65307;&#20320;&#21482;&#38656;&#35201;&#19968;&#20010;&#21305;&#37197;&#30340;&#19994;&#21153;&#25509;&#21475;&#12290;&#26597;&#30475;<tt class="classname">JaxRpcPortProxyFactoryBean</tt>&#30340;javadoc&#26469;&#20102;&#35299;&#36816;&#34892;&#26102;&#23454;&#34892;&#30340;&#32454;&#33410;&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="remoting-web-services-jaxrpc-mapping-registration"></a>17.5.3.&nbsp;&#27880;&#20876;JAX-RPC Bean&#26144;&#23556;</h3></div></div><div></div></div><p>T&#20026;&#20102;&#20256;&#36882;&#31867;&#20284;<tt class="classname">Account</tt>&#31561;&#22797;&#26434;&#23545;&#35937;&#65292;&#25105;&#20204;&#24517;&#39035;&#22312;&#23458;&#25143;&#31471;&#27880;&#20876;bean&#26144;&#23556;&#12290;</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="../images/admons/note.png"></td><th align="left">Note</th></tr><tr><td colspan="2" align="left" valign="top"><p>&#22312;&#26381;&#21153;&#22120;&#31471;&#36890;&#24120;&#22312;<tt class="filename">'server-config.wsdd'</tt>&#20013;&#20351;&#29992;Axis&#36827;&#34892;bean&#26144;&#23556;&#27880;&#20876;&#12290;</p></td></tr></table></div><p>&#25105;&#20204;&#23558;&#20351;&#29992;Axis&#22312;&#23458;&#25143;&#31471;&#27880;&#20876;bean&#26144;&#23556;&#12290;&#20026;&#27492;&#65292;&#25105;&#20204;&#38656;&#35201;&#36890;&#36807;&#31243;&#24207;&#27880;&#20876;&#36825;&#20010;bean&#26144;&#23556;:</p><pre class="programlisting">public class AxisPortProxyFactoryBean extends JaxRpcPortProxyFactoryBean {

    protected void postProcessJaxRpcService(Service service) {
        TypeMappingRegistry registry = service.getTypeMappingRegistry();
        TypeMapping mapping = registry.createTypeMapping();
        registerBeanMapping(mapping, Account.class, "Account");
        registry.register("http://schemas.xmlsoap.org/soap/encoding/", mapping);
    }

    protected void registerBeanMapping(TypeMapping mapping, Class type, String name) {
        QName qName = new QName("http://localhost:8080/account/services/accountService", name);
        mapping.register(type, qName,
                new BeanSerializerFactory(type, qName),
                new BeanDeserializerFactory(type, qName));
    }
}</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="remoting-web-services-jaxrpc-handler-registration"></a>17.5.4.&nbsp;&#27880;&#20876;&#33258;&#24049;&#30340;JAX-RPC &#22788;&#29702;&#22120;</h3></div></div><div></div></div><p>&#26412;&#33410;&#20013;&#65292;&#25105;&#20204;&#23558;&#27880;&#20876;&#33258;&#24049;&#30340;<tt class="interfacename">javax.rpc.xml.handler.Handler</tt> &#21040;Web&#26381;&#21153;&#20195;&#29702;&#65292;&#36825;&#26679;&#25105;&#20204;&#21487;&#20197;&#22312;SOAP&#28040;&#24687;&#34987;&#21457;&#36865;&#21069;&#25191;&#34892;&#23450;&#21046;&#30340;&#20195;&#30721;&#12290;<tt class="interfacename">Handler</tt>&#26159;&#19968;&#20010;&#22238;&#35843;&#25509;&#21475;&#12290;<tt class="filename">jaxrpc.jar</tt>&#20013;&#26377;&#20010;&#26041;&#20415;&#30340;&#22522;&#31867;<tt class="classname">javax.rpc.xml.handler.GenericHandler</tt>&#20379;&#25105;&#20204;&#32487;&#25215;&#20351;&#29992;&#65306;</p><pre class="programlisting">public class AccountHandler extends GenericHandler {

    public QName[] getHeaders() {
        return null;
    }

    public boolean handleRequest(MessageContext context) {
        SOAPMessageContext smc = (SOAPMessageContext) context;
        SOAPMessage msg = smc.getMessage();
        try {
            SOAPEnvelope envelope = msg.getSOAPPart().getEnvelope();
            SOAPHeader header = envelope.getHeader();
            ...
        }
        catch (SOAPException ex) {
            throw new JAXRPCException(ex);
        }
        return true;
    }
}</pre><p>&#25105;&#20204;&#29616;&#22312;&#35201;&#20570;&#30340;&#23601;&#26159;&#25226;AccountHandler&#27880;&#20876;&#21040;JAX-RPC&#26381;&#21153;&#65292;&#36825;&#26679;&#23427;&#21487;&#20197;&#22312;&#28040;&#24687;&#34987;&#21457;&#36865;&#21069;&#35843;&#29992; <tt class="methodname">handleRequest(..)</tt>&#12290;Spring&#30446;&#21069;&#23545;&#27880;&#20876;&#22788;&#29702;&#26041;&#27861;&#36824;&#19981;&#25552;&#20379;&#22768;&#26126;&#24335;&#25903;&#25345;&#65292;&#25152;&#20197;&#25105;&#20204;&#24517;&#39035;&#20351;&#29992;&#32534;&#31243;&#26041;&#24335;&#12290;&#20294;&#26159;Spring&#20013;&#36825;&#24456;&#23481;&#26131;&#23454;&#29616;&#65292;&#25105;&#20204;&#21482;&#38656;&#35206;&#20889;&#19987;&#38376;&#20026;&#27492;&#35774;&#35745;&#30340; <tt class="methodname">postProcessJaxRpcService(..)</tt> &#26041;&#27861;&#65306;</p><pre class="programlisting">public class AccountHandlerJaxRpcPortProxyFactoryBean extends JaxRpcPortProxyFactoryBean {

    protected void postProcessJaxRpcService(Service service) {
        QName port = new QName(this.getNamespaceUri(), this.getPortName());
        List list = service.getHandlerRegistry().getHandlerChain(port);
        list.add(new HandlerInfo(AccountHandler.class, null, null));
        logger.info("Registered JAX-RPC AccountHandler on port " + port);
    }
}</pre><p>&#26368;&#21518;&#65292;&#25105;&#20204;&#35201;&#35760;&#24471;&#26356;&#25913;Spring&#37197;&#32622;&#25991;&#20214;&#26469;&#20351;&#29992;&#25105;&#20204;&#30340;&#24037;&#21378;bean:</p><pre class="programlisting">&lt;bean id="accountWebService" class="example.AccountHandlerJaxRpcPortProxyFactoryBean"&gt;
    ...
&lt;/bean&gt;</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="remoting-web-services-jaxws-export-servlet"></a>17.5.5.&nbsp;&#20351;&#29992;JAX-WS&#26292;&#38706;&#22522;&#20110;servlet&#30340;web&#26381;&#21153;</h3></div></div><div></div></div><p>Spring&#20026;JAX-WS servlet&#31471;&#28857;&#23454;&#29616;&#25552;&#20379;&#20102;&#19968;&#20010;&#26041;&#20415;&#30340;&#22522;&#31867; - <tt class="classname">SpringBeanAutowiringSupport</tt>&#12290;&#35201;&#26292;&#38706;&#25105;&#20204;&#30340;<tt class="interfacename">AccountService</tt>&#25509;&#21475;&#65292;&#25105;&#20204;&#21487;&#20197;&#25193;&#23637;Spring&#30340;<tt class="classname">SpringBeanAutowiringSupport</tt>&#31867;&#24182;&#23454;&#29616;&#25105;&#20204;&#30340;&#19994;&#21153;&#36923;&#36753;&#65292;&#36890;&#24120;&#25226;&#35843;&#29992;&#20132;&#32473;&#19994;&#21153;&#23618;&#12290;&#25105;&#20204;&#23558;&#31616;&#21333;&#30340;&#20351;&#29992;Spring 2.5&#30340;<tt class="literal">@Autowired</tt>&#27880;&#35299;&#26469;&#22768;&#26126;&#20381;&#36182;&#20110;Spring&#31649;&#29702;&#30340;bean&#12290;</p><pre class="programlisting"><i class="lineannotation"><span class="lineannotation">/**
 * JAX-WS compliant AccountService implementation that simply delegates
 * to the AccountService implementation in the root web application context.
 *
 * This wrapper class is necessary because JAX-WS requires working with dedicated
 * endpoint classes. If an existing service needs to be exported, a wrapper that
 * extends SpringBeanAutowiringSupport for simple Spring bean autowiring (through
 * the @Autowired annotation) is the simplest JAX-WS compliant way.
 *
 * This is the class registered with the server-side JAX-WS implementation.
 * In the case of a Java EE 5 server, this would simply be defined as a servlet
 * in web.xml, with the server detecting that this is a JAX-WS endpoint and reacting
 * accordingly. The servlet name usually needs to match the specified WS service name.
 *
 * The web service engine manages the lifecycle of instances of this class.
 * Spring bean references will just be wired in here.
 */</span></i>import org.springframework.web.context.support.SpringBeanAutowiringSupport;

@WebService(serviceName="AccountService")
public class AccountServiceEndpoint extends SpringBeanAutowiringSupport {

    @Autowired
    private AccountService biz;

    @WebMethod
    public void insertAccount(Account acc) {
       biz.insertAccount(acc);
    }

    @WebMethod
    public Account[] getAccounts(String name) {
       return biz.getAccounts(name);
    }
}</pre><p>&#20026;&#20102;&#33021;&#22815;&#35753;Spring&#19978;&#19979;&#25991;&#20351;&#29992;Spring&#35774;&#26045;&#65292;&#25105;&#20204;&#30340;<tt class="classname">AccountServletEndpoint</tt>&#31867;&#38656;&#35201;&#36816;&#34892;&#22312;&#21516;&#19968;&#20010;web&#24212;&#29992;&#20013;&#12290;&#22312;Java EE 5&#29615;&#22659;&#20013;&#36825;&#26159;&#40664;&#35748;&#30340;&#24773;&#20917;&#65292;&#23427;&#20351;&#29992;JAX-WS servlet&#31471;&#28857;&#23433;&#35013;&#26631;&#20934;&#22865;&#32422;&#12290;&#35814;&#24773;&#35831;&#21442;&#38405;Java EE 5 web&#26381;&#21153;&#25945;&#31243;&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="remoting-web-services-jaxws-export-standalone"></a>17.5.6.&nbsp;&#20351;&#29992;JAX-WS&#26292;&#38706;&#21333;&#29420;web&#26381;&#21153;</h3></div></div><div></div></div><p>Sun JDK 1.6&#25552;&#20379;&#30340;&#20869;&#32622;JAX-WS provider &#20351;&#29992;&#20869;&#32622;&#30340;HTTP&#26381;&#21153;&#22120;&#26469;&#26292;&#38706;web&#26381;&#21153;&#12290;Spring&#30340;<tt class="classname">SimpleJaxWsServiceExporter</tt>&#31867;&#26816;&#27979;&#25152;&#26377;&#22312;Spring&#24212;&#29992;&#19978;&#19979;&#25991;&#20013;&#37197;&#32622;&#30340;l<tt class="literal">@WebService</tt> &#27880;&#35299;bean&#65292;&#28982;&#21518;&#36890;&#36807;&#40664;&#35748;&#30340;JAX-WS&#26381;&#21153;&#22120;&#65288;JDK 1.6 HTTP&#26381;&#21153;&#22120;&#65289;&#26469;&#26292;&#38706;&#23427;&#20204;&#12290;</p><p>&#22312;&#36825;&#31181;&#22330;&#26223;&#19979;&#65292;&#31471;&#28857;&#23454;&#20363;&#23558;&#34987;&#20316;&#20026;Spring bean&#26469;&#23450;&#20041;&#21644;&#31649;&#29702;&#12290;&#23427;&#20204;&#23558;&#20351;&#29992;JAX-WS&#26469;&#27880;&#20876;&#65292;&#20294;&#20854;&#29983;&#21629;&#21608;&#26399;&#23558;&#19968;&#30452;&#36319;&#38543;Spring&#24212;&#29992;&#19978;&#19979;&#25991;&#12290;&#36825;&#24847;&#21619;&#30528;Spring&#30340;&#26174;&#31034;&#20381;&#36182;&#27880;&#20837;&#21487;&#29992;&#20110;&#31471;&#28857;&#23454;&#20363;&#12290;&#24403;&#28982;&#36890;&#36807;<tt class="literal">@Autowired</tt>&#26469;&#36827;&#34892;&#27880;&#35299;&#39537;&#21160;&#30340;&#27880;&#20837;&#20063;&#21487;&#20197;&#27491;&#24120;&#24037;&#20316;&#12290;</p><pre class="programlisting">&lt;bean class="org.springframework.remoting.jaxws.SimpleJaxWsServiceExporter"&gt;
    &lt;property name="baseAddress" value="http://localhost:9999/"/&gt;
&lt;/bean&gt;

&lt;bean id="accountServiceEndpoint" class="example.AccountServiceEndpoint"&gt;
    ...
&lt;/bean&gt;

...</pre><p><tt class="classname">AccountServiceEndpoint</tt>&#31867;&#21487;&#33021;&#28304;&#33258;Spring&#30340; <tt class="classname">SpringBeanAutowiringSupport</tt>&#31867;&#65292;&#20063;&#21487;&#33021;&#19981;&#26159;&#12290;&#22240;&#20026;&#36825;&#37324;&#30340;&#31471;&#28857;&#26159;&#30001;Spring&#23436;&#20840;&#31649;&#29702;&#30340;bean&#12290;&#36825;&#24847;&#21619;&#30528;&#31471;&#28857;&#23454;&#29616;&#21487;&#33021;&#20687;&#19979;&#38754;&#36825;&#26679;&#27809;&#26377;&#20219;&#20309;&#29238;&#31867;&#23450;&#20041; - &#32780;&#19988;Spring&#30340;<tt class="literal">@Autowired</tt>&#37197;&#32622;&#27880;&#35299;&#20173;&#28982;&#33021;&#22815;&#20351;&#29992;&#65306;</p><pre class="programlisting">@WebService(serviceName="AccountService")
public class AccountServiceEndpoint {

    @Autowired
    private AccountService biz;

    @WebMethod
    public void insertAccount(Account acc) {
       biz.insertAccount(acc);
    }

    @WebMethod
    public Account[] getAccounts(String name) {
       return biz.getAccounts(name);
    }
}</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="remoting-web-services-jaxws-export-ri"></a>17.5.7.&nbsp;&#20351;&#29992;Spring&#25903;&#25345;&#30340;JAX-WS RI&#26469;&#26292;&#38706;&#26381;&#21153;</h3></div></div><div></div></div><p>Sun&#30340;JAX-WS RI&#34987;&#20316;&#20026;GlassFish&#39033;&#30446;&#30340;&#19968;&#37096;&#20998;&#26469;&#24320;&#21457;,&#23427;&#20351;&#29992;&#20102;Spring&#25903;&#25345;&#26469;&#20316;&#20026;JAX-WS Commons&#39033;&#30446;&#30340;&#19968;&#37096;&#20998;&#12290;&#36825;&#20801;&#35768;&#25226;JAX-WS&#31471;&#28857;&#20316;&#20026;Spring&#31649;&#29702;&#30340;bean&#26469;&#23450;&#20041;&#12290;&#36825;&#19982;&#21069;&#38754;&#31456;&#33410;&#35752;&#35770;&#30340;&#21333;&#29420;&#27169;&#24335;&#31867;&#20284; - &#20294;&#36825;&#27425;&#26159;&#22312;Servlet&#29615;&#22659;&#20013;&#12290;<span class="emphasis"><em>&#27880;&#24847;&#36825;&#22312;Java EE 5&#29615;&#22659;&#20013;&#26159;&#19981;&#21487;&#36801;&#31227;&#30340;&#65292;&#24314;&#35758;&#22312;&#27809;&#26377;EE&#30340;web&#24212;&#29992;&#29615;&#22659;&#22914;Tomcat&#20013;&#23884;&#20837;JAX-WS RI&#12290;</em></span></p><p>&#19982;&#26631;&#20934;&#30340;&#26292;&#38706;&#22522;&#20110;servlet&#30340;&#31471;&#28857;&#26041;&#24335;&#19981;&#21516;&#20043;&#22788;&#22312;&#20110;&#31471;&#28857;&#23454;&#20363;&#30340;&#29983;&#21629;&#21608;&#26399;&#23558;&#34987;Spring&#31649;&#29702;&#12290;&#36825;&#37324;&#22312;<tt class="literal">web.xml</tt>&#23558;&#21482;&#26377;&#19968;&#20010;JAX-WS servlet&#23450;&#20041;&#12290;&#22312;&#26631;&#20934;&#30340;Java EE 5&#39118;&#26684;&#20013;(&#22914;&#19978;&#25152;&#31034;)&#65292;&#20320;&#23558;&#23545;&#27599;&#20010;&#26381;&#21153;&#31471;&#28857;&#23450;&#20041;&#19968;&#20010;servlet&#65292;&#27599;&#20010;&#26381;&#21153;&#31471;&#28857;&#37117;&#20195;&#29702;&#21040;Spring bean (&#36890;&#36807;&#20351;&#29992;<tt class="literal">@Autowired</tt>&#65292;&#22914;&#19978;&#25152;&#31034;)&#12290;</p><p>&#20851;&#20110;&#23433;&#35013;&#21644;&#20351;&#29992;&#35814;&#24773;&#35831;&#26597;&#38405;<a href="https://jax-ws-commons.dev.java.net/spring/" target="_top">https://jax-ws-commons.dev.java.net/spring/</a>&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="remoting-web-services-jaxws-access"></a>17.5.8.&nbsp;&#20351;&#29992;JAX-WS&#35775;&#38382;web&#26381;&#21153;</h3></div></div><div></div></div><p>&#31867;&#20284;JAX-RPC&#25903;&#25345;&#65292;Spring&#25552;&#20379;&#20102;2&#20010;&#24037;&#21378;bean&#26469;&#21019;&#24314;JAX-WS web&#26381;&#21153;&#20195;&#29702;&#65292;&#23427;&#20204;&#26159;<tt class="classname">LocalJaxWsServiceFactoryBean</tt>&#21644;<tt class="classname">JaxWsPortProxyFactoryBean</tt>&#12290;&#21069;&#19968;&#20010;&#21482;&#33021;&#36820;&#22238;&#19968;&#20010;JAX-WS&#26381;&#21153;&#23545;&#35937;&#26469;&#35753;&#25105;&#20204;&#20351;&#29992;&#12290;&#21518;&#38754;&#30340;&#26159;&#21487;&#20197;&#36820;&#22238;&#25105;&#20204;&#19994;&#21153;&#26381;&#21153;&#25509;&#21475;&#30340;&#20195;&#29702;&#23454;&#29616;&#30340;&#23436;&#25972;&#29256;&#26412;&#12290;&#36825;&#20010;&#20363;&#23376;&#20013;&#25105;&#20204;&#20351;&#29992;&#21518;&#32773;&#26469;&#20026;<tt class="interfacename">AccountService</tt>&#31471;&#28857;&#20877;&#21019;&#24314;&#19968;&#20010;&#20195;&#29702;&#65306;</p><pre class="programlisting">&lt;bean id="accountWebService" class="org.springframework.remoting.jaxws.JaxWsPortProxyFactoryBean"&gt;
    &lt;property name="serviceInterface" value="example.AccountService"/&gt;
    &lt;property name="wsdlDocumentUrl" value="http://localhost:8080/account/services/accountService?WSDL"/&gt;
    &lt;property name="namespaceUri" value="http://localhost:8080/account/services/accountService"/&gt;
    &lt;property name="serviceName" value="AccountService"/&gt;
    &lt;property name="portName" value="AccountPort"/&gt;
&lt;/bean&gt;</pre><p><tt class="literal">serviceInterface</tt>&#26159;&#25105;&#20204;&#23458;&#25143;&#31471;&#23558;&#20351;&#29992;&#30340;&#36828;&#31243;&#19994;&#21153;&#25509;&#21475;&#12290;
      <tt class="literal">wsdlDocumentUrl</tt>&#26159;WSDL&#25991;&#20214;&#30340;URL. Spring&#38656;&#35201;&#29992;&#23427;&#20316;&#20026;&#21551;&#21160;&#28857;&#26469;&#21019;&#24314;JAX-RPC&#26381;&#21153;&#12290;
      <tt class="literal">namespaceUri</tt>&#23545;&#24212;.wsdl&#25991;&#20214;&#20013;&#30340;targetNamespace&#12290;
      <tt class="literal">serviceName</tt> &#23545;&#24212;.wsdl&#25991;&#20214;&#20013;&#30340;&#26381;&#21153;&#21517;&#12290;
      <tt class="literal">portName</tt> &#23545;&#24212;.wsdl&#25991;&#20214;&#20013;&#30340;&#31471;&#21475;&#21495;&#12290;
      </p><p>&#29616;&#22312;&#25105;&#20204;&#21487;&#20197;&#24456;&#26041;&#20415;&#30340;&#35775;&#38382;web&#26381;&#21153;&#65292;&#22240;&#20026;&#25105;&#20204;&#26377;&#19968;&#20010;&#21487;&#20197;&#23558;&#23427;&#26292;&#38706;&#20026;<tt class="literal">AccountService</tt>&#25509;&#21475;&#30340;bean&#24037;&#21378;&#12290;&#25105;&#20204;&#21487;&#20197;&#22312;Spring&#20013;&#36825;&#26679;&#20351;&#29992;&#65306;</p><pre class="programlisting">&lt;bean id="client" class="example.AccountClientImpl"&gt;
    ...
    &lt;property name="service" ref="accountWebService"/&gt;
&lt;/bean&gt;</pre><p>&#20174;&#23458;&#25143;&#31471;&#20195;&#30721;&#19978;&#25105;&#20204;&#21487;&#20197;&#25226;&#36825;&#20010;web&#26381;&#21153;&#24403;&#25104;&#19968;&#20010;&#26222;&#36890;&#30340;&#31867;&#36827;&#34892;&#35775;&#38382;&#65306;</p><pre class="programlisting">public class AccountClientImpl {

    private AccountService service;

    public void setService(AccountService service) {
        this.service = service;
    }

    public void foo() {
        service.insertAccount(...);
    }
}</pre><p><span class="emphasis"><em>&#27880;&#24847;:</em></span> &#19978;&#38754;&#34987;&#31245;&#24494;&#31616;&#21270;&#20102;&#65292;&#22240;&#20026;JAX-WS&#38656;&#35201;&#31471;&#28857;&#25509;&#21475;&#21450;&#23454;&#29616;&#31867;&#26469;&#20351;&#29992;<tt class="literal">@WebService</tt>, <tt class="literal">@SOAPBinding</tt>&#31561;&#27880;&#35299;&#12290; &#36825;&#24847;&#21619;&#30528;&#20320;&#19981;&#33021;&#31616;&#21333;&#30340;&#20351;&#29992;&#26222;&#36890;&#30340;Java&#25509;&#21475;&#21644;&#23454;&#29616;&#26469;&#20316;&#20026;JAX-WS&#31471;&#28857;&#65292;&#20320;&#38656;&#35201;&#39318;&#20808;&#23545;&#23427;&#20204;&#36827;&#34892;&#30456;&#24212;&#30340;&#27880;&#35299;&#12290;&#36825;&#20123;&#38656;&#27714;&#35814;&#24773;&#35831;&#26597;&#38405;JAX-WS&#25991;&#26723;&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="remoting-web-services-xfire"></a>17.5.9.&nbsp;&#20351;&#29992;XFire&#26469;&#26292;&#38706;Web&#26381;&#21153;</h3></div></div><div></div></div><p>XFire&#26159;&#19968;&#20010;Codehaus&#25552;&#20379;&#30340;&#36731;&#37327;&#32423;SOAP&#24211;&#12290;&#26292;&#38706;XFire&#26159;&#36890;&#36807;XFire&#33258;&#24102;&#30340;context&#65292;&#36825;&#20010;context&#23558;&#21644;RemoteExporter&#39118;&#26684;&#30340;bean&#30456;&#32467;&#21512;&#65292;&#21518;&#32773;&#38656;&#35201;&#34987;&#21152;&#20837;&#21040;&#22312;&#20320;&#30340;<tt class="interfacename">WebApplicationContext</tt>&#20013;&#12290;&#23545;&#20110;&#25152;&#26377;&#35753;&#20320;&#26469;&#26292;&#38706;&#26381;&#21153;&#30340;&#26041;&#27861;&#65292;&#20320;&#38656;&#35201;&#21019;&#24314;&#19968;&#20010;<tt class="classname">DispatcherServlet</tt>&#31867;&#24182;&#26377;&#30456;&#24212;&#30340;<tt class="interfacename">WebApplicationContext</tt>&#26469;&#23553;&#35013;&#20320;&#23558;&#35201;&#26292;&#38706;&#30340;&#26381;&#21153;&#65306;</p><pre class="programlisting">&lt;servlet&gt;
    &lt;servlet-name&gt;xfire&lt;/servlet-name&gt;
    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;
&lt;/servlet&gt;</pre><p>&#20320;&#36824;&#24517;&#39035;&#38142;&#25509;XFire&#37197;&#32622;&#12290;&#36825;&#26159;&#36890;&#36807;&#22686;&#21152;&#19968;&#20010;context&#25991;&#20214;&#21040;&#30001;<tt class="classname">ContextLoaderListener</tt>&#65288;&#25110;&#32773;<tt class="classname">ContextLoaderServlet</tt>&#65289;&#21152;&#36733;&#30340; <tt class="literal">contextConfigLocations</tt> &#21442;&#25968;&#20013;&#12290;</p><pre class="programlisting">&lt;context-param&gt;
    &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;
    &lt;param-value&gt;classpath:org/codehaus/xfire/spring/xfire.xml&lt;/param-value&gt;
&lt;/context-param&gt;

&lt;listener&gt;
    &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;
&lt;/listener&gt;</pre><p>&#22312;&#20320;&#21152;&#20837;&#19968;&#20010;Servlet&#26144;&#23556;&#21518;&#65288;&#26144;&#23556;<tt class="literal">/*</tt>&#21040;&#19978;&#38754;&#23450;&#20041;&#30340;XFire Servlet&#65289;&#65292;&#20320;&#21482;&#38656;&#35201;&#22686;&#21152;&#19968;&#20010;&#39069;&#22806;&#30340;bean&#26469;&#20351;&#29992;XFire&#26292;&#38706;&#26381;&#21153;&#12290;&#20363;&#22914;&#65292;&#22312; <tt class="filename">'xfire-servlet.xml'</tt> &#20013;&#22686;&#21152;&#22914;&#19979;&#37197;&#32622;&#65306;</p><pre class="programlisting">&lt;beans&gt;

    &lt;bean name="/Echo" class="org.codehaus.xfire.spring.remoting.XFireExporter"&gt;
        &lt;property name="serviceInterface" value="org.codehaus.xfire.spring.Echo"/&gt;
        &lt;property name="serviceBean"&gt;
    	       &lt;bean class="org.codehaus.xfire.spring.EchoImpl"/&gt;
        &lt;/property&gt;
        <i class="lineannotation"><span class="lineannotation">&lt;!-- the XFire bean is defined in the <tt class="filename">xfire.xml</tt> file --&gt;</span></i>
        &lt;property name="xfire" ref="xfire"/&gt;
  &lt;/bean&gt;

&lt;/beans&gt;</pre><p>XFire&#22788;&#29702;&#20102;&#20854;&#20182;&#30340;&#20107;&#24773;&#12290;&#23427;&#26816;&#26597;&#20320;&#30340;&#26381;&#21153;&#25509;&#21475;&#24182;&#20135;&#29983;&#19968;&#20010;WSDL&#25991;&#20214;&#12290;&#36825;&#37324;&#30340;&#37096;&#20998;&#25991;&#26723;&#26469;&#33258;XFire&#32593;&#31449;&#65292;&#35201;&#20102;&#35299;&#26356;&#22810;&#26377;&#20851;XFire Spring&#30340;&#38598;&#25104;&#35831;&#35775;&#38382; <a href="http://docs.codehaus.org/display/XFIRE/Spring" target="_top">docs.codehaus.org/display/XFIRE/Spring</a>&#12290;</p></div></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="remoting-jms"></a>17.6.&nbsp;JMS</h2></div></div><div></div></div><p>&#20351;&#29992;JMS&#26469;&#20316;&#20026;&#24213;&#23618;&#30340;&#36890;&#20449;&#21327;&#35758;&#36879;&#26126;&#26292;&#38706;&#26381;&#21153;&#20063;&#26159;&#21487;&#33021;&#30340;&#12290;Spring&#26694;&#26550;&#20013;&#23545;JMS&#30340;&#36828;&#31243;&#25903;&#25345;&#20063;&#24456;&#22522;&#30784; - &#23427;&#22312;<span class="emphasis"><em>&#21516;&#19968;&#32447;&#31243;</em></span>&#21644;<span class="emphasis"><em>&#21516;&#19968;&#20010;&#38750;&#20107;&#21153;</em></span> <tt class="interfacename">Session</tt>&#19978;&#21457;&#36865;&#21644;&#25509;&#25910;&#65292;&#36825;&#20123;&#21534;&#21520;&#37327;&#23558;&#38750;&#24120;&#20381;&#36182;&#20110;&#23454;&#29616;&#12290;</p><p>The following interface is used on both the server and the client side.</p><p>&#19979;&#38754;&#30340;&#25509;&#21475;&#21487;&#21516;&#26102;&#29992;&#22312;&#26381;&#21153;&#31471;&#21644;&#23458;&#25143;&#31471;&#12290;</p><pre class="programlisting">package com.foo;

public interface CheckingAccountService {

    public void cancelAccount(Long accountId);
}</pre><p>&#23545;&#20110;&#19978;&#38754;&#25509;&#21475;&#30340;&#20351;&#29992;&#22312;&#26381;&#21153;&#30340;&#31471;&#31616;&#21333;&#23454;&#29616;&#22914;&#19979;&#12290;</p><pre class="programlisting">package com.foo;

public class SimpleCheckingAccountService implements CheckingAccountService {

    public void cancelAccount(Long accountId) {
        System.out.println("Cancelling account [" + accountId + "]");
    }
}</pre><p>&#36825;&#20010;&#21253;&#21547;JMS&#35774;&#26045;&#30340;bean&#30340;&#37197;&#32622;&#25991;&#20214;&#21487;&#21516;&#26102;&#29992;&#22312;&#23458;&#25143;&#31471;&#21644;&#26381;&#21153;&#31471;&#12290;</p><pre class="programlisting">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans-2.5.xsd"&gt;

    &lt;bean id="connectionFactory" class="org.apache.activemq.ActiveMQConnectionFactory"&gt;
        &lt;property name="brokerURL" value="tcp://ep-t43:61616"/&gt;
    &lt;/bean&gt;

    &lt;bean id="queue" class="org.apache.activemq.command.ActiveMQQueue"&gt;
        &lt;constructor-arg value="mmm"/&gt;
    &lt;/bean&gt;

&lt;/beans&gt;</pre><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="remoting-jms-server"></a>17.6.1.&nbsp;&#26381;&#21153;&#31471;&#37197;&#32622;</h3></div></div><div></div></div><p>&#22312;&#26381;&#21153;&#31471;&#20320;&#21482;&#38656;&#35201;&#20351;&#29992;<tt class="classname">JmsInvokerServiceExporter</tt>&#26469;&#26292;&#38706;&#26381;&#21153;&#23545;&#35937;&#12290;</p><pre class="programlisting">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://www.springframework.org/schema/beans
         http://www.springframework.org/schema/beans/spring-beans-2.5.xsd"&gt;

    &lt;bean id="checkingAccountService"
          class="org.springframework.jms.remoting.JmsInvokerServiceExporter"&gt;
        &lt;property name="serviceInterface" value="com.foo.CheckingAccountService"/&gt;
        &lt;property name="service"&gt;
            &lt;bean class="com.foo.SimpleCheckingAccountService"/&gt;
        &lt;/property&gt;
   &lt;/bean&gt;

   &lt;bean class="org.springframework.jms.listener.SimpleMessageListenerContainer"&gt;
       &lt;property name="connectionFactory" ref="connectionFactory"/&gt;
       &lt;property name="destination" ref="queue"/&gt;
       &lt;property name="concurrentConsumers" value="3"/&gt;
       &lt;property name="messageListener" ref="checkingAccountService"/&gt;
   &lt;/bean&gt;

&lt;/beans&gt;</pre><pre class="programlisting">package com.foo;

import org.springframework.context.support.ClassPathXmlApplicationContext;

public class Server {

    public static void main(String[] args) throws Exception {
        new ClassPathXmlApplicationContext(new String[]{"com/foo/server.xml", "com/foo/jms.xml"});
    }
}</pre></div><div class="section" lang="en"><div class="titlepage"><div><div><h3 class="title"><a name="remoting-jms-client"></a>17.6.2.&nbsp;&#23458;&#25143;&#31471;&#37197;&#32622;</h3></div></div><div></div></div><p>&#23458;&#25143;&#31471;&#20165;&#20165;&#38656;&#35201;&#21019;&#24314;&#19968;&#20010;&#23458;&#25143;&#31471;&#20195;&#29702;&#26469;&#23454;&#29616;&#19978;&#38754;&#30340;&#25509;&#21475;(<tt class="interfacename">CheckingAccountService</tt>)&#12290;&#26681;&#25454;&#21518;&#38754;&#30340;bean&#23450;&#20041;&#21019;&#24314;&#30340;&#32467;&#26524;&#23545;&#35937;&#21487;&#20197;&#34987;&#27880;&#20837;&#21040;&#20854;&#23427;&#23458;&#25143;&#31471;&#23545;&#35937;&#20013;&#65292;&#32780;&#36825;&#20010;&#20195;&#29702;&#20250;&#36127;&#36131;&#36890;&#36807;JMS&#23558;&#35843;&#29992;&#36716;&#21457;&#21040;&#26381;&#21153;&#31471;&#12290;</p><pre class="programlisting">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;beans xmlns="http://www.springframework.org/schema/beans"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans-2.5.xsd"&gt;

    &lt;bean id="checkingAccountService"
          class="org.springframework.jms.remoting.JmsInvokerProxyFactoryBean"&gt;
        &lt;property name="serviceInterface" value="com.foo.CheckingAccountService"/&gt;
        &lt;property name="connectionFactory" ref="connectionFactory"/&gt;
        &lt;property name="queue" ref="queue"/&gt;
    &lt;/bean&gt;

&lt;/beans&gt;</pre><pre class="programlisting">package com.foo;

import org.springframework.context.ApplicationContext;
import org.springframework.context.support.ClassPathXmlApplicationContext;

public class Client {

    public static void main(String[] args) throws Exception {
        ApplicationContext ctx = new ClassPathXmlApplicationContext(
                new String[] {"com/foo/client.xml", "com/foo/jms.xml"});
        CheckingAccountService service = (CheckingAccountService) ctx.getBean("checkingAccountService");
        service.cancelAccount(new Long(10));
    }
}</pre></div><p>&#20320;&#21487;&#33021;&#20063;&#24076;&#26395;&#30740;&#31350;<a href="http://lingo.codehaus.org/" target="_top">Lingo</a> &#39033;&#30446;&#25552;&#20379;&#30340;&#25903;&#25345;&#65292;&#23427;(&#24341;&#29992;&#21040;&#20027;&#39029;) &#8220;<span class="quote"><span class="emphasis"><em>... &#26159;&#19968;&#20010;&#22522;&#20110;&#36731;&#37327;&#32423;POJO&#30340;&#36828;&#31243;&#26680;&#28040;&#24687;&#20195;&#30721;&#24211;&#65292;&#23427;&#20351;&#29992;&#24182;&#25193;&#23637;&#20102;Spring&#26694;&#26550;&#30340;&#36828;&#31243;&#20195;&#30721;&#24211;&#20197;&#25903;&#25345;JMS&#12290;</em></span></span>&#8221;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="remoting-autodection-remote-interfaces"></a>17.7.&nbsp;&#23545;&#36828;&#31243;&#25509;&#21475;&#19981;&#25552;&#20379;&#33258;&#21160;&#25506;&#27979;&#23454;&#29616;</h2></div></div><div></div></div><p>&#23545;&#36828;&#31243;&#25509;&#21475;&#19981;&#23454;&#29616;&#33258;&#21160;&#25506;&#27979;&#30340;&#20027;&#35201;&#21407;&#22240;&#26159;&#38450;&#27490;&#20135;&#29983;&#22826;&#22810;&#30340;&#36828;&#31243;&#35843;&#29992;&#12290;&#30446;&#26631;&#23545;&#35937;&#26377;&#21487;&#33021;&#23454;&#29616;&#30340;&#26159;&#31867;&#20284;<tt class="interfacename">InitializingBean</tt>&#25110;&#32773;<tt class="interfacename">DisposableBean</tt>&#36825;&#26679;&#30340;&#20869;&#37096;&#22238;&#35843;&#25509;&#21475;&#65292;&#32780;&#36825;&#20123;&#26159;&#19981;&#24076;&#26395;&#26292;&#38706;&#32473;&#35843;&#29992;&#32773;&#30340;&#12290;</p><p>&#25552;&#20379;&#19968;&#20010;&#25152;&#26377;&#25509;&#21475;&#37117;&#34987;&#30446;&#26631;&#23454;&#29616;&#30340;&#20195;&#29702;&#36890;&#24120;&#21644;&#26412;&#22320;&#24773;&#20917;&#26080;&#20851;&#12290;&#20294;&#26159;&#24403;&#26292;&#38706;&#19968;&#20010;&#36828;&#31243;&#26381;&#21153;&#26102;&#65292;&#20320;&#24212;&#35813;&#21482;&#26292;&#38706;&#29305;&#23450;&#30340;&#29992;&#20110;&#36828;&#31243;&#20351;&#29992;&#30340;&#26381;&#21153;&#25509;&#21475;&#12290;&#38500;&#20102;&#20869;&#37096;&#22238;&#35843;&#25509;&#21475;&#65292;&#30446;&#26631;&#26377;&#21487;&#33021;&#23454;&#29616;&#20102;&#22810;&#20010;&#19994;&#21153;&#25509;&#21475;&#65292;&#32780;&#24448;&#24448;&#21482;&#26377;&#19968;&#20010;&#26159;&#29992;&#20110;&#36828;&#31243;&#35843;&#29992;&#30340;&#12290;&#20986;&#20110;&#36825;&#20123;&#21407;&#22240;&#65292;&#25105;&#20204; <span class="emphasis"><em>&#35201;&#27714;</em></span> &#25351;&#23450;&#36825;&#26679;&#30340;&#26381;&#21153;&#25509;&#21475;&#12290;</p><p>&#36825;&#26159;&#22312;&#37197;&#32622;&#26041;&#20415;&#24615;&#21644;&#24847;&#22806;&#26292;&#38706;&#20869;&#37096;&#26041;&#27861;&#30340;&#21361;&#38505;&#24615;&#20043;&#38388;&#20316;&#30340;&#24179;&#34913;&#12290;&#24635;&#26159;&#25351;&#26126;&#26381;&#21153;&#25509;&#21475;&#24182;&#19981;&#35201;&#33457;&#22826;&#22823;&#20195;&#20215;&#65292;&#24182;&#21487;&#20197;&#35753;&#20320;&#25511;&#21046;&#38656;&#26292;&#38706;&#26041;&#27861;&#20174;&#32780;&#26356;&#21152;&#23433;&#20840;&#12290;</p></div><div class="section" lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="remoting-considerations"></a>17.8.&nbsp;&#22312;&#36873;&#25321;&#36825;&#20123;&#25216;&#26415;&#26102;&#30340;&#19968;&#20123;&#32771;&#34385;</h2></div></div><div></div></div><p>&#36825;&#37324;&#25552;&#21040;&#30340;&#27599;&#31181;&#25216;&#26415;&#37117;&#26377;&#23427;&#30340;&#32570;&#28857;&#12290;&#20320;&#22312;&#36873;&#25321;&#19968;&#31181;&#25216;&#26415;&#26102;&#65292;&#24212;&#35813;&#20180;&#32454;&#32771;&#34385;&#20320;&#30340;&#38656;&#35201;&#21644;&#25152;&#26292;&#38706;&#30340;&#26381;&#21153;&#21450;&#20320;&#22312;&#36828;&#31243;&#35775;&#38382;&#26102;&#20256;&#36865;&#30340;&#23545;&#35937;&#12290;</p><p>
		&#24403;&#20351;&#29992;RMI&#26102;&#65292;&#36890;&#36807;HTTP&#21327;&#35758;&#35775;&#38382;&#23545;&#35937;&#26159;&#19981;&#21487;&#33021;&#30340;&#65292;&#38500;&#38750;&#20320;&#29992;HTTP&#21253;&#35065;RMI&#27969;&#12290;RMI&#26159;&#19968;&#31181;&#37325;&#37327;&#32423;&#21327;&#35758;&#65292;&#22240;&#20026;&#23427;&#25903;&#25345;&#25972;&#20010;&#23545;&#35937;&#30340;&#24207;&#21015;&#21270;&#65292;&#24403;&#35201;&#27714;&#32593;&#32476;&#19978;&#20256;&#36755;&#22797;&#26434;&#25968;&#25454;&#32467;&#26500;&#26102;&#36825;&#26159;&#38750;&#24120;&#37325;&#35201;&#30340;&#12290;&#28982;&#32780;&#65292;RMI-JRMP&#21482;&#33021;&#32465;&#23450;&#21040;Java&#23458;&#25143;&#31471;&#65306;&#23427;&#26159;&#19968;&#31181;Java-to-Java&#30340;&#36828;&#31243;&#35775;&#38382;&#35299;&#20915;&#26041;&#26696;&#12290;</p><p>&#22914;&#26524;&#20320;&#38656;&#35201;&#22522;&#20110;HTTP&#30340;&#36828;&#31243;&#35775;&#38382;&#32780;&#19988;&#36824;&#35201;&#27714;&#20351;&#29992;Java&#24207;&#21015;&#21270;&#65292;Spring&#30340;HTTP&#35843;&#29992;&#22120;&#26159;&#19968;&#20010;&#24456;&#22909;&#30340;&#36873;&#25321;&#12290;&#23427;&#21644;RMI&#35843;&#29992;&#22120;&#20351;&#29992;&#30456;&#21516;&#30340;&#22522;&#30784;&#35774;&#26045;&#65292;&#20165;&#20165;&#20351;&#29992;HTTP&#20316;&#20026;&#20256;&#36755;&#26041;&#24335;&#12290;&#27880;&#24847;HTTP&#35843;&#29992;&#22120;&#19981;&#20165;&#21482;&#33021;&#29992;&#22312;Java-to-Java&#30340;&#36828;&#31243;&#35775;&#38382;&#65292;&#32780;&#19988;&#22312;&#23458;&#25143;&#31471;&#21644;&#26381;&#21153;&#22120;&#31471;&#37117;&#24517;&#39035;&#20351;&#29992;Spring&#12290;&#65288;Spring&#20026;&#38750;RMI&#25509;&#21475;&#25552;&#20379;&#30340;RMI&#35843;&#29992;&#22120;&#20063;&#35201;&#27714;&#23458;&#25143;&#31471;&#21644;&#26381;&#21153;&#22120;&#31471;&#37117;&#20351;&#29992;Spring&#65289;</p><p>&#22312;&#20351;&#29992;&#26381;&#21153;&#38598;&#32676;&#21644;&#38656;&#35201;JMS&#20195;&#29702;&#65288;JMS broker&#65289;&#26469;&#22788;&#29702;&#36127;&#36733;&#22343;&#34913;&#21450;&#21457;&#29616;&#21644;&#33258;&#21160;-&#22833;&#36133;&#24674;&#22797;&#26381;&#21153;&#26102;JMS&#26159;&#24456;&#26377;&#29992;&#30340;&#12290;&#32570;&#30465;&#24773;&#20917;&#19979;&#65292;&#22312;&#20351;&#29992;JMS&#36828;&#31243;&#26381;&#21153;&#26102;&#20351;&#29992;Java&#24207;&#21015;&#21270;&#65292;&#20294;&#26159;JMS&#25552;&#20379;&#32773;&#20063;&#21487;&#20197;&#20351;&#29992;&#19981;&#21516;&#30340;&#26426;&#21046;&#20363;&#22914;XStream&#26469;&#35753;&#26381;&#21153;&#22120;&#29992;&#20854;&#20182;&#25216;&#26415;&#12290;</p><p>&#26368;&#21518;&#20294;&#19981;&#20165;&#38480;&#20110;&#27492;&#65292;&#30456;&#23545;&#20110;RMI&#65292;EJB&#26377;&#19968;&#20010;&#20248;&#28857;&#26159;&#23427;&#25903;&#25345;&#26631;&#20934;&#30340;&#22522;&#20110;&#35282;&#33394;&#30340;&#35748;&#35777;&#21644;&#25480;&#26435;&#65292;&#20197;&#21450;&#36828;&#31243;&#20107;&#21153;&#20256;&#36882;&#12290;&#29992;RMI&#35843;&#29992;&#22120;&#25110;HTTP&#35843;&#29992;&#22120;&#26469;&#25903;&#25345;&#23433;&#20840;&#19978;&#19979;&#25991;&#30340;&#20256;&#36882;&#26159;&#21487;&#33021;&#30340;&#65292;&#34429;&#28982;&#36825;&#19981;&#30001;&#26680;&#24515;Spring&#25552;&#20379;&#65306;Spring&#25552;&#20379;&#20102;&#21512;&#36866;&#30340;&#38057;&#23376;&#26469;&#25554;&#20837;&#31532;&#19977;&#26041;&#25110;&#23450;&#21046;&#30340;&#35299;&#20915;&#26041;&#26696;&#12290;</p></div></div><div xmlns="http://www.w3.org/TR/xhtml1/transitional" class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="spring-integration.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="ejb.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">Part&nbsp;IV.&nbsp;&#25972;&#21512;&nbsp;</td><td width="20%" align="center"><span style="color:white;font-size:90%;"><a href="http://www.springsource.com/" title="SpringSource">Sponsored by SpringSource</a></span></td><td width="40%" align="right" valign="top">&nbsp;Chapter&nbsp;18.&nbsp;Enterprise Java Beans (EJB) &#38598;&#25104;</td></tr></table></div></body></html>